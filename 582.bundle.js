"use strict";(self.webpackChunkpipes=self.webpackChunkpipes||[]).push([[582],{2067:(e,t,r)=>{r.d(t,{Ls:()=>n,_Q:()=>i,mA:()=>s});const n={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},i={...n,vertex:{...n.vertex,header:n.vertex.header.replace("group(1)","group(2)")}},s={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},2206:(e,t,r)=>{var n=r(8507),i=r(2289),s=r(8422);class o extends s.K{constructor(e){super(),this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){const{canvasText:e}=this._renderer;e.getReferenceCount(this.currentKey)>0?e.decreaseReferenceCount(this.currentKey):this.texture&&e.returnTexture(this.texture),this._renderer.runners.resolutionChange.remove(this),this._renderer=null}}class a{constructor(e){this._renderer=e}validateRenderable(e){const t=this._getGpuText(e),r=e.styleKey;return t.currentKey!==r||e._didTextUpdate}addRenderable(e,t){const r=this._getGpuText(e);if(e._didTextUpdate){const t=e._autoResolution?this._renderer.resolution:e.resolution;r.currentKey===e.styleKey&&e.resolution===t||this._updateGpuText(e),e._didTextUpdate=!1,(0,i.s)(r,e)}this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e);t._batcher.updateElement(t)}_updateGpuText(e){const t=this._getGpuText(e);t.texture&&this._renderer.canvasText.decreaseReferenceCount(t.currentKey),e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,t.texture=this._renderer.canvasText.getManagedTexture(e),t.currentKey=e.styleKey}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new o(this._renderer);return t.currentKey="--",t.renderable=e,t.transform=e.groupTransform,t.bounds={minX:0,maxX:1,minY:0,maxY:0},t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}a.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"text"};var u=r(2437),l=r(218),d=r(4670),h=r(8291),c=r(2558),p=r(9492);class f{constructor(e){this._activeTextures={},this._renderer=e}getTexture(e,t,r,n){"string"==typeof e&&((0,d.t6)("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:t}),e.style instanceof h.x||(e.style=new h.x(e.style)),e.textureStyle instanceof l.n||(e.textureStyle=new l.n(e.textureStyle)),"string"!=typeof e.text&&(e.text=e.text.toString());const{text:i,style:s,textureStyle:o}=e,a=e.resolution??this._renderer.resolution,{frame:u,canvasAndContext:f}=p.v.getCanvasAndContext({text:i,style:s,resolution:a}),g=(0,c.M)(f.canvas,u.width,u.height,a);if(o&&(g.source.style=o),s.trim&&(u.pad(s.padding),g.frame.copyFrom(u),g.frame.scale(1/a),g.updateUvs()),s.filters){const e=this._applyFilters(g,s.filters);return this.returnTexture(g),p.v.returnCanvasAndContext(f),e}return this._renderer.texture.initSource(g._source),p.v.returnCanvasAndContext(f),g}returnTexture(e){const t=e.source;t.resource=null,t.uploadMethodId="unknown",t.alphaMode="no-premultiply-alpha",u.W.returnTexture(e,!0)}renderTextToCanvas(){(0,d.t6)("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}getManagedTexture(e){e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const t=e.styleKey;if(this._activeTextures[t])return this._increaseReferenceCount(t),this._activeTextures[t].texture;const r=this.getTexture({text:e.text,style:e.style,resolution:e._resolution,textureStyle:e.textureStyle});return this._activeTextures[t]={texture:r,usageCount:1},r}decreaseReferenceCount(e){const t=this._activeTextures[e];t.usageCount--,0===t.usageCount&&(this.returnTexture(t.texture),this._activeTextures[e]=null)}getReferenceCount(e){return this._activeTextures[e]?.usageCount??0}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}_applyFilters(e,t){const r=this._renderer.renderTarget.renderTarget,n=this._renderer.filter.generateFilteredTexture({texture:e,filters:t});return this._renderer.renderTarget.bind(r,!1),n}destroy(){this._renderer=null;for(const e in this._activeTextures)this._activeTextures[e]&&this.returnTexture(this._activeTextures[e].texture);this._activeTextures=null}}f.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"canvasText"},n.XO.add(f),n.XO.add(a)},2289:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(2048);function i(e,t){const{texture:r,bounds:i}=e,s=t._style._getFinalPadding();(0,n.y)(i,t._anchor,r);const o=t._anchor._x*s*2,a=t._anchor._y*s*2;i.minX-=s-o,i.minY-=s-a,i.maxX-=s-o,i.maxY-=s-a}},2558:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(2437);const i=new(r(9636).c);function s(e,t,r,s){const o=i;o.minX=0,o.minY=0,o.maxX=e.width/s|0,o.maxY=e.height/s|0;const a=n.W.getOptimalTexture(o.width,o.height,s,!1);return a.source.uploadMethodId="image",a.source.resource=e,a.source.alphaMode="premultiply-alpha-on-upload",a.frame.width=t/s,a.frame.height=r/s,a.source.emit("update",a.source),a.updateUvs(),a}},2623:(e,t,r)=>{var n=r(8507),i=r(5589),s=r(2289),o=r(8422);class a extends o.K{constructor(e){super(),this.generatingTexture=!1,this.currentKey="--",this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){const{htmlText:e}=this._renderer;null===e.getReferenceCount(this.currentKey)?e.returnTexturePromise(this.texturePromise):e.decreaseReferenceCount(this.currentKey),this._renderer.runners.resolutionChange.remove(this),this.texturePromise=null,this._renderer=null}}class u{constructor(e){this._renderer=e}validateRenderable(e){const t=this._getGpuText(e),r=e.styleKey;return t.currentKey!==r}addRenderable(e,t){const r=this._getGpuText(e);if(e._didTextUpdate){const t=e._autoResolution?this._renderer.resolution:e.resolution;r.currentKey===e.styleKey&&e.resolution===t||this._updateGpuText(e).catch(e=>{console.error(e)}),e._didTextUpdate=!1,(0,s.s)(r,e)}this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuText(e);t._batcher.updateElement(t)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;const r=t.texturePromise;t.texturePromise=null,t.generatingTexture=!0,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;let n=this._renderer.htmlText.getTexturePromise(e);r&&(n=n.finally(()=>{this._renderer.htmlText.decreaseReferenceCount(t.currentKey),this._renderer.htmlText.returnTexturePromise(r)})),t.texturePromise=n,t.currentKey=e.styleKey,t.texture=await n;const i=e.renderGroup||e.parentRenderGroup;i&&(i.structureDidChange=!0),t.generatingTexture=!1,(0,s.s)(t,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new a(this._renderer);return t.renderable=e,t.transform=e.groupTransform,t.texture=i.g.EMPTY,t.bounds={minX:0,maxX:1,minY:0,maxY:0},t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}u.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"htmlText"};var l=r(7608),d=r(2437),h=r(5099),c=r(1761),p=r(268),f=r(8655),g=r(2558);const m="http://www.w3.org/2000/svg",x="http://www.w3.org/1999/xhtml";class _{constructor(){this.svgRoot=document.createElementNS(m,"svg"),this.foreignObject=document.createElementNS(m,"foreignObject"),this.domElement=document.createElementNS(x,"div"),this.styleElement=document.createElementNS(x,"style");const{foreignObject:e,svgRoot:t,styleElement:r,domElement:n}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(r),e.appendChild(n),this.image=c.e.get().createImage()}destroy(){this.svgRoot.remove(),this.foreignObject.remove(),this.styleElement.remove(),this.domElement.remove(),this.image.src="",this.image.remove(),this.svgRoot=null,this.foreignObject=null,this.styleElement=null,this.domElement=null,this.image=null,this.canvasAndContext=null}}var v=r(1979);const b=new Map;let y;class T{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===h.W.WEBGPU}getTexture(e){return this.getTexturePromise(e)}getManagedTexture(e){const t=e.styleKey;if(this._activeTextures[t])return this._increaseReferenceCount(t),this._activeTextures[t].promise;const r=this._buildTexturePromise(e).then(e=>(this._activeTextures[t].texture=e,e));return this._activeTextures[t]={texture:null,promise:r,usageCount:1},r}getReferenceCount(e){return this._activeTextures[e]?.usageCount??null}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const t=this._activeTextures[e];t&&(t.usageCount--,0===t.usageCount&&(t.texture?this._cleanUp(t.texture):t.promise.then(e=>{t.texture=e,this._cleanUp(t.texture)}).catch(()=>{(0,p.R)("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[e]=null))}getTexturePromise(e){return this._buildTexturePromise(e)}async _buildTexturePromise(e){const{text:t,style:r,resolution:n,textureStyle:i}=e,s=f.Z.get(_),o=function(e,t){const r=t.fontFamily,n=[],i={},s=e.match(/font-family:([^;"\s]+)/g);function o(e){i[e]||(n.push(e),i[e]=!0)}if(Array.isArray(r))for(let e=0;e<r.length;e++)o(r[e]);else o(r);s&&s.forEach(e=>{o(e.split(":")[1].trim())});for(const e in t.tagStyles)o(t.tagStyles[e].fontFamily);return n}(t,r),a=await async function(e){const t=e.filter(e=>v.l.has(`${e}-and-url`)).map(e=>{if(!b.has(e)){const{entries:t}=v.l.get(`${e}-and-url`),r=[];t.forEach(t=>{const n=t.url,i=t.faces.map(e=>({weight:e.weight,style:e.style}));r.push(...i.map(t=>async function(e,t){const r=await async function(e){const t=await c.e.get().fetch(e),r=await t.blob(),n=new FileReader;return await new Promise((e,t)=>{n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)})}(t);return`@font-face {\n        font-family: "${e.fontFamily}";\n        font-weight: ${e.fontWeight};\n        font-style: ${e.fontStyle};\n        src: url('${r}');\n    }`}({fontWeight:t.weight,fontStyle:t.style,fontFamily:e},n)))}),b.set(e,Promise.all(r).then(e=>e.join("\n")))}return b.get(e)});return(await Promise.all(t)).join("\n")}(o),u=function(e,t,r,n){n||(n=y||(y=new _));const{domElement:i,styleElement:s,svgRoot:o}=n;i.innerHTML=`<style>${t.cssStyle};</style><div style='padding:0'>${e}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),r&&(s.textContent=r),document.body.appendChild(o);const a=i.getBoundingClientRect();o.remove();const u=2*t.padding;return{width:a.width-u,height:a.height-u}}(t,r,a,s),d=Math.ceil(Math.ceil(Math.max(1,u.width)+2*r.padding)*n),h=Math.ceil(Math.ceil(Math.max(1,u.height)+2*r.padding)*n),p=s.image;p.width=2+(0|d),p.height=2+(0|h);const m=function(e,t,r,n,i){const{domElement:s,styleElement:o,svgRoot:a}=i;s.innerHTML=`<style>${t.cssStyle}</style><div style='padding:0;'>${e}</div>`,s.setAttribute("style",`transform: scale(${r});transform-origin: top left; display: inline-block`),o.textContent=n;const{width:u,height:l}=i.image;return a.setAttribute("width",u.toString()),a.setAttribute("height",l.toString()),(new XMLSerializer).serializeToString(a)}(t,r,n,a,s);await function(e,t,r){return new Promise(async n=>{r&&await new Promise(e=>setTimeout(e,100)),e.onload=()=>{n()},e.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(t)}`,e.crossOrigin="anonymous"})}(p,m,function(){const{userAgent:e}=c.e.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}()&&o.length>0);const x=p;let T;this._createCanvas&&(T=function(e,t){const r=l.N.getOptimalCanvasAndContext(e.width,e.height,t),{context:n}=r;return n.clearRect(0,0,e.width,e.height),n.drawImage(e,0,0),r}(p,n));const w=(0,g.M)(T?T.canvas:x,p.width-2,p.height-2,n);return i&&(w.source.style=i),this._createCanvas&&(this._renderer.texture.initSource(w.source),l.N.returnCanvasAndContext(T)),f.Z.return(s),w}returnTexturePromise(e){e.then(e=>{this._cleanUp(e)}).catch(()=>{(0,p.R)("HTMLTextSystem: Failed to clean texture")})}_cleanUp(e){d.W.returnTexture(e,!0),e.source.resource=null,e.source.uploadMethodId="unknown"}destroy(){this._renderer=null;for(const e in this._activeTextures)this._activeTextures[e]&&this.returnTexturePromise(this._activeTextures[e].promise);this._activeTextures=null}}T.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"htmlText"},n.XO.add(T),n.XO.add(u)},2760:(e,t,r)=>{function n(e,t,r){const n=(e>>24&255)/255;t[r++]=(255&e)/255*n,t[r++]=(e>>8&255)/255*n,t[r++]=(e>>16&255)/255*n,t[r++]=n}r.d(t,{V:()=>n})},3859:(e,t,r)=>{var n=r(8507);class i{constructor(e){this._renderer=e}push(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}i.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"filter"};var s=r(9113),o=r(3012),a=r(6554),u="struct GlobalFilterUniforms {\n  uInputSize: vec4<f32>,\n  uInputPixel: vec4<f32>,\n  uInputClamp: vec4<f32>,\n  uOutputFrame: vec4<f32>,\n  uGlobalFrame: vec4<f32>,\n  uOutputTexture: vec4<f32>,\n};\n\n@group(0) @binding(0) var <uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler: sampler;\n\nstruct VSOutput {\n  @builtin(position) position: vec4<f32>,\n  @location(0) uv: vec2<f32>\n};\n\nfn filterVertexPosition(aPosition: vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0 * gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord(aPosition: vec2<f32>) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition: vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n) -> @location(0) vec4<f32> {\n    return textureSample(uTexture, uSampler, uv);\n}\n";class l extends a.d{constructor(){super({gpuProgram:o.B.from({vertex:{source:u,entryPoint:"mainVertex"},fragment:{source:u,entryPoint:"mainFragment"},name:"passthrough-filter"}),glProgram:s.M.from({vertex:"in vec2 aPosition;\nout vec2 vTextureCoord;\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",fragment:"in vec2 vTextureCoord;\nout vec4 finalColor;\nuniform sampler2D uTexture;\nvoid main() {\n    finalColor = texture(uTexture, vTextureCoord);\n}\n",name:"passthrough-filter"})})}}var d=r(9313),h=r(3513),c=r(6011),p=r(5811),f=r(5589),g=r(2437),m=r(5099),x=r(9636);const _=new d.u;var v=r(268);const b=new c.V({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class y{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new x.c,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0},this.firstEnabledIndex=-1,this.lastEnabledIndex=-1}}class T{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new p.k({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new h.T({}),this.renderer=e}get activeBackTexture(){return this._activeFilterData?.backTexture}push(e){const t=this.renderer,r=e.filterEffect.filters,n=this._pushFilterData();n.skip=!1,n.filters=r,n.container=e.container,n.outputRenderSurface=t.renderTarget.renderSurface;const i=t.renderTarget.renderTarget.colorTexture.source,s=i.resolution,o=i.antialias;if(r.every(e=>!e.enabled))return void(n.skip=!0);const a=n.bounds;if(this._calculateFilterArea(e,a),this._calculateFilterBounds(n,t.renderTarget.rootViewPort,o,s,1),n.skip)return;const u=this._getPreviousFilterData(),l=this._findFilterResolution(s);let d=0,h=0;u&&(d=u.bounds.minX,h=u.bounds.minY),this._calculateGlobalFrame(n,d,h,l,i.width,i.height),this._setupFilterTextures(n,a,t,u)}generateFilteredTexture({texture:e,filters:t}){const r=this._pushFilterData();this._activeFilterData=r,r.skip=!1,r.filters=t;const n=e.source,i=n.resolution,s=n.antialias;if(t.every(e=>!e.enabled))return r.skip=!0,e;const o=r.bounds;if(o.addRect(e.frame),this._calculateFilterBounds(r,o.rectangle,s,i,0),r.skip)return e;const a=i;this._calculateGlobalFrame(r,0,0,a,n.width,n.height),r.outputRenderSurface=g.W.getOptimalTexture(o.width,o.height,r.resolution,r.antialias),r.backTexture=f.g.EMPTY,r.inputTexture=e,this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(r,!0);const u=r.outputRenderSurface;return u.source.alphaMode="premultiplied-alpha",u}pop(){const e=this.renderer,t=this._popFilterData();t.skip||(e.globalUniforms.pop(),e.renderTarget.finishRenderPass(),this._activeFilterData=t,this._applyFiltersToTexture(t,!1),t.blendRequired&&g.W.returnTexture(t.backTexture),g.W.returnTexture(t.inputTexture))}getBackTexture(e,t,r){const n=e.colorTexture.source._resolution,i=g.W.getOptimalTexture(t.width,t.height,n,!1);let s=t.minX,o=t.minY;r&&(s-=r.minX,o-=r.minY),s=Math.floor(s*n),o=Math.floor(o*n);const a=Math.ceil(t.width*n),u=Math.ceil(t.height*n);return this.renderer.renderTarget.copyToTexture(e,i,{x:s,y:o},{width:a,height:u},{x:0,y:0}),i}applyFilter(e,t,r,n){const i=this.renderer,s=this._activeFilterData,o=s.outputRenderSurface===r,a=i.renderTarget.rootRenderTarget.colorTexture.source._resolution,u=this._findFilterResolution(a);let l=0,d=0;if(o){const e=this._findPreviousFilterOffset();l=e.x,d=e.y}this._updateFilterUniforms(t,r,s,l,d,u,o,n);const h=e.enabled?e:this._getPassthroughFilter();this._setupBindGroupsAndRender(h,t,i)}calculateSpriteMatrix(e,t){const r=this._activeFilterData,n=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),i=t.worldTransform.copyTo(d.u.shared),s=t.renderGroup||t.parentRenderGroup;return s&&s.cacheToLocalTransform&&i.prepend(s.cacheToLocalTransform),i.invert(),n.prepend(i),n.scale(1/t.texture.orig.width,1/t.texture.orig.height),n.translate(t.anchor.x,t.anchor.y),n}destroy(){this._passthroughFilter?.destroy(!0),this._passthroughFilter=null}_getPassthroughFilter(){return this._passthroughFilter??(this._passthroughFilter=new l),this._passthroughFilter}_setupBindGroupsAndRender(e,t,r){if(r.renderPipes.uniformBatch){const e=r.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,r.encoder.draw({geometry:b,shader:e,state:e._state,topology:"triangle-list"}),r.type===m.W.WEBGL&&r.renderTarget.finishRenderPass()}_setupFilterTextures(e,t,r,n){if(e.backTexture=f.g.EMPTY,e.inputTexture=g.W.getOptimalTexture(t.width,t.height,e.resolution,e.antialias),e.blendRequired){r.renderTarget.finishRenderPass();const i=r.renderTarget.getRenderTarget(e.outputRenderSurface);e.backTexture=this.getBackTexture(i,t,n?.bounds)}r.renderTarget.bind(e.inputTexture,!0),r.globalUniforms.push({offset:t})}_calculateGlobalFrame(e,t,r,n,i,s){const o=e.globalFrame;o.x=t*n,o.y=r*n,o.width=i*n,o.height=s*n}_updateFilterUniforms(e,t,r,n,i,s,o,a){const u=this._filterGlobalUniforms.uniforms,l=u.uOutputFrame,d=u.uInputSize,h=u.uInputPixel,c=u.uInputClamp,p=u.uGlobalFrame,g=u.uOutputTexture;o?(l[0]=r.bounds.minX-n,l[1]=r.bounds.minY-i):(l[0]=0,l[1]=0),l[2]=e.frame.width,l[3]=e.frame.height,d[0]=e.source.width,d[1]=e.source.height,d[2]=1/d[0],d[3]=1/d[1],h[0]=e.source.pixelWidth,h[1]=e.source.pixelHeight,h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=e.frame.width*d[2]-.5*h[2],c[3]=e.frame.height*d[3]-.5*h[3];const m=this.renderer.renderTarget.rootRenderTarget.colorTexture;p[0]=n*s,p[1]=i*s,p[2]=m.source.width*s,p[3]=m.source.height*s,t instanceof f.g&&(t.source.resource=null);const x=this.renderer.renderTarget.getRenderTarget(t);this.renderer.renderTarget.bind(t,!!a),t instanceof f.g?(g[0]=t.frame.width,g[1]=t.frame.height):(g[0]=x.width,g[1]=x.height),g[2]=x.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(e){let t=this._filterStackIndex-1;for(;t>0&&this._filterStack[t].skip;)--t;return t>0&&this._filterStack[t].inputTexture?this._filterStack[t].inputTexture.source._resolution:e}_findPreviousFilterOffset(){let e=0,t=0,r=this._filterStackIndex;for(;r>0;){r--;const n=this._filterStack[r];if(!n.skip){e=n.bounds.minX,t=n.bounds.minY;break}}return{x:e,y:t}}_calculateFilterArea(e,t){if(e.renderables?function(e,t){t.clear();const r=t.matrix;for(let r=0;r<e.length;r++){const n=e[r];if(n.globalDisplayStatus<7)continue;const i=n.renderGroup??n.parentRenderGroup;t.matrix=i?.isCachedAsTexture?_.copyFrom(i.textureOffsetInverseTransform).append(n.worldTransform):i?._parentCacheAsTextureRenderGroup?_.copyFrom(i._parentCacheAsTextureRenderGroup.inverseWorldTransform).append(n.groupTransform):n.worldTransform,t.addBounds(n.bounds)}t.matrix=r}(e.renderables,t):e.filterEffect.filterArea?(t.clear(),t.addRect(e.filterEffect.filterArea),t.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,t),e.container){const r=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;r&&t.applyMatrix(r)}}_applyFiltersToTexture(e,t){const r=e.inputTexture,n=e.bounds,i=e.filters,s=e.firstEnabledIndex,o=e.lastEnabledIndex;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(e.backTexture.source,3),s===o)i[s].apply(this,r,e.outputRenderSurface,t);else{let r=e.inputTexture;const a=g.W.getOptimalTexture(n.width,n.height,r.source._resolution,!1);let u=a;for(let e=s;e<o;e++){const t=i[e];if(!t.enabled)continue;t.apply(this,r,u,!0);const n=r;r=u,u=n}i[o].apply(this,r,e.outputRenderSurface,t),g.W.returnTexture(a)}}_calculateFilterBounds(e,t,r,n,i){const s=this.renderer,o=e.bounds,a=e.filters;let u=1/0,l=0,d=!0,h=!1,c=!1,p=!0,f=-1,g=-1;for(let e=0;e<a.length;e++){const t=a[e];if(t.enabled){if(-1===f&&(f=e),g=e,u=Math.min(u,"inherit"===t.resolution?n:t.resolution),l+=t.padding,"off"===t.antialias?d=!1:"inherit"===t.antialias&&d&&(d=r),t.clipToViewport||(p=!1),!(t.compatibleRenderers&s.type)){c=!1;break}if(t.blendRequired&&!(s.backBuffer?.useBackBuffer??1)){(0,v.R)("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),c=!1;break}c=!0,h||(h=t.blendRequired)}}c?(p&&o.fitBounds(0,t.width/n,0,t.height/n),o.scale(u).ceil().scale(1/u).pad((0|l)*i),o.isPositive?(e.antialias=d,e.resolution=u,e.blendRequired=h,e.firstEnabledIndex=f,e.lastEnabledIndex=g):e.skip=!0):e.skip=!0}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let e,t=this._filterStackIndex-1;for(;t>0&&(t--,e=this._filterStack[t],e.skip););return e}_pushFilterData(){let e=this._filterStack[this._filterStackIndex];return e||(e=this._filterStack[this._filterStackIndex]=new y),this._filterStackIndex++,e}}T.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"filter"},n.XO.add(T),n.XO.add(i)},4732:(e,t,r)=>{var n=r(8507);class i{static init(e){Object.defineProperty(this,"resizeTo",{configurable:!0,set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this._cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:n}=this._resizeTo;e=r,t=n}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}i.extension=n.Ag.Application;var s=r(4458),o=r(7309);class a{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{configurable:!0,set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,s.d.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?o.R.shared:new o.R,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}a.extension=n.Ag.Application,n.XO.add(i),n.XO.add(a)},5060:(e,t,r)=>{r.d(t,{u:()=>u});var n=r(949),i=r(1132),s=r(6011),o=r(4670);const a=class e extends s.V{constructor(...t){let r=t[0]??{};r instanceof Float32Array&&((0,o.t6)(o.lj,"use new MeshGeometry({ positions, uvs, indices }) instead"),r={positions:r,uvs:t[1],indices:t[2]}),r={...e.defaultOptions,...r};const s=r.positions||new Float32Array([0,0,1,0,1,1,0,1]);let a=r.uvs;a||(a=r.positions?new Float32Array(s.length):new Float32Array([0,0,1,0,1,1,0,1]));const u=r.indices||new Uint32Array([0,1,2,0,2,3]),l=r.shrinkBuffersToFit;super({attributes:{aPosition:{buffer:new n.h({data:s,label:"attribute-mesh-positions",shrinkToFit:l,usage:i.S.VERTEX|i.S.COPY_DST}),format:"float32x2",stride:8,offset:0},aUV:{buffer:new n.h({data:a,label:"attribute-mesh-uvs",shrinkToFit:l,usage:i.S.VERTEX|i.S.COPY_DST}),format:"float32x2",stride:8,offset:0}},indexBuffer:new n.h({data:u,label:"index-mesh-buffer",shrinkToFit:l,usage:i.S.INDEX|i.S.COPY_DST}),topology:r.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};a.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let u=a},5285:(e,t,r)=>{var n=r(8507),i=r(9313),s=r(3513),o=r(5811),a=r(8639),u=r(2760),l=r(8734);class d{destroy(){}}class h{constructor(e,t){this.localUniforms=new o.k({uTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new s.T({0:this.localUniforms}),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=this._getMeshData(e),r=t.batched,n=e.batched;if(t.batched=n,r!==n)return!0;if(n){const r=e._geometry;if(r.indices.length!==t.indexSize||r.positions.length!==t.vertexSize)return t.indexSize=r.indices.length,t.vertexSize=r.positions.length,!0;const n=this._getBatchableMesh(e);return n.texture.uid!==e._texture.uid&&(n._textureMatrixUpdateId=-1),!n._batcher.checkAndUpdateTexture(n,e._texture)}return!1}addRenderable(e,t){const r=this.renderer.renderPipes.batch,n=this._getMeshData(e);if(e.didViewUpdate&&(n.indexSize=e._geometry.indices?.length,n.vertexSize=e._geometry.positions?.length),n.batched){const n=this._getBatchableMesh(e);n.setTexture(e._texture),n.geometry=e._geometry,r.addToBatch(n,t)}else r.break(t),t.add(e)}updateRenderable(e){if(e.batched){const t=this._getBatchableMesh(e);t.setTexture(e._texture),t.geometry=e._geometry,t._batcher.updateElement(t)}}execute(e){if(!e.isRenderable)return;e.state.blendMode=(0,a.i)(e.groupBlendMode,e.texture._source);const t=this.localUniforms;t.uniforms.uTransformMatrix=e.groupTransform,t.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,t.update(),(0,u.V)(e.groupColorAlpha,t.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){var t,r;return(t=e._gpuData)[r=this.renderer.uid]||(t[r]=new d),e._gpuData[this.renderer.uid].meshData||this._initMeshData(e)}_initMeshData(e){return e._gpuData[this.renderer.uid].meshData={batched:e.batched,indexSize:0,vertexSize:0},e._gpuData[this.renderer.uid].meshData}_getBatchableMesh(e){var t,r;return(t=e._gpuData)[r=this.renderer.uid]||(t[r]=new d),e._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=new l.U;return t.renderable=e,t.setTexture(e._texture),t.transform=e.groupTransform,t.roundPixels=this.renderer._roundPixels|e._roundPixels,e._gpuData[this.renderer.uid].batchableMesh=t,t}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}h.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"mesh"},n.XO.add(h)},6444:(e,t,r)=>{var n=r(8507),i=r(1979),s=r(9408),o=r(4016),a=r(9313),u=r(5611),l=r(4459),d=r(4e3),h=r(6665),c=r(6040),p=r(8475),f=r(5811);const g={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:"\n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        "}},m={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:"\n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        "}},x={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n\n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n\n            }\n        "}},_={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n\n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n            }\n        "}};let v,b;class y extends p.M{constructor(e){const t=new f.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new a.u,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});v??(v=(0,u.v)({name:"sdf-shader",bits:[l.F,(0,d._)(e),g,x,h.b]})),b??(b=(0,u.I)({name:"sdf-shader",bits:[l.a,(0,d.P)(e),m,_,h.m]})),super({glProgram:b,gpuProgram:v,resources:{localUniforms:t,batchSamplers:(0,c.n)(e)}})}}var T=r(1312),w=r(2763);class C extends s.A{destroy(){this.context.customShader&&this.context.customShader.destroy(),super.destroy()}}class P{constructor(e){this._renderer=e}validateRenderable(e){const t=this._getGpuBitmapText(e);return this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const r=this._getGpuBitmapText(e);S(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,t),r.context.customShader&&this._updateDistanceField(e)}updateRenderable(e){const t=this._getGpuBitmapText(e);S(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:r}=t,n=T.c.getFont(e.text,e._style);r.clear(),"none"!==n.distanceField.type&&(r.customShader||(r.customShader=new y(this._renderer.limits.maxBatchableTextures)));const i=o.P.graphemeSegmenter(e.text),s=e._style;let a=n.baseLineOffset;const u=(0,w.Z)(i,s,n,!0),l=s.padding,d=u.scale;let h=u.width,c=u.height+u.offsetY;s._stroke&&(h+=s._stroke.width/d,c+=s._stroke.width/d),r.translate(-e._anchor._x*h-l,-e._anchor._y*c-l).scale(d,d);const p=n.applyFillAsTint?s._fill.color:16777215;let f=n.fontMetrics.fontSize,g=n.lineHeight;s.lineHeight&&(f=s.fontSize/d,g=s.lineHeight/d);let m=(g-f)/2;m-n.baseLineOffset<0&&(m=0);for(let e=0;e<u.lines.length;e++){const t=u.lines[e];for(let e=0;e<t.charPositions.length;e++){const i=t.chars[e],s=n.chars[i];if(s?.texture){const n=s.texture;r.texture(n,p||"black",Math.round(t.charPositions[e]+s.xOffset),Math.round(a+s.yOffset+m),n.orig.width,n.orig.height)}}a+=g}}_getGpuBitmapText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new C;return e._gpuData[this._renderer.uid]=t,this._updateContext(e,t),t}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,r=e._style.fontFamily,n=i.l.get(`${r}-bitmap`),{a:s,b:o,c:a,d:u}=e.groupTransform,l=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+u*u),h=(Math.abs(l)+Math.abs(d))/2,c=n.baseRenderedFontSize/e._style.fontSize,p=h*n.distanceField.range*(1/c);t.customShader.resources.localUniforms.uniforms.uDistance=p}destroy(){this._renderer=null}}function S(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}P.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"bitmapText"},n.XO.add(P)},6554:(e,t,r)=>{r.d(t,{d:()=>u});var n=r(9113),i=r(3012),s=r(8475),o=r(7547);const a=class e extends s.M{constructor(t){super(t={...e.defaultOptions,...t}),this.enabled=!0,this._state=o.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"==typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1),t.blendRequired&&this.addResource("uBackTexture",0,3)}apply(e,t,r,n){e.applyFilter(this,t,r,n)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:r,gl:s,...o}=t;let a,u;return r&&(a=i.B.from(r)),s&&(u=n.M.from(s)),new e({gpuProgram:a,glProgram:u,...o})}};a.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let u=a},7252:(e,t,r)=>{var n=r(8507),i=r(8734),s=r(4670),o=r(5060);const a=class e extends o.u{constructor(...e){super({});let t=e[0]??{};"number"==typeof t&&((0,s.t6)(s.lj,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),t={width:t,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(t)}build(t){t={...e.defaultOptions,...t},this.verticesX=this.verticesX??t.verticesX,this.verticesY=this.verticesY??t.verticesY,this.width=this.width??t.width,this.height=this.height??t.height;const r=this.verticesX*this.verticesY,n=[],i=[],s=[],o=this.verticesX-1,a=this.verticesY-1,u=this.width/o,l=this.height/a;for(let e=0;e<r;e++){const t=e%this.verticesX,r=e/this.verticesX|0;n.push(t*u,r*l),i.push(t/o,r/a)}const d=o*a;for(let e=0;e<d;e++){const t=e%o,r=e/o|0,n=r*this.verticesX+t,i=r*this.verticesX+t+1,a=(r+1)*this.verticesX+t,u=(r+1)*this.verticesX+t+1;s.push(n,i,a,i,u,a)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};a.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let u=a;const l=class e extends u{constructor(t={}){super({width:(t={...e.defaultOptions,...t}).width,height:t.height,verticesX:4,verticesY:4}),this.update(t)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this._anchorX=e.anchor?.x,this._anchorY=e.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:t,height:r,_leftWidth:n,_rightWidth:i,_topHeight:s,_bottomHeight:o,_anchorX:a,_anchorY:u}=this,l=n+i,d=t>l?1:t/l,h=s+o,c=r>h?1:r/h,p=Math.min(d,c),f=a*t,g=u*r;e[0]=e[8]=e[16]=e[24]=-f,e[2]=e[10]=e[18]=e[26]=n*p-f,e[4]=e[12]=e[20]=e[28]=t-i*p-f,e[6]=e[14]=e[22]=e[30]=t-f,e[1]=e[3]=e[5]=e[7]=-g,e[9]=e[11]=e[13]=e[15]=s*p-g,e[17]=e[19]=e[21]=e[23]=r-o*p-g,e[25]=e[27]=e[29]=e[31]=r-g,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const t=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=t*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-t*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};l.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let d=l;class h extends i.U{constructor(){super(),this.geometry=new d}destroy(){this.geometry.destroy()}}class c{constructor(e){this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.geometry.update(e),t.setTexture(e._texture)}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=e._gpuData[this._renderer.uid]=new h,r=t;return r.renderable=e,r.transform=e.groupTransform,r.texture=e._texture,r.roundPixels=this._renderer._roundPixels|e._roundPixels,e.didViewUpdate||this._updateBatchableSprite(e,r),t}destroy(){this._renderer=null}}c.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"nineSliceSprite"},n.XO.add(c)},7547:(e,t,r)=>{r.d(t,{U:()=>s});const n={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},i=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=n[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};i.default2d=i.for2d();let s=i},8422:(e,t,r)=>{r.d(t,{K:()=>n});class n{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}},8723:(e,t,r)=>{var n=r(8507),i=r(8639),s=r(7547),o=r(5099),a=r(2760),u=r(8734),l=r(5060),d=r(9313),h=r(5611),c=r(2067),p=r(6665),f=r(8475),g=r(5811),m=r(5589);const x={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            }\n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},_={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n\n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n\n        "}};let v,b;class y extends f.M{constructor(){v??(v=(0,h.v)({name:"tiling-sprite-shader",bits:[c.Ls,x,p.b]})),b??(b=(0,h.I)({name:"tiling-sprite-shader",bits:[c.mA,_,p.m]}));const e=new g.k({uMapCoord:{value:new d.u,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new d.u,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:b,gpuProgram:v,resources:{localUniforms:new g.k({uTransformMatrix:{value:new d.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:m.g.EMPTY.source,uSampler:m.g.EMPTY.source.style}})}updateUniforms(e,t,r,n,i,s){const o=this.resources.tilingUniforms,a=s.width,u=s.height,l=s.textureMatrix,d=o.uniforms.uTextureTransform;d.set(r.a*a/e,r.b*a/t,r.c*u/e,r.d*u/t,r.tx/e,r.ty/t),d.invert(),o.uniforms.uMapCoord=l.mapCoord,o.uniforms.uClampFrame=l.uClampFrame,o.uniforms.uClampOffset=l.uClampOffset,o.uniforms.uTextureTransform=d,o.uniforms.uSizeAnchor[0]=e,o.uniforms.uSizeAnchor[1]=t,o.uniforms.uSizeAnchor[2]=n,o.uniforms.uSizeAnchor[3]=i,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}class T extends l.u{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}const w=new T;class C{constructor(){this.canBatch=!0,this.geometry=new l.u({indices:w.indices.slice(),positions:w.positions.slice(),uvs:w.uvs.slice()})}destroy(){this.geometry.destroy(),this.shader?.destroy()}}class P{constructor(e){this._state=s.U.default2d,this._renderer=e}validateRenderable(e){const t=this._getTilingSpriteData(e),r=t.canBatch;this._updateCanBatch(e);const n=t.canBatch;if(n&&n===r){const{batchableMesh:r}=t;return!r._batcher.checkAndUpdateTexture(r,e.texture)}return r!==n}addRenderable(e,t){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const n=this._getTilingSpriteData(e),{geometry:i,canBatch:s}=n;if(s){n.batchableMesh||(n.batchableMesh=new u.U);const s=n.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),s.geometry=i,s.renderable=e,s.transform=e.groupTransform,s.setTexture(e._texture)),s.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(s,t)}else r.break(t),n.shader||(n.shader=new y),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._getTilingSpriteData(e);t.groups[0]=this._renderer.globalUniforms.bindGroup;const r=t.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,(0,a.V)(e.groupColorAlpha,r.uColor,0),this._state.blendMode=(0,i.i)(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:w,shader:t,state:this._state})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:r}=t;if(r){const{batchableMesh:r}=t;e.didViewUpdate&&this._updateBatchableMesh(e),r._batcher.updateElement(r)}else if(e.didViewUpdate){const{shader:r}=t;r.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}_getTilingSpriteData(e){return e._gpuData[this._renderer.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new C;return t.renderable=e,e._gpuData[this._renderer.uid]=t,t}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:r}=t,n=e.texture.source.style;"repeat"!==n.addressMode&&(n.addressMode="repeat",n.update()),function(e,t){const r=e.texture,n=r.frame.width,i=r.frame.height;let s=0,o=0;e.applyAnchorToTexture&&(s=e.anchor.x,o=e.anchor.y),t[0]=t[6]=-s,t[2]=t[4]=1-s,t[1]=t[3]=-o,t[5]=t[7]=1-o;const a=d.u.shared;a.copyFrom(e._tileTransform.matrix),a.tx/=e.width,a.ty/=e.height,a.invert(),a.scale(e.width/n,e.height/i),function(e,t,r,n){let i=0;const s=e.length/2,o=n.a,a=n.b,u=n.c,l=n.d,d=n.tx,h=n.ty;for(r*=2;i<s;){const t=e[r],n=e[r+1];e[r]=o*t+u*n+d,e[r+1]=a*t+l*n+h,r+=2,i++}}(t,0,0,a)}(e,r.uvs),function(e,t){const r=e.anchor.x,n=e.anchor.y;t[0]=-r*e.width,t[1]=-n*e.height,t[2]=(1-r)*e.width,t[3]=-n*e.height,t[4]=(1-r)*e.width,t[5]=(1-n)*e.height,t[6]=-r*e.width,t[7]=(1-n)*e.height}(e,r.positions)}destroy(){this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),r=e.texture;let n=!0;return this._renderer.type===o.W.WEBGL&&(n=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=r.textureMatrix.isSimple&&(n||r.source.isPowerOfTwo),t.canBatch}}P.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"tilingSprite"},n.XO.add(P)},8734:(e,t,r)=>{r.d(t,{U:()=>n});class n{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const e=this.geometry.getBuffer("aUV"),t=e.data;let r=t;const n=this.texture.textureMatrix;return n.isSimple||(r=this._transformedUvs,this._textureMatrixUpdateId===n._updateID&&this._uvUpdateId===e._updateID||((!r||r.length<t.length)&&(r=this._transformedUvs=new Float32Array(t.length)),this._textureMatrixUpdateId=n._updateID,this._uvUpdateId=e._updateID,n.multiplyUvs(t,r))),r}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},8928:(e,t,r)=>{var n=r(8507),i=r(6302),s=r(7547),o=r(8655),a=r(2760),u=r(6954);class l{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(e=>{o.Z.return(e)}),this.batches.length=0}}class d{constructor(e,t){this.state=s.U.for2d(),this.renderer=e,this._adaptor=t,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(e){const t=e.context,r=!!e._gpuData,n=this.renderer.graphicsContext.updateGpuContext(t);return!(!n.isBatchable&&r===n.isBatchable)}addRenderable(e,t){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),r.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._getGpuDataForRenderable(e).batches;for(let e=0;e<t.length;e++){const r=t[e];r._batcher.updateElement(r)}}execute(e){if(!e.isRenderable)return;const t=this.renderer,r=e.context;if(!t.graphicsContext.getGpuContext(r).batches.length)return;const n=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const i=n.resources.localUniforms.uniforms;i.uTransformMatrix=e.groupTransform,i.uRound=t._roundPixels|e._roundPixels,(0,a.V)(e.groupColorAlpha,i.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=this._getGpuDataForRenderable(e),r=this.renderer.graphicsContext.updateGpuContext(e.context);t.destroy(),r.isBatchable&&this._updateBatchesForRenderable(e,t)}_addToBatcher(e,t){const r=this.renderer.renderPipes.batch,n=this._getGpuDataForRenderable(e).batches;for(let e=0;e<n.length;e++){const i=n[e];r.addToBatch(i,t)}}_getGpuDataForRenderable(e){return e._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(e)}_initGpuDataForRenderable(e){const t=new l;return e._gpuData[this.renderer.uid]=t,t}_updateBatchesForRenderable(e,t){const r=e.context,n=this.renderer.graphicsContext.getGpuContext(r),i=this.renderer._roundPixels|e._roundPixels;t.batches=n.batches.map(t=>{const r=o.Z.get(u.G);return t.copyTo(r),r.renderable=e,r.roundPixels=i,r})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}d.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"graphics"},n.XO.add(d),n.XO.add(i.GH)},9305:(e,t,r)=>{var n=r(8507);class i{execute(e,t){const r=e.state,n=e.renderer,i=t.shader||e.defaultShader;i.resources.uTexture=t.texture._source,i.resources.uniforms=e.localUniforms;const s=n.gl,o=e.getBuffers(t);n.shader.bind(i),n.state.set(r),n.geometry.bind(o.geometry,i.glProgram);const a=2===o.geometry.indexBuffer.data.BYTES_PER_ELEMENT?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,6*t.particleChildren.length,a,0)}}var s=r(9313),o=r(5811),a=r(8639),u=r(7547),l=r(2760),d=r(949),h=r(1132),c=r(6011),p=r(8306),f=r(1460);function g(e,t=null){const r=6*e;if(r>65535?t||(t=new Uint32Array(r)):t||(t=new Uint16Array(r)),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let e=0,n=0;e<r;e+=6,n+=4)t[e+0]=n+0,t[e+1]=n+1,t[e+2]=n+2,t[e+3]=n+0,t[e+4]=n+2,t[e+5]=n+3;return t}function m(e,t){const r=[];r.push("\n\n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            ");let n=0;for(const i in e){const s=e[i];t===s.dynamic&&(r.push(`offset = index + ${n}`),r.push(s.code),n+=(0,p.m)(s.format).stride/4)}r.push("\n            index += stride * 4;\n        }\n    "),r.unshift(`\n        var stride = ${n};\n    `);const i=r.join("\n");return new Function("ps","f32v","u32v",i)}class x{constructor(e){this._size=0,this._generateParticleUpdateCache={};const t=this._size=e.size??1e3,r=e.properties;let n=0,i=0;for(const e in r){const t=r[e],s=(0,p.m)(t.format);t.dynamic?i+=s.stride:n+=s.stride}this._dynamicStride=i/4,this._staticStride=n/4,this.staticAttributeBuffer=new f.u(4*t*n),this.dynamicAttributeBuffer=new f.u(4*t*i),this.indexBuffer=g(t);const s=new c.V;let o=0,a=0;this._staticBuffer=new d.h({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:h.S.VERTEX|h.S.COPY_DST}),this._dynamicBuffer=new d.h({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:h.S.VERTEX|h.S.COPY_DST});for(const e in r){const t=r[e],n=(0,p.m)(t.format);t.dynamic?(s.addAttribute(t.attributeName,{buffer:this._dynamicBuffer,stride:4*this._dynamicStride,offset:4*o,format:t.format}),o+=n.size):(s.addAttribute(t.attributeName,{buffer:this._staticBuffer,stride:4*this._staticStride,offset:4*a,format:t.format}),a+=n.size)}s.addIndex(this.indexBuffer);const u=this.getParticleUpdate(r);this._dynamicUpload=u.dynamicUpdate,this._staticUpload=u.staticUpdate,this.geometry=s}getParticleUpdate(e){const t=function(e){const t=[];for(const r in e){const n=e[r];t.push(r,n.code,n.dynamic?"d":"s")}return t.join("_")}(e);return this._generateParticleUpdateCache[t]||(this._generateParticleUpdateCache[t]=this.generateParticleUpdate(e)),this._generateParticleUpdateCache[t]}generateParticleUpdate(e){return function(e){return{dynamicUpdate:m(e,!0),staticUpdate:m(e,!1)}}(e)}update(e,t){e.length>this._size&&(t=!0,this._size=Math.max(e.length,1.5*this._size|0),this.staticAttributeBuffer=new f.u(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new f.u(this._size*this._dynamicStride*4*4),this.indexBuffer=g(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const r=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,r.float32View,r.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),t){const t=this.staticAttributeBuffer;this._staticUpload(e,t.float32View,t.uint32View),this._staticBuffer.setDataWithSize(t.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}var _=r(2577),v=r(9113),b=r(3012),y=r(8475),T=r(5589),w=r(218),C="\nstruct ParticleUniforms {\n  uTranslationMatrix:mat3x3<f32>,\n  uColor:vec4<f32>,\n  uRound:f32,\n  uResolution:vec2<f32>,\n};\n\nfn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>\n{\n  return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n}\n\n@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;\n\n@group(1) @binding(0) var uTexture: texture_2d<f32>;\n@group(1) @binding(1) var uSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) color : vec4<f32>,\n  };\n@vertex\nfn mainVertex(\n  @location(0) aVertex: vec2<f32>,\n  @location(1) aPosition: vec2<f32>,\n  @location(2) aUV: vec2<f32>,\n  @location(3) aColor: vec4<f32>,\n  @location(4) aRotation: f32,\n) -> VSOutput {\n  \n   let v = vec2(\n       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),\n       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)\n   ) + aPosition;\n\n   var position = vec4((uniforms.uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n   if(uniforms.uRound == 1.0) {\n       position = vec4(roundPixels(position.xy, uniforms.uResolution), position.zw);\n   }\n\n    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;\n\n  return VSOutput(\n   position,\n   aUV,\n   vColor,\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) color: vec4<f32>,\n  @builtin(position) position: vec4<f32>,\n) -> @location(0) vec4<f32> {\n\n    var sample = textureSample(uTexture, uSampler, uv) * color;\n   \n    return sample;\n}";class P extends y.M{constructor(){super({glProgram:v.M.from({vertex:"attribute vec2 aVertex;\nattribute vec2 aUV;\nattribute vec4 aColor;\n\nattribute vec2 aPosition;\nattribute float aRotation;\n\nuniform mat3 uTranslationMatrix;\nuniform float uRound;\nuniform vec2 uResolution;\nuniform vec4 uColor;\n\nvarying vec2 vUV;\nvarying vec4 vColor;\n\nvec2 roundPixels(vec2 position, vec2 targetSize)\n{       \n    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n}\n\nvoid main(void){\n    float cosRotation = cos(aRotation);\n    float sinRotation = sin(aRotation);\n    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;\n    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;\n\n    vec2 v = vec2(x, y);\n    v = v + aPosition;\n\n    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    if(uRound == 1.0)\n    {\n        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n    }\n\n    vUV = aUV;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;\n}\n",fragment:"varying vec2 vUV;\nvarying vec4 vColor;\n\nuniform sampler2D uTexture;\n\nvoid main(void){\n    vec4 color = texture2D(uTexture, vUV) * vColor;\n    gl_FragColor = color;\n}"}),gpuProgram:b.B.from({fragment:{source:C,entryPoint:"mainFragment"},vertex:{source:C,entryPoint:"mainVertex"}}),resources:{uTexture:T.g.WHITE.source,uSampler:new w.n({}),uniforms:{uTranslationMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new _.Q(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class S{constructor(e,t){this.state=u.U.for2d(),this.localUniforms=new o.k({uTranslationMatrix:{value:new s.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=t,this.defaultShader=new P,this.state=u.U.for2d()}validateRenderable(e){return!1}addRenderable(e,t){this.renderer.renderPipes.batch.break(t),t.add(e)}getBuffers(e){return e._gpuData[this.renderer.uid]||this._initBuffer(e)}_initBuffer(e){return e._gpuData[this.renderer.uid]=new x({size:e.particleChildren.length,properties:e._properties}),e._gpuData[this.renderer.uid]}updateRenderable(e){}execute(e){const t=e.particleChildren;if(0===t.length)return;const r=this.renderer,n=this.getBuffers(e);e.texture||(e.texture=t[0].texture);const i=this.state;n.update(t,e._childrenDirty),e._childrenDirty=!1,i.blendMode=(0,a.i)(e.blendMode,e.texture._source);const s=this.localUniforms.uniforms,o=s.uTranslationMatrix;e.worldTransform.copyTo(o),o.prepend(r.globalUniforms.globalUniformData.projectionMatrix),s.uResolution=r.globalUniforms.globalUniformData.resolution,s.uRound=r._roundPixels|e._roundPixels,(0,l.V)(e.groupColorAlpha,s.uColor,0),this.adaptor.execute(this,e)}destroy(){this.renderer=null,this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class R extends S{constructor(e){super(e,new i)}}R.extension={type:[n.Ag.WebGLPipes],name:"particle"};class U{execute(e,t){const r=e.renderer,n=t.shader||e.defaultShader;n.groups[0]=r.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),n.groups[1]=r.texture.getTextureBindGroup(t.texture);const i=e.state,s=e.getBuffers(t);r.encoder.draw({geometry:s.geometry,shader:t.shader||e.defaultShader,state:i,size:6*t.particleChildren.length})}}class F extends S{constructor(e){super(e,new U)}}F.extension={type:[n.Ag.WebGPUPipes],name:"particle"},n.XO.add(R),n.XO.add(F)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QW9COUUsRUFBc0IvUSxlQUFlLEdBQzlHNUcsRUFBT0osT0FBTyxHQUFLOVgsRUFBU2dCLFFBQVE0ekIsb0JBQW9CeGtCLEVBQVVwUCxTQUNsRSxNQUFNbVgsRUFBUTBYLEVBQXNCMVgsTUFDOUJ2RyxFQUFTaWUsRUFBc0JFLFdBQVczZixHQUNoRHBRLEVBQVMrWCxRQUFRQyxLQUFLLENBQ3BCQyxTQUFVckcsRUFBT3FHLFNBQ2pCQyxPQUFROUgsRUFBVThILFFBQVUyWCxFQUFzQkMsY0FDbEQzWCxRQUNBc1YsS0FBMEMsRUFBcENyZCxFQUFVa2dCLGlCQUFpQnJsQixRQUVyQyxFQ1ZGLE1BQU00cEIsVUFBaUNiLEVBQ3JDLFdBQUFqMEIsQ0FBWUMsR0FDVkMsTUFBTUQsRUFBVSxJQUFJMDBCLEVBQ3RCLEVBR0ZHLEVBQXlCenhCLFVBQVksQ0FDbkNDLEtBQU0sQ0FDSixLQUFjRSxhQUVoQmxFLEtBQU0sWUNWUixLQUFXaUIsSUFBSW0wQixHQUNmLEtBQVduMEIsSUFBSXUwQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvQmF0Y2hhYmxlVGV4dC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC9jYW52YXMvQ2FudmFzVGV4dFBpcGUubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvY2FudmFzL0NhbnZhc1RleHRTeXN0ZW0ubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvdGV4dC91dGlscy91cGRhdGVUZXh0Qm91bmRzLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3V0aWxzL2dldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvQmF0Y2hhYmxlSFRNTFRleHQubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFBpcGUubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC9IVE1MVGV4dFJlbmRlckRhdGEubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9nZXRGb250Q3NzLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvSFRNTFRleHRTeXN0ZW0ubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9leHRyYWN0Rm9udEZhbWlsaWVzLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbG9hZEZvbnRDU1MubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtaHRtbC91dGlscy9sb2FkRm9udEFzQmFzZTY0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0U1ZHVXJsLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvbG9hZFNWR0ltYWdlLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvdXRpbHMvZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWh0bWwvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlclBpcGUubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZGVmYXVsdHMvcGFzc3Rocm91Z2gvcGFzc3Rocm91Z2gud2dzbC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9wYXNzdGhyb3VnaC9QYXNzdGhyb3VnaEZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9kZWZhdWx0cy9kZWZhdWx0RmlsdGVyLnZlcnQubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvZGVmYXVsdHMvcGFzc3Rocm91Z2gvcGFzc3Rocm91Z2guZnJhZy5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL2JvdW5kcy9nZXRSZW5kZXJhYmxlQm91bmRzLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlclN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hcHAvUmVzaXplUGx1Z2luLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hcHAvVGlja2VyUGx1Z2luLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hcHAvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9zaGFyZWQvTWVzaEdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9tZXNoL3NoYXJlZC9NZXNoUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9zaGFkZXItYml0cy9tU0RGQml0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0L3NkZlNoYWRlci9TZGZTaGFkZXIubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3RleHQtYml0bWFwL0JpdG1hcFRleHRQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS90ZXh0LWJpdG1hcC9pbml0Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC1wbGFuZS9QbGFuZUdlb21ldHJ5Lm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtbmluZS1zbGljZS9OaW5lU2xpY2VHZW9tZXRyeS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLW5pbmUtc2xpY2UvTmluZVNsaWNlU3ByaXRlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLW5pbmUtc2xpY2UvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvc2hhZGVyL3RpbGluZ0JpdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy9zaGFkZXIvVGlsaW5nU3ByaXRlU2hhZGVyLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL3V0aWxzL1F1YWRHZW9tZXRyeS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy9UaWxpbmdTcHJpdGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUtdGlsaW5nL3V0aWxzL3NldFV2cy5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9hcHBseU1hdHJpeC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlLXRpbGluZy91dGlscy9zZXRQb3NpdGlvbnMubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3Nwcml0ZS10aWxpbmcvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvbWVzaC9zaGFyZWQvQmF0Y2hhYmxlTWVzaC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvZ3JhcGhpY3Mvc2hhcmVkL0dyYXBoaWNzUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvZ3JhcGhpY3MvaW5pdC5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2dsL0dsUGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC91dGlscy9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvUGFydGljbGVCdWZmZXIubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy53Z3NsLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL3NoYWRlci9QYXJ0aWNsZVNoYWRlci5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9zaGFkZXIvcGFydGljbGVzLnZlcnQubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvc2hhZGVyL3BhcnRpY2xlcy5mcmFnLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvc2hhcmVkL1BhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL3NoYXJlZC9HbFBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vcGlwZXMvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvcGFydGljbGUtY29udGFpbmVyL2dwdS9HcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzIiwid2VicGFjazovL3BpcGVzLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL3BhcnRpY2xlLWNvbnRhaW5lci9zaGFyZWQvR3B1UGFydGljbGVDb250YWluZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9waXBlcy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9wYXJ0aWNsZS1jb250YWluZXIvaW5pdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1CaXQgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVJvdW5kOmYzMixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IGxvY2FsVW5pZm9ybXMudUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKGxvY2FsVW5pZm9ybXMudVJvdW5kID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdyb3VwMiA9IHtcbiAgLi4ubG9jYWxVbmlmb3JtQml0LFxuICB2ZXJ0ZXg6IHtcbiAgICAuLi5sb2NhbFVuaWZvcm1CaXQudmVydGV4LFxuICAgIC8vIHJlcGxhY2UgdGhlIGdyb3VwIVxuICAgIGhlYWRlcjogbG9jYWxVbmlmb3JtQml0LnZlcnRleC5oZWFkZXIucmVwbGFjZShcImdyb3VwKDEpXCIsIFwiZ3JvdXAoMilcIilcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdsID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVSb3VuZDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ID0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsLCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybUJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuLi8uLi9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2hhYmxlVGV4dCBleHRlbmRzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJ1bm5lcnMucmVzb2x1dGlvbkNoYW5nZS5hZGQodGhpcyk7XG4gIH1cbiAgcmVzb2x1dGlvbkNoYW5nZSgpIHtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5yZW5kZXJhYmxlO1xuICAgIGlmICh0ZXh0Ll9hdXRvUmVzb2x1dGlvbikge1xuICAgICAgdGV4dC5vblZpZXdVcGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICBjb25zdCB7IGNhbnZhc1RleHQgfSA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHJlZkNvdW50ID0gY2FudmFzVGV4dC5nZXRSZWZlcmVuY2VDb3VudCh0aGlzLmN1cnJlbnRLZXkpO1xuICAgIGlmIChyZWZDb3VudCA+IDApIHtcbiAgICAgIGNhbnZhc1RleHQuZGVjcmVhc2VSZWZlcmVuY2VDb3VudCh0aGlzLmN1cnJlbnRLZXkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50ZXh0dXJlKSB7XG4gICAgICBjYW52YXNUZXh0LnJldHVyblRleHR1cmUodGhpcy50ZXh0dXJlKTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucnVubmVycy5yZXNvbHV0aW9uQ2hhbmdlLnJlbW92ZSh0aGlzKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlVGV4dC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyB1cGRhdGVUZXh0Qm91bmRzIH0gZnJvbSAnLi4vdXRpbHMvdXBkYXRlVGV4dEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlVGV4dCB9IGZyb20gJy4vQmF0Y2hhYmxlVGV4dC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIENhbnZhc1RleHRQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgY29uc3QgbmV3S2V5ID0gdGV4dC5zdHlsZUtleTtcbiAgICBpZiAoZ3B1VGV4dC5jdXJyZW50S2V5ICE9PSBuZXdLZXkpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gdGV4dC5fZGlkVGV4dFVwZGF0ZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHRleHQsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlVGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgaWYgKHRleHQuX2RpZFRleHRVcGRhdGUpIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0ZXh0Ll9hdXRvUmVzb2x1dGlvbiA/IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb24gOiB0ZXh0LnJlc29sdXRpb247XG4gICAgICBpZiAoYmF0Y2hhYmxlVGV4dC5jdXJyZW50S2V5ICE9PSB0ZXh0LnN0eWxlS2V5IHx8IHRleHQucmVzb2x1dGlvbiAhPT0gcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLl91cGRhdGVHcHVUZXh0KHRleHQpO1xuICAgICAgfVxuICAgICAgdGV4dC5fZGlkVGV4dFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgdXBkYXRlVGV4dEJvdW5kcyhiYXRjaGFibGVUZXh0LCB0ZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVUZXh0LCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSh0ZXh0KSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlVGV4dCA9IHRoaXMuX2dldEdwdVRleHQodGV4dCk7XG4gICAgYmF0Y2hhYmxlVGV4dC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGJhdGNoYWJsZVRleHQpO1xuICB9XG4gIF91cGRhdGVHcHVUZXh0KHRleHQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dCh0ZXh0KTtcbiAgICBpZiAoYmF0Y2hhYmxlVGV4dC50ZXh0dXJlKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmRlY3JlYXNlUmVmZXJlbmNlQ291bnQoYmF0Y2hhYmxlVGV4dC5jdXJyZW50S2V5KTtcbiAgICB9XG4gICAgdGV4dC5fcmVzb2x1dGlvbiA9IHRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IHRleHQucmVzb2x1dGlvbjtcbiAgICBiYXRjaGFibGVUZXh0LnRleHR1cmUgPSB0aGlzLl9yZW5kZXJlci5jYW52YXNUZXh0LmdldE1hbmFnZWRUZXh0dXJlKHRleHQpO1xuICAgIGJhdGNoYWJsZVRleHQuY3VycmVudEtleSA9IHRleHQuc3R5bGVLZXk7XG4gIH1cbiAgX2dldEdwdVRleHQodGV4dCkge1xuICAgIHJldHVybiB0ZXh0Ll9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gfHwgdGhpcy5pbml0R3B1VGV4dCh0ZXh0KTtcbiAgfVxuICBpbml0R3B1VGV4dCh0ZXh0KSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlVGV4dCA9IG5ldyBCYXRjaGFibGVUZXh0KHRoaXMuX3JlbmRlcmVyKTtcbiAgICBiYXRjaGFibGVUZXh0LmN1cnJlbnRLZXkgPSBcIi0tXCI7XG4gICAgYmF0Y2hhYmxlVGV4dC5yZW5kZXJhYmxlID0gdGV4dDtcbiAgICBiYXRjaGFibGVUZXh0LnRyYW5zZm9ybSA9IHRleHQuZ3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlVGV4dC5ib3VuZHMgPSB7IG1pblg6IDAsIG1heFg6IDEsIG1pblk6IDAsIG1heFk6IDAgfTtcbiAgICBiYXRjaGFibGVUZXh0LnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgdGV4dC5fcm91bmRQaXhlbHM7XG4gICAgdGV4dC5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdID0gYmF0Y2hhYmxlVGV4dDtcbiAgICByZXR1cm4gYmF0Y2hhYmxlVGV4dDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkNhbnZhc1RleHRQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJ0ZXh0XCJcbn07XG5cbmV4cG9ydCB7IENhbnZhc1RleHRQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYW52YXNUZXh0UGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IFRleHR1cmVTdHlsZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVN0eWxlLm1qcyc7XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IFRleHRTdHlsZSB9IGZyb20gJy4uL1RleHRTdHlsZS5tanMnO1xuaW1wb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfSBmcm9tICcuLi91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgQ2FudmFzVGV4dEdlbmVyYXRvciB9IGZyb20gJy4vQ2FudmFzVGV4dEdlbmVyYXRvci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIENhbnZhc1RleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihfcmVuZGVyZXIpIHtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlcyA9IHt9O1xuICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xuICB9XG4gIGdldFRleHR1cmUob3B0aW9ucywgX3Jlc29sdXRpb24sIF9zdHlsZSwgX3RleHRLZXkpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGRlcHJlY2F0aW9uKFwiOC4wLjBcIiwgXCJDYW52YXNUZXh0U3lzdGVtLmdldFRleHR1cmU6IFVzZSBvYmplY3QgVGV4dE9wdGlvbnMgaW5zdGVhZCBvZiBzZXBhcmF0ZSBhcmd1bWVudHNcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB0ZXh0OiBvcHRpb25zLFxuICAgICAgICBzdHlsZTogX3N0eWxlLFxuICAgICAgICByZXNvbHV0aW9uOiBfcmVzb2x1dGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCEob3B0aW9ucy5zdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSkpIHtcbiAgICAgIG9wdGlvbnMuc3R5bGUgPSBuZXcgVGV4dFN0eWxlKG9wdGlvbnMuc3R5bGUpO1xuICAgIH1cbiAgICBpZiAoIShvcHRpb25zLnRleHR1cmVTdHlsZSBpbnN0YW5jZW9mIFRleHR1cmVTdHlsZSkpIHtcbiAgICAgIG9wdGlvbnMudGV4dHVyZVN0eWxlID0gbmV3IFRleHR1cmVTdHlsZShvcHRpb25zLnRleHR1cmVTdHlsZSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50ZXh0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICBvcHRpb25zLnRleHQgPSBvcHRpb25zLnRleHQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgY29uc3QgeyB0ZXh0LCBzdHlsZSwgdGV4dHVyZVN0eWxlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gPz8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICBjb25zdCB7IGZyYW1lLCBjYW52YXNBbmRDb250ZXh0IH0gPSBDYW52YXNUZXh0R2VuZXJhdG9yLmdldENhbnZhc0FuZENvbnRleHQoe1xuICAgICAgdGV4dCxcbiAgICAgIHN0eWxlLFxuICAgICAgcmVzb2x1dGlvblxuICAgIH0pO1xuICAgIGNvbnN0IHRleHR1cmUgPSBnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZShjYW52YXNBbmRDb250ZXh0LmNhbnZhcywgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgaWYgKHRleHR1cmVTdHlsZSlcbiAgICAgIHRleHR1cmUuc291cmNlLnN0eWxlID0gdGV4dHVyZVN0eWxlO1xuICAgIGlmIChzdHlsZS50cmltKSB7XG4gICAgICBmcmFtZS5wYWQoc3R5bGUucGFkZGluZyk7XG4gICAgICB0ZXh0dXJlLmZyYW1lLmNvcHlGcm9tKGZyYW1lKTtcbiAgICAgIHRleHR1cmUuZnJhbWUuc2NhbGUoMSAvIHJlc29sdXRpb24pO1xuICAgICAgdGV4dHVyZS51cGRhdGVVdnMoKTtcbiAgICB9XG4gICAgaWYgKHN0eWxlLmZpbHRlcnMpIHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkVGV4dHVyZSA9IHRoaXMuX2FwcGx5RmlsdGVycyh0ZXh0dXJlLCBzdHlsZS5maWx0ZXJzKTtcbiAgICAgIHRoaXMucmV0dXJuVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgIENhbnZhc1RleHRHZW5lcmF0b3IucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZFRleHR1cmU7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnRleHR1cmUuaW5pdFNvdXJjZSh0ZXh0dXJlLl9zb3VyY2UpO1xuICAgIENhbnZhc1RleHRHZW5lcmF0b3IucmV0dXJuQ2FudmFzQW5kQ29udGV4dChjYW52YXNBbmRDb250ZXh0KTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHRleHR1cmUgdGhhdCB3YXMgY3JlYXRlZCB3aXQgdGhlIGFib3ZlIGBnZXRUZXh0dXJlYCBmdW5jdGlvbi5cbiAgICogSGFuZHkgaWYgeW91IGFyZSBkb25lIHdpdGggYSB0ZXh0dXJlIGFuZCB3YW50IHRvIHJldHVybiBpdCB0byB0aGUgcG9vbC5cbiAgICogQHBhcmFtIHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byBiZSByZXR1cm5lZC5cbiAgICovXG4gIHJldHVyblRleHR1cmUodGV4dHVyZSkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRleHR1cmUuc291cmNlO1xuICAgIHNvdXJjZS5yZXNvdXJjZSA9IG51bGw7XG4gICAgc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJ1bmtub3duXCI7XG4gICAgc291cmNlLmFscGhhTW9kZSA9IFwibm8tcHJlbXVsdGlwbHktYWxwaGFcIjtcbiAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXJzIHRleHQgdG8gaXRzIGNhbnZhcywgYW5kIHVwZGF0ZXMgaXRzIHRleHR1cmUuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDguMTAuMFxuICAgKi9cbiAgcmVuZGVyVGV4dFRvQ2FudmFzKCkge1xuICAgIGRlcHJlY2F0aW9uKFxuICAgICAgXCI4LjEwLjBcIixcbiAgICAgIFwiQ2FudmFzVGV4dFN5c3RlbS5yZW5kZXJUZXh0VG9DYW52YXM6IG5vIGxvbmdlciBzdXBwb3J0ZWQsIHVzZSBDYW52YXNUZXh0U3lzdGVtLmdldFRleHR1cmUgaW5zdGVhZFwiXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBvciBjcmVhdGVzIGEgbWFuYWdlZCB0ZXh0dXJlIGZvciBhIFRleHQgb2JqZWN0LiBUaGlzIG1ldGhvZCBoYW5kbGVzIHRleHR1cmUgcmV1c2UgYW5kIHJlZmVyZW5jZSBjb3VudGluZy5cbiAgICogQHBhcmFtIHRleHQgLSBUaGUgVGV4dCBvYmplY3QgdGhhdCBuZWVkcyBhIHRleHR1cmVcbiAgICogQHJldHVybnMgQSBUZXh0dXJlIGluc3RhbmNlIHRoYXQgcmVwcmVzZW50cyB0aGUgcmVuZGVyZWQgdGV4dFxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIG1ldGhvZCBwZXJmb3JtcyB0aGUgZm9sbG93aW5nOlxuICAgKiAxLiBTZXRzIHRoZSBhcHByb3ByaWF0ZSByZXNvbHV0aW9uIGJhc2VkIG9uIGF1dG8tcmVzb2x1dGlvbiBzZXR0aW5nc1xuICAgKiAyLiBDaGVja3MgaWYgYSB0ZXh0dXJlIGFscmVhZHkgZXhpc3RzIGZvciB0aGUgdGV4dCdzIHN0eWxlXG4gICAqIDMuIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBpZiBuZWVkZWQgb3IgcmV0dXJucyBhbiBleGlzdGluZyBvbmVcbiAgICogNC4gTWFuYWdlcyByZWZlcmVuY2UgY291bnRpbmcgZm9yIHRleHR1cmUgcmV1c2VcbiAgICovXG4gIGdldE1hbmFnZWRUZXh0dXJlKHRleHQpIHtcbiAgICB0ZXh0Ll9yZXNvbHV0aW9uID0gdGV4dC5fYXV0b1Jlc29sdXRpb24gPyB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uIDogdGV4dC5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHRleHRLZXkgPSB0ZXh0LnN0eWxlS2V5O1xuICAgIGlmICh0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSkge1xuICAgICAgdGhpcy5faW5jcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KTtcbiAgICAgIHJldHVybiB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XS50ZXh0dXJlO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5nZXRUZXh0dXJlKHtcbiAgICAgIHRleHQ6IHRleHQudGV4dCxcbiAgICAgIHN0eWxlOiB0ZXh0LnN0eWxlLFxuICAgICAgcmVzb2x1dGlvbjogdGV4dC5fcmVzb2x1dGlvbixcbiAgICAgIHRleHR1cmVTdHlsZTogdGV4dC50ZXh0dXJlU3R5bGVcbiAgICB9KTtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSA9IHtcbiAgICAgIHRleHR1cmUsXG4gICAgICB1c2FnZUNvdW50OiAxXG4gICAgfTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbiAgfVxuICAvKipcbiAgICogRGVjcmVhc2VzIHRoZSByZWZlcmVuY2UgY291bnQgZm9yIGEgdGV4dHVyZSBhc3NvY2lhdGVkIHdpdGggYSB0ZXh0IGtleS5cbiAgICogV2hlbiB0aGUgcmVmZXJlbmNlIGNvdW50IHJlYWNoZXMgemVybywgdGhlIHRleHR1cmUgaXMgcmV0dXJuZWQgdG8gdGhlIHBvb2wuXG4gICAqIEBwYXJhbSB0ZXh0S2V5IC0gVGhlIHVuaXF1ZSBrZXkgaWRlbnRpZnlpbmcgdGhlIHRleHQgc3R5bGUgY29uZmlndXJhdGlvblxuICAgKiBAcmVtYXJrc1xuICAgKiBUaGlzIG1ldGhvZCBpcyBjcnVjaWFsIGZvciBtZW1vcnkgbWFuYWdlbWVudCwgZW5zdXJpbmcgdGV4dHVyZXMgYXJlIHByb3Blcmx5XG4gICAqIGNsZWFuZWQgdXAgd2hlbiB0aGV5IGFyZSBubyBsb25nZXIgbmVlZGVkIGJ5IGFueSBUZXh0IGluc3RhbmNlcy5cbiAgICovXG4gIGRlY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIGNvbnN0IGFjdGl2ZVRleHR1cmUgPSB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XTtcbiAgICBhY3RpdmVUZXh0dXJlLnVzYWdlQ291bnQtLTtcbiAgICBpZiAoYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50ID09PSAwKSB7XG4gICAgICB0aGlzLnJldHVyblRleHR1cmUoYWN0aXZlVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzW3RleHRLZXldID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgcmVmZXJlbmNlIGNvdW50IGZvciBhIHRleHR1cmUgYXNzb2NpYXRlZCB3aXRoIGEgdGV4dCBrZXkuXG4gICAqIEBwYXJhbSB0ZXh0S2V5IC0gVGhlIHVuaXF1ZSBrZXkgaWRlbnRpZnlpbmcgdGhlIHRleHQgc3R5bGUgY29uZmlndXJhdGlvblxuICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIFRleHQgaW5zdGFuY2VzIGN1cnJlbnRseSB1c2luZyB0aGlzIHRleHR1cmVcbiAgICovXG4gIGdldFJlZmVyZW5jZUNvdW50KHRleHRLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0/LnVzYWdlQ291bnQgPz8gMDtcbiAgfVxuICBfaW5jcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0udXNhZ2VDb3VudCsrO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBzcGVjaWZpZWQgZmlsdGVycyB0byB0aGUgZ2l2ZW4gdGV4dHVyZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgdGFrZXMgYSB0ZXh0dXJlIGFuZCBhIGxpc3Qgb2YgZmlsdGVycywgYXBwbGllcyB0aGUgZmlsdGVycyB0byB0aGUgdGV4dHVyZSxcbiAgICogYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZyB0ZXh0dXJlLiBJdCBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgYWxwaGEgbW9kZSBvZiB0aGUgcmVzdWx0aW5nXG4gICAqIHRleHR1cmUgaXMgc2V0IHRvICdwcmVtdWx0aXBsaWVkLWFscGhhJy5cbiAgICogQHBhcmFtIHtUZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gd2hpY2ggdGhlIGZpbHRlcnMgd2lsbCBiZSBhcHBsaWVkLlxuICAgKiBAcGFyYW0ge0ZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkgdG8gdGhlIHRleHR1cmUuXG4gICAqIEByZXR1cm5zIHtUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIHRleHR1cmUgYWZ0ZXIgYWxsIGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQuXG4gICAqL1xuICBfYXBwbHlGaWx0ZXJzKHRleHR1cmUsIGZpbHRlcnMpIHtcbiAgICBjb25zdCBjdXJyZW50UmVuZGVyVGFyZ2V0ID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldDtcbiAgICBjb25zdCByZXN1bHRUZXh0dXJlID0gdGhpcy5fcmVuZGVyZXIuZmlsdGVyLmdlbmVyYXRlRmlsdGVyZWRUZXh0dXJlKHtcbiAgICAgIHRleHR1cmUsXG4gICAgICBmaWx0ZXJzXG4gICAgfSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmJpbmQoY3VycmVudFJlbmRlclRhcmdldCwgZmFsc2UpO1xuICAgIHJldHVybiByZXN1bHRUZXh0dXJlO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX2FjdGl2ZVRleHR1cmVzKSB7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlVGV4dHVyZXNba2V5XSlcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlKHRoaXMuX2FjdGl2ZVRleHR1cmVzW2tleV0udGV4dHVyZSk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkNhbnZhc1RleHRTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImNhbnZhc1RleHRcIlxufTtcblxuZXhwb3J0IHsgQ2FudmFzVGV4dFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FudmFzVGV4dFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0UGlwZSB9IGZyb20gJy4vY2FudmFzL0NhbnZhc1RleHRQaXBlLm1qcyc7XG5pbXBvcnQgeyBDYW52YXNUZXh0U3lzdGVtIH0gZnJvbSAnLi9jYW52YXMvQ2FudmFzVGV4dFN5c3RlbS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKENhbnZhc1RleHRTeXN0ZW0pO1xuZXh0ZW5zaW9ucy5hZGQoQ2FudmFzVGV4dFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJpbXBvcnQgeyB1cGRhdGVRdWFkQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZGF0YS91cGRhdGVRdWFkQm91bmRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gdXBkYXRlVGV4dEJvdW5kcyhiYXRjaGFibGVTcHJpdGUsIHRleHQpIHtcbiAgY29uc3QgeyB0ZXh0dXJlLCBib3VuZHMgfSA9IGJhdGNoYWJsZVNwcml0ZTtcbiAgY29uc3QgcGFkZGluZyA9IHRleHQuX3N0eWxlLl9nZXRGaW5hbFBhZGRpbmcoKTtcbiAgdXBkYXRlUXVhZEJvdW5kcyhib3VuZHMsIHRleHQuX2FuY2hvciwgdGV4dHVyZSk7XG4gIGNvbnN0IHBhZGRpbmdPZmZzZXQgPSB0ZXh0Ll9hbmNob3IuX3ggKiBwYWRkaW5nICogMjtcbiAgY29uc3QgcGFkZGluZ09mZnNldFkgPSB0ZXh0Ll9hbmNob3IuX3kgKiBwYWRkaW5nICogMjtcbiAgYm91bmRzLm1pblggLT0gcGFkZGluZyAtIHBhZGRpbmdPZmZzZXQ7XG4gIGJvdW5kcy5taW5ZIC09IHBhZGRpbmcgLSBwYWRkaW5nT2Zmc2V0WTtcbiAgYm91bmRzLm1heFggLT0gcGFkZGluZyAtIHBhZGRpbmdPZmZzZXQ7XG4gIGJvdW5kcy5tYXhZIC09IHBhZGRpbmcgLSBwYWRkaW5nT2Zmc2V0WTtcbn1cblxuZXhwb3J0IHsgdXBkYXRlVGV4dEJvdW5kcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRlVGV4dEJvdW5kcy5tanMubWFwXG4iLCJpbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbmZ1bmN0aW9uIGdldFBvMlRleHR1cmVGcm9tU291cmNlKGltYWdlLCB3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IGJvdW5kcyA9IHRlbXBCb3VuZHM7XG4gIGJvdW5kcy5taW5YID0gMDtcbiAgYm91bmRzLm1pblkgPSAwO1xuICBib3VuZHMubWF4WCA9IGltYWdlLndpZHRoIC8gcmVzb2x1dGlvbiB8IDA7XG4gIGJvdW5kcy5tYXhZID0gaW1hZ2UuaGVpZ2h0IC8gcmVzb2x1dGlvbiB8IDA7XG4gIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICBib3VuZHMud2lkdGgsXG4gICAgYm91bmRzLmhlaWdodCxcbiAgICByZXNvbHV0aW9uLFxuICAgIGZhbHNlXG4gICk7XG4gIHRleHR1cmUuc291cmNlLnVwbG9hZE1ldGhvZElkID0gXCJpbWFnZVwiO1xuICB0ZXh0dXJlLnNvdXJjZS5yZXNvdXJjZSA9IGltYWdlO1xuICB0ZXh0dXJlLnNvdXJjZS5hbHBoYU1vZGUgPSBcInByZW11bHRpcGx5LWFscGhhLW9uLXVwbG9hZFwiO1xuICB0ZXh0dXJlLmZyYW1lLndpZHRoID0gd2lkdGggLyByZXNvbHV0aW9uO1xuICB0ZXh0dXJlLmZyYW1lLmhlaWdodCA9IGhlaWdodCAvIHJlc29sdXRpb247XG4gIHRleHR1cmUuc291cmNlLmVtaXQoXCJ1cGRhdGVcIiwgdGV4dHVyZS5zb3VyY2UpO1xuICB0ZXh0dXJlLnVwZGF0ZVV2cygpO1xuICByZXR1cm4gdGV4dHVyZTtcbn1cblxuZXhwb3J0IHsgZ2V0UG8yVGV4dHVyZUZyb21Tb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFBvMlRleHR1cmVGcm9tU291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4uL3Nwcml0ZS9CYXRjaGFibGVTcHJpdGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBCYXRjaGFibGVIVE1MVGV4dCBleHRlbmRzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJhdGNoYWJsZUhUTUxUZXh0LlxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgaW5zdGFuY2UgdG8gYmUgdXNlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmdlbmVyYXRpbmdUZXh0dXJlID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50S2V5ID0gXCItLVwiO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucnVubmVycy5yZXNvbHV0aW9uQ2hhbmdlLmFkZCh0aGlzKTtcbiAgfVxuICAvKiogSGFuZGxlcyByZXNvbHV0aW9uIGNoYW5nZXMgZm9yIHRoZSBIVE1MIHRleHQuIElmIHRoZSB0ZXh0IGhhcyBhdXRvIHJlc29sdXRpb24gZW5hYmxlZCwgaXQgdHJpZ2dlcnMgYSB2aWV3IHVwZGF0ZS4gKi9cbiAgcmVzb2x1dGlvbkNoYW5nZSgpIHtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5yZW5kZXJhYmxlO1xuICAgIGlmICh0ZXh0Ll9hdXRvUmVzb2x1dGlvbikge1xuICAgICAgdGV4dC5vblZpZXdVcGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgLyoqIERlc3Ryb3lzIHRoZSBCYXRjaGFibGVIVE1MVGV4dCBpbnN0YW5jZS4gUmV0dXJucyB0aGUgdGV4dHVyZSBwcm9taXNlIHRvIHRoZSByZW5kZXJlciBhbmQgY2xlYW5zIHVwIHJlZmVyZW5jZXMuICovXG4gIGRlc3Ryb3koKSB7XG4gICAgY29uc3QgeyBodG1sVGV4dCB9ID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgaHRtbFRleHQuZ2V0UmVmZXJlbmNlQ291bnQodGhpcy5jdXJyZW50S2V5KSA9PT0gbnVsbCA/IGh0bWxUZXh0LnJldHVyblRleHR1cmVQcm9taXNlKHRoaXMudGV4dHVyZVByb21pc2UpIDogaHRtbFRleHQuZGVjcmVhc2VSZWZlcmVuY2VDb3VudCh0aGlzLmN1cnJlbnRLZXkpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucmVzb2x1dGlvbkNoYW5nZS5yZW1vdmUodGhpcyk7XG4gICAgdGhpcy50ZXh0dXJlUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZUhUTUxUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVIVE1MVGV4dC5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyB1cGRhdGVUZXh0Qm91bmRzIH0gZnJvbSAnLi4vdGV4dC91dGlscy91cGRhdGVUZXh0Qm91bmRzLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVIVE1MVGV4dCB9IGZyb20gJy4vQmF0Y2hhYmxlSFRNTFRleHQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBIVE1MVGV4dFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKGh0bWxUZXh0KSB7XG4gICAgY29uc3QgZ3B1VGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGNvbnN0IG5ld0tleSA9IGh0bWxUZXh0LnN0eWxlS2V5O1xuICAgIGlmIChncHVUZXh0LmN1cnJlbnRLZXkgIT09IG5ld0tleSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGh0bWxUZXh0LCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoYWJsZUhUTUxUZXh0ID0gdGhpcy5fZ2V0R3B1VGV4dChodG1sVGV4dCk7XG4gICAgaWYgKGh0bWxUZXh0Ll9kaWRUZXh0VXBkYXRlKSB7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gaHRtbFRleHQuX2F1dG9SZXNvbHV0aW9uID8gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbiA6IGh0bWxUZXh0LnJlc29sdXRpb247XG4gICAgICBpZiAoYmF0Y2hhYmxlSFRNTFRleHQuY3VycmVudEtleSAhPT0gaHRtbFRleHQuc3R5bGVLZXkgfHwgaHRtbFRleHQucmVzb2x1dGlvbiAhPT0gcmVzb2x1dGlvbikge1xuICAgICAgICB0aGlzLl91cGRhdGVHcHVUZXh0KGh0bWxUZXh0KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaHRtbFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICAgIHVwZGF0ZVRleHRCb3VuZHMoYmF0Y2hhYmxlSFRNTFRleHQsIGh0bWxUZXh0KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChiYXRjaGFibGVIVE1MVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoaHRtbFRleHQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVIVE1MVGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0Ll9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2hhYmxlSFRNTFRleHQpO1xuICB9XG4gIGFzeW5jIF91cGRhdGVHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgaHRtbFRleHQuX2RpZFRleHRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBiYXRjaGFibGVIVE1MVGV4dCA9IHRoaXMuX2dldEdwdVRleHQoaHRtbFRleHQpO1xuICAgIGlmIChiYXRjaGFibGVIVE1MVGV4dC5nZW5lcmF0aW5nVGV4dHVyZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvbGRUZXh0dXJlUHJvbWlzZSA9IGJhdGNoYWJsZUhUTUxUZXh0LnRleHR1cmVQcm9taXNlO1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0LnRleHR1cmVQcm9taXNlID0gbnVsbDtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC5nZW5lcmF0aW5nVGV4dHVyZSA9IHRydWU7XG4gICAgaHRtbFRleHQuX3Jlc29sdXRpb24gPSBodG1sVGV4dC5fYXV0b1Jlc29sdXRpb24gPyB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uIDogaHRtbFRleHQucmVzb2x1dGlvbjtcbiAgICBsZXQgdGV4dHVyZVByb21pc2UgPSB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5nZXRUZXh0dXJlUHJvbWlzZShodG1sVGV4dCk7XG4gICAgaWYgKG9sZFRleHR1cmVQcm9taXNlKSB7XG4gICAgICB0ZXh0dXJlUHJvbWlzZSA9IHRleHR1cmVQcm9taXNlLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5kZWNyZWFzZVJlZmVyZW5jZUNvdW50KGJhdGNoYWJsZUhUTUxUZXh0LmN1cnJlbnRLZXkpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5odG1sVGV4dC5yZXR1cm5UZXh0dXJlUHJvbWlzZShvbGRUZXh0dXJlUHJvbWlzZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYmF0Y2hhYmxlSFRNTFRleHQudGV4dHVyZVByb21pc2UgPSB0ZXh0dXJlUHJvbWlzZTtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC5jdXJyZW50S2V5ID0gaHRtbFRleHQuc3R5bGVLZXk7XG4gICAgYmF0Y2hhYmxlSFRNTFRleHQudGV4dHVyZSA9IGF3YWl0IHRleHR1cmVQcm9taXNlO1xuICAgIGNvbnN0IHJlbmRlckdyb3VwID0gaHRtbFRleHQucmVuZGVyR3JvdXAgfHwgaHRtbFRleHQucGFyZW50UmVuZGVyR3JvdXA7XG4gICAgaWYgKHJlbmRlckdyb3VwKSB7XG4gICAgICByZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSB0cnVlO1xuICAgIH1cbiAgICBiYXRjaGFibGVIVE1MVGV4dC5nZW5lcmF0aW5nVGV4dHVyZSA9IGZhbHNlO1xuICAgIHVwZGF0ZVRleHRCb3VuZHMoYmF0Y2hhYmxlSFRNTFRleHQsIGh0bWxUZXh0KTtcbiAgfVxuICBfZ2V0R3B1VGV4dChodG1sVGV4dCkge1xuICAgIHJldHVybiBodG1sVGV4dC5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdIHx8IHRoaXMuaW5pdEdwdVRleHQoaHRtbFRleHQpO1xuICB9XG4gIGluaXRHcHVUZXh0KGh0bWxUZXh0KSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlSFRNTFRleHQgPSBuZXcgQmF0Y2hhYmxlSFRNTFRleHQodGhpcy5fcmVuZGVyZXIpO1xuICAgIGJhdGNoYWJsZUhUTUxUZXh0LnJlbmRlcmFibGUgPSBodG1sVGV4dDtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC50cmFuc2Zvcm0gPSBodG1sVGV4dC5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC50ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC5ib3VuZHMgPSB7IG1pblg6IDAsIG1heFg6IDEsIG1pblk6IDAsIG1heFk6IDAgfTtcbiAgICBiYXRjaGFibGVIVE1MVGV4dC5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IGh0bWxUZXh0Ll9yb3VuZFBpeGVscztcbiAgICBodG1sVGV4dC5fcmVzb2x1dGlvbiA9IGh0bWxUZXh0Ll9hdXRvUmVzb2x1dGlvbiA/IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb24gOiBodG1sVGV4dC5yZXNvbHV0aW9uO1xuICAgIGh0bWxUZXh0Ll9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gPSBiYXRjaGFibGVIVE1MVGV4dDtcbiAgICByZXR1cm4gYmF0Y2hhYmxlSFRNTFRleHQ7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5IVE1MVGV4dFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImh0bWxUZXh0XCJcbn07XG5cbmV4cG9ydCB7IEhUTUxUZXh0UGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SFRNTFRleHRQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgbnNzdmcgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5jb25zdCBuc3hodG1sID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7XG5jbGFzcyBIVE1MVGV4dFJlbmRlckRhdGEge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN2Z1Jvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnNzdmcsIFwic3ZnXCIpO1xuICAgIHRoaXMuZm9yZWlnbk9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3N2ZywgXCJmb3JlaWduT2JqZWN0XCIpO1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3hodG1sLCBcImRpdlwiKTtcbiAgICB0aGlzLnN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuc3hodG1sLCBcInN0eWxlXCIpO1xuICAgIGNvbnN0IHsgZm9yZWlnbk9iamVjdCwgc3ZnUm9vdCwgc3R5bGVFbGVtZW50LCBkb21FbGVtZW50IH0gPSB0aGlzO1xuICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIxMDAwMFwiKTtcbiAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjEwMDAwXCIpO1xuICAgIGZvcmVpZ25PYmplY3Quc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHN2Z1Jvb3QuYXBwZW5kQ2hpbGQoZm9yZWlnbk9iamVjdCk7XG4gICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICAgIGZvcmVpZ25PYmplY3QuYXBwZW5kQ2hpbGQoZG9tRWxlbWVudCk7XG4gICAgdGhpcy5pbWFnZSA9IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlSW1hZ2UoKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuc3ZnUm9vdC5yZW1vdmUoKTtcbiAgICB0aGlzLmZvcmVpZ25PYmplY3QucmVtb3ZlKCk7XG4gICAgdGhpcy5zdHlsZUVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuaW1hZ2Uuc3JjID0gXCJcIjtcbiAgICB0aGlzLmltYWdlLnJlbW92ZSgpO1xuICAgIHRoaXMuc3ZnUm9vdCA9IG51bGw7XG4gICAgdGhpcy5mb3JlaWduT2JqZWN0ID0gbnVsbDtcbiAgICB0aGlzLnN0eWxlRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5kb21FbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmltYWdlID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhc0FuZENvbnRleHQgPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IEhUTUxUZXh0UmVuZGVyRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SFRNTFRleHRSZW5kZXJEYXRhLm1qcy5tYXBcbiIsImltcG9ydCB7IENhY2hlIH0gZnJvbSAnLi4vLi4vLi4vYXNzZXRzL2NhY2hlL0NhY2hlLm1qcyc7XG5pbXBvcnQgeyBsb2FkRm9udENTUyB9IGZyb20gJy4vbG9hZEZvbnRDU1MubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBGb250U3R5bGVQcm9taXNlQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Rm9udENzcyhmb250RmFtaWxpZXMpIHtcbiAgY29uc3QgZm9udFByb21pc2VzID0gZm9udEZhbWlsaWVzLmZpbHRlcigoZm9udEZhbWlseSkgPT4gQ2FjaGUuaGFzKGAke2ZvbnRGYW1pbHl9LWFuZC11cmxgKSkubWFwKChmb250RmFtaWx5KSA9PiB7XG4gICAgaWYgKCFGb250U3R5bGVQcm9taXNlQ2FjaGUuaGFzKGZvbnRGYW1pbHkpKSB7XG4gICAgICBjb25zdCB7IGVudHJpZXMgfSA9IENhY2hlLmdldChgJHtmb250RmFtaWx5fS1hbmQtdXJsYCk7XG4gICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBlbnRyeS51cmw7XG4gICAgICAgIGNvbnN0IGZhY2VzID0gZW50cnkuZmFjZXM7XG4gICAgICAgIGNvbnN0IG91dCA9IGZhY2VzLm1hcCgoZmFjZSkgPT4gKHsgd2VpZ2h0OiBmYWNlLndlaWdodCwgc3R5bGU6IGZhY2Uuc3R5bGUgfSkpO1xuICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgIC4uLm91dC5tYXAoXG4gICAgICAgICAgICAoc3R5bGUpID0+IGxvYWRGb250Q1NTKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogc3R5bGUud2VpZ2h0LFxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogc3R5bGUuc3R5bGUsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIEZvbnRTdHlsZVByb21pc2VDYWNoZS5zZXQoXG4gICAgICAgIGZvbnRGYW1pbHksXG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChjc3MpID0+IGNzcy5qb2luKFwiXFxuXCIpKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIEZvbnRTdHlsZVByb21pc2VDYWNoZS5nZXQoZm9udEZhbWlseSk7XG4gIH0pO1xuICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKGZvbnRQcm9taXNlcykpLmpvaW4oXCJcXG5cIik7XG59XG5cbmV4cG9ydCB7IEZvbnRTdHlsZVByb21pc2VDYWNoZSwgZ2V0Rm9udENzcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Rm9udENzcy5tanMubWFwXG4iLCJpbXBvcnQgeyBIVE1MVGV4dFJlbmRlckRhdGEgfSBmcm9tICcuLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgdGVtcEhUTUxUZXh0UmVuZGVyRGF0YTtcbmZ1bmN0aW9uIG1lYXN1cmVIdG1sVGV4dCh0ZXh0LCBzdHlsZSwgZm9udFN0eWxlQ1NTLCBodG1sVGV4dFJlbmRlckRhdGEpIHtcbiAgaHRtbFRleHRSZW5kZXJEYXRhIHx8IChodG1sVGV4dFJlbmRlckRhdGEgPSB0ZW1wSFRNTFRleHRSZW5kZXJEYXRhIHx8ICh0ZW1wSFRNTFRleHRSZW5kZXJEYXRhID0gbmV3IEhUTUxUZXh0UmVuZGVyRGF0YSgpKSk7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dFJlbmRlckRhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTs8L3N0eWxlPjxkaXYgc3R5bGU9J3BhZGRpbmc6MCc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgZGlzcGxheTogaW5saW5lLWJsb2NrXCIpO1xuICBpZiAoZm9udFN0eWxlQ1NTKSB7XG4gICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gZm9udFN0eWxlQ1NTO1xuICB9XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3ZnUm9vdCk7XG4gIGNvbnN0IGNvbnRlbnRCb3VuZHMgPSBkb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBzdmdSb290LnJlbW92ZSgpO1xuICBjb25zdCBkb3VibGVQYWRkaW5nID0gc3R5bGUucGFkZGluZyAqIDI7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IGNvbnRlbnRCb3VuZHMud2lkdGggLSBkb3VibGVQYWRkaW5nLFxuICAgIGhlaWdodDogY29udGVudEJvdW5kcy5oZWlnaHQgLSBkb3VibGVQYWRkaW5nXG4gIH07XG59XG5cbmV4cG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVhc3VyZUh0bWxUZXh0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENhbnZhc1Bvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL0NhbnZhc1Bvb2wubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNTYWZhcmkgfSBmcm9tICcuLi8uLi91dGlscy9icm93c2VyL2lzU2FmYXJpLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IGdldFBvMlRleHR1cmVGcm9tU291cmNlIH0gZnJvbSAnLi4vdGV4dC91dGlscy9nZXRQbzJUZXh0dXJlRnJvbVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgSFRNTFRleHRSZW5kZXJEYXRhIH0gZnJvbSAnLi9IVE1MVGV4dFJlbmRlckRhdGEubWpzJztcbmltcG9ydCB7IGV4dHJhY3RGb250RmFtaWxpZXMgfSBmcm9tICcuL3V0aWxzL2V4dHJhY3RGb250RmFtaWxpZXMubWpzJztcbmltcG9ydCB7IGdldEZvbnRDc3MgfSBmcm9tICcuL3V0aWxzL2dldEZvbnRDc3MubWpzJztcbmltcG9ydCB7IGdldFNWR1VybCB9IGZyb20gJy4vdXRpbHMvZ2V0U1ZHVXJsLm1qcyc7XG5pbXBvcnQgeyBnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UgfSBmcm9tICcuL3V0aWxzL2dldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZS5tanMnO1xuaW1wb3J0IHsgbG9hZFNWR0ltYWdlIH0gZnJvbSAnLi91dGlscy9sb2FkU1ZHSW1hZ2UubWpzJztcbmltcG9ydCB7IG1lYXN1cmVIdG1sVGV4dCB9IGZyb20gJy4vdXRpbHMvbWVhc3VyZUh0bWxUZXh0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgSFRNTFRleHRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZVRleHR1cmVzID0ge307XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jcmVhdGVDYW52YXMgPSByZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR1BVO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAZGVwcmVjYXRlZCBVc2UgZ2V0VGV4dHVyZVByb21pc2UgaW5zdGVhZFxuICAgKi9cbiAgZ2V0VGV4dHVyZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGV4dHVyZVByb21pc2Uob3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgcmVmZXJlbmNlIGNvdW50IGZvciBhIHRleHR1cmUuXG4gICAqIEBwYXJhbSB0ZXh0IC0gVGhlIEhUTUxUZXh0IGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGV4dHVyZS5cbiAgICovXG4gIGdldE1hbmFnZWRUZXh0dXJlKHRleHQpIHtcbiAgICBjb25zdCB0ZXh0S2V5ID0gdGV4dC5zdHlsZUtleTtcbiAgICBpZiAodGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0pIHtcbiAgICAgIHRoaXMuX2luY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0ucHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuX2J1aWxkVGV4dHVyZVByb21pc2UodGV4dCkudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0udGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9KTtcbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSA9IHtcbiAgICAgIHRleHR1cmU6IG51bGwsXG4gICAgICBwcm9taXNlLFxuICAgICAgdXNhZ2VDb3VudDogMVxuICAgIH07XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgcmVmZXJlbmNlIGNvdW50IGZvciBhIHRleHR1cmUgYXNzb2NpYXRlZCB3aXRoIGEgdGV4dCBrZXkuXG4gICAqIEBwYXJhbSB0ZXh0S2V5IC0gVGhlIHVuaXF1ZSBrZXkgaWRlbnRpZnlpbmcgdGhlIHRleHQgc3R5bGUgY29uZmlndXJhdGlvblxuICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIFRleHQgaW5zdGFuY2VzIGN1cnJlbnRseSB1c2luZyB0aGlzIHRleHR1cmVcbiAgICovXG4gIGdldFJlZmVyZW5jZUNvdW50KHRleHRLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0/LnVzYWdlQ291bnQgPz8gbnVsbDtcbiAgfVxuICBfaW5jcmVhc2VSZWZlcmVuY2VDb3VudCh0ZXh0S2V5KSB7XG4gICAgdGhpcy5fYWN0aXZlVGV4dHVyZXNbdGV4dEtleV0udXNhZ2VDb3VudCsrO1xuICB9XG4gIC8qKlxuICAgKiBEZWNyZWFzZXMgdGhlIHJlZmVyZW5jZSBjb3VudCBmb3IgYSB0ZXh0dXJlLlxuICAgKiBJZiB0aGUgY291bnQgcmVhY2hlcyB6ZXJvLCB0aGUgdGV4dHVyZSBpcyBjbGVhbmVkIHVwLlxuICAgKiBAcGFyYW0gdGV4dEtleSAtIFRoZSBrZXkgYXNzb2NpYXRlZCB3aXRoIHRoZSBIVE1MVGV4dCBpbnN0YW5jZS5cbiAgICovXG4gIGRlY3JlYXNlUmVmZXJlbmNlQ291bnQodGV4dEtleSkge1xuICAgIGNvbnN0IGFjdGl2ZVRleHR1cmUgPSB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XTtcbiAgICBpZiAoIWFjdGl2ZVRleHR1cmUpXG4gICAgICByZXR1cm47XG4gICAgYWN0aXZlVGV4dHVyZS51c2FnZUNvdW50LS07XG4gICAgaWYgKGFjdGl2ZVRleHR1cmUudXNhZ2VDb3VudCA9PT0gMCkge1xuICAgICAgaWYgKGFjdGl2ZVRleHR1cmUudGV4dHVyZSkge1xuICAgICAgICB0aGlzLl9jbGVhblVwKGFjdGl2ZVRleHR1cmUudGV4dHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3RpdmVUZXh0dXJlLnByb21pc2UudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgICAgIGFjdGl2ZVRleHR1cmUudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgdGhpcy5fY2xlYW5VcChhY3RpdmVUZXh0dXJlLnRleHR1cmUpO1xuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgd2FybihcIkhUTUxUZXh0U3lzdGVtOiBGYWlsZWQgdG8gY2xlYW4gdGV4dHVyZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVUZXh0dXJlc1t0ZXh0S2V5XSA9IG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgdGV4dHVyZSBmb3IgdGhlIGdpdmVuIEhUTUxUZXh0IG9wdGlvbnMuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBIVE1MVGV4dC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBUZXh0dXJlLlxuICAgKi9cbiAgZ2V0VGV4dHVyZVByb21pc2Uob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLl9idWlsZFRleHR1cmVQcm9taXNlKG9wdGlvbnMpO1xuICB9XG4gIGFzeW5jIF9idWlsZFRleHR1cmVQcm9taXNlKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCB0ZXh0dXJlU3R5bGUgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgaHRtbFRleHREYXRhID0gQmlnUG9vbC5nZXQoSFRNTFRleHRSZW5kZXJEYXRhKTtcbiAgICBjb25zdCBmb250RmFtaWxpZXMgPSBleHRyYWN0Rm9udEZhbWlsaWVzKHRleHQsIHN0eWxlKTtcbiAgICBjb25zdCBmb250Q1NTID0gYXdhaXQgZ2V0Rm9udENzcyhmb250RmFtaWxpZXMpO1xuICAgIGNvbnN0IG1lYXN1cmVkID0gbWVhc3VyZUh0bWxUZXh0KHRleHQsIHN0eWxlLCBmb250Q1NTLCBodG1sVGV4dERhdGEpO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKE1hdGguY2VpbChNYXRoLm1heCgxLCBtZWFzdXJlZC53aWR0aCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5jZWlsKE1hdGgubWF4KDEsIG1lYXN1cmVkLmhlaWdodCkgKyBzdHlsZS5wYWRkaW5nICogMikgKiByZXNvbHV0aW9uKTtcbiAgICBjb25zdCBpbWFnZSA9IGh0bWxUZXh0RGF0YS5pbWFnZTtcbiAgICBjb25zdCB1dlNhZmVPZmZzZXQgPSAyO1xuICAgIGltYWdlLndpZHRoID0gKHdpZHRoIHwgMCkgKyB1dlNhZmVPZmZzZXQ7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gKGhlaWdodCB8IDApICsgdXZTYWZlT2Zmc2V0O1xuICAgIGNvbnN0IHN2Z1VSTCA9IGdldFNWR1VybCh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgZm9udENTUywgaHRtbFRleHREYXRhKTtcbiAgICBhd2FpdCBsb2FkU1ZHSW1hZ2UoaW1hZ2UsIHN2Z1VSTCwgaXNTYWZhcmkoKSAmJiBmb250RmFtaWxpZXMubGVuZ3RoID4gMCk7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBpbWFnZTtcbiAgICBsZXQgY2FudmFzQW5kQ29udGV4dDtcbiAgICBpZiAodGhpcy5fY3JlYXRlQ2FudmFzKSB7XG4gICAgICBjYW52YXNBbmRDb250ZXh0ID0gZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlKGltYWdlLCByZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IGdldFBvMlRleHR1cmVGcm9tU291cmNlKFxuICAgICAgY2FudmFzQW5kQ29udGV4dCA/IGNhbnZhc0FuZENvbnRleHQuY2FudmFzIDogcmVzb3VyY2UsXG4gICAgICBpbWFnZS53aWR0aCAtIHV2U2FmZU9mZnNldCxcbiAgICAgIGltYWdlLmhlaWdodCAtIHV2U2FmZU9mZnNldCxcbiAgICAgIHJlc29sdXRpb25cbiAgICApO1xuICAgIGlmICh0ZXh0dXJlU3R5bGUpXG4gICAgICB0ZXh0dXJlLnNvdXJjZS5zdHlsZSA9IHRleHR1cmVTdHlsZTtcbiAgICBpZiAodGhpcy5fY3JlYXRlQ2FudmFzKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci50ZXh0dXJlLmluaXRTb3VyY2UodGV4dHVyZS5zb3VyY2UpO1xuICAgICAgQ2FudmFzUG9vbC5yZXR1cm5DYW52YXNBbmRDb250ZXh0KGNhbnZhc0FuZENvbnRleHQpO1xuICAgIH1cbiAgICBCaWdQb29sLnJldHVybihodG1sVGV4dERhdGEpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xuICB9XG4gIHJldHVyblRleHR1cmVQcm9taXNlKHRleHR1cmVQcm9taXNlKSB7XG4gICAgdGV4dHVyZVByb21pc2UudGhlbigodGV4dHVyZSkgPT4ge1xuICAgICAgdGhpcy5fY2xlYW5VcCh0ZXh0dXJlKTtcbiAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICB3YXJuKFwiSFRNTFRleHRTeXN0ZW06IEZhaWxlZCB0byBjbGVhbiB0ZXh0dXJlXCIpO1xuICAgIH0pO1xuICB9XG4gIF9jbGVhblVwKHRleHR1cmUpIHtcbiAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgIHRleHR1cmUuc291cmNlLnJlc291cmNlID0gbnVsbDtcbiAgICB0ZXh0dXJlLnNvdXJjZS51cGxvYWRNZXRob2RJZCA9IFwidW5rbm93blwiO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX2FjdGl2ZVRleHR1cmVzKSB7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlVGV4dHVyZXNba2V5XSlcbiAgICAgICAgdGhpcy5yZXR1cm5UZXh0dXJlUHJvbWlzZSh0aGlzLl9hY3RpdmVUZXh0dXJlc1trZXldLnByb21pc2UpO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVUZXh0dXJlcyA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5IVE1MVGV4dFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiaHRtbFRleHRcIlxufTtcblxuZXhwb3J0IHsgSFRNTFRleHRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhUTUxUZXh0U3lzdGVtLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZXh0cmFjdEZvbnRGYW1pbGllcyh0ZXh0LCBzdHlsZSkge1xuICBjb25zdCBmb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseTtcbiAgY29uc3QgZm9udEZhbWlsaWVzID0gW107XG4gIGNvbnN0IGRlZHVwZSA9IHt9O1xuICBjb25zdCByZWdleCA9IC9mb250LWZhbWlseTooW147XCJcXHNdKykvZztcbiAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2gocmVnZXgpO1xuICBmdW5jdGlvbiBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkyKSB7XG4gICAgaWYgKCFkZWR1cGVbZm9udEZhbWlseTJdKSB7XG4gICAgICBmb250RmFtaWxpZXMucHVzaChmb250RmFtaWx5Mik7XG4gICAgICBkZWR1cGVbZm9udEZhbWlseTJdID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoZm9udEZhbWlseSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvbnRGYW1pbHkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseVtpXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFkZEZvbnRGYW1pbHkoZm9udEZhbWlseSk7XG4gIH1cbiAgaWYgKG1hdGNoZXMpIHtcbiAgICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgICBjb25zdCBmb250RmFtaWx5MiA9IG1hdGNoLnNwbGl0KFwiOlwiKVsxXS50cmltKCk7XG4gICAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkyKTtcbiAgICB9KTtcbiAgfVxuICBmb3IgKGNvbnN0IGkgaW4gc3R5bGUudGFnU3R5bGVzKSB7XG4gICAgY29uc3QgZm9udEZhbWlseTIgPSBzdHlsZS50YWdTdHlsZXNbaV0uZm9udEZhbWlseTtcbiAgICBhZGRGb250RmFtaWx5KGZvbnRGYW1pbHkyKTtcbiAgfVxuICByZXR1cm4gZm9udEZhbWlsaWVzO1xufVxuXG5leHBvcnQgeyBleHRyYWN0Rm9udEZhbWlsaWVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0Rm9udEZhbWlsaWVzLm1qcy5tYXBcbiIsImltcG9ydCB7IGxvYWRGb250QXNCYXNlNjQgfSBmcm9tICcuL2xvYWRGb250QXNCYXNlNjQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5hc3luYyBmdW5jdGlvbiBsb2FkRm9udENTUyhzdHlsZSwgdXJsKSB7XG4gIGNvbnN0IGRhdGFTcmMgPSBhd2FpdCBsb2FkRm9udEFzQmFzZTY0KHVybCk7XG4gIHJldHVybiBgQGZvbnQtZmFjZSB7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBcIiR7c3R5bGUuZm9udEZhbWlseX1cIjtcbiAgICAgICAgZm9udC13ZWlnaHQ6ICR7c3R5bGUuZm9udFdlaWdodH07XG4gICAgICAgIGZvbnQtc3R5bGU6ICR7c3R5bGUuZm9udFN0eWxlfTtcbiAgICAgICAgc3JjOiB1cmwoJyR7ZGF0YVNyY30nKTtcbiAgICB9YDtcbn1cblxuZXhwb3J0IHsgbG9hZEZvbnRDU1MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRGb250Q1NTLm1qcy5tYXBcbiIsImltcG9ydCB7IERPTUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi9lbnZpcm9ubWVudC9hZGFwdGVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuYXN5bmMgZnVuY3Rpb24gbG9hZEZvbnRBc0Jhc2U2NCh1cmwpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBET01BZGFwdGVyLmdldCgpLmZldGNoKHVybCk7XG4gIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGNvbnN0IGRhdGFTcmMgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIH0pO1xuICByZXR1cm4gZGF0YVNyYztcbn1cblxuZXhwb3J0IHsgbG9hZEZvbnRBc0Jhc2U2NCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZEZvbnRBc0Jhc2U2NC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGdldFNWR1VybCh0ZXh0LCBzdHlsZSwgcmVzb2x1dGlvbiwgZm9udENTUywgaHRtbFRleHREYXRhKSB7XG4gIGNvbnN0IHsgZG9tRWxlbWVudCwgc3R5bGVFbGVtZW50LCBzdmdSb290IH0gPSBodG1sVGV4dERhdGE7XG4gIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHlsZT4ke3N0eWxlLmNzc1N0eWxlfTwvc3R5bGU+PGRpdiBzdHlsZT0ncGFkZGluZzowOyc+JHt0ZXh0fTwvZGl2PmA7XG4gIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgYHRyYW5zZm9ybTogc2NhbGUoJHtyZXNvbHV0aW9ufSk7dHJhbnNmb3JtLW9yaWdpbjogdG9wIGxlZnQ7IGRpc3BsYXk6IGlubGluZS1ibG9ja2ApO1xuICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBmb250Q1NTO1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGh0bWxUZXh0RGF0YS5pbWFnZTtcbiAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aC50b1N0cmluZygpKTtcbiAgc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICByZXR1cm4gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmdSb290KTtcbn1cblxuZXhwb3J0IHsgZ2V0U1ZHVXJsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRTVkdVcmwubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBsb2FkU1ZHSW1hZ2UoaW1hZ2UsIHVybCwgZGVsYXkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKGRlbGF5KSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZTIpID0+IHNldFRpbWVvdXQocmVzb2x2ZTIsIDEwMCkpO1xuICAgIH1cbiAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSBgZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmOCwke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWA7XG4gICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgbG9hZFNWR0ltYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkU1ZHSW1hZ2UubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgY29uc3QgeyB1c2VyQWdlbnQgfSA9IERPTUFkYXB0ZXIuZ2V0KCkuZ2V0TmF2aWdhdG9yKCk7XG4gIHJldHVybiAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KHVzZXJBZ2VudCk7XG59XG5cbmV4cG9ydCB7IGlzU2FmYXJpIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NhZmFyaS5tanMubWFwXG4iLCJpbXBvcnQgeyBDYW52YXNQb29sIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9DYW52YXNQb29sLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZ2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlKGltYWdlLCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IGNhbnZhc0FuZENvbnRleHQgPSBDYW52YXNQb29sLmdldE9wdGltYWxDYW52YXNBbmRDb250ZXh0KFxuICAgIGltYWdlLndpZHRoLFxuICAgIGltYWdlLmhlaWdodCxcbiAgICByZXNvbHV0aW9uXG4gICk7XG4gIGNvbnN0IHsgY29udGV4dCB9ID0gY2FudmFzQW5kQ29udGV4dDtcbiAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcbiAgcmV0dXJuIGNhbnZhc0FuZENvbnRleHQ7XG59XG5cbmV4cG9ydCB7IGdldFRlbXBvcmFyeUNhbnZhc0Zyb21JbWFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0VGVtcG9yYXJ5Q2FudmFzRnJvbUltYWdlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEhUTUxUZXh0UGlwZSB9IGZyb20gJy4vSFRNTFRleHRQaXBlLm1qcyc7XG5pbXBvcnQgeyBIVE1MVGV4dFN5c3RlbSB9IGZyb20gJy4vSFRNTFRleHRTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChIVE1MVGV4dFN5c3RlbSk7XG5leHRlbnNpb25zLmFkZChIVE1MVGV4dFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbG9yVG9Vbmlmb3JtKHJnYiwgYWxwaGEsIG91dCwgb2Zmc2V0KSB7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDE2ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuZnVuY3Rpb24gY29sb3IzMkJpdFRvVW5pZm9ybShhYmdyLCBvdXQsIG9mZnNldCkge1xuICBjb25zdCBhbHBoYSA9IChhYmdyID4+IDI0ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgPj4gOCAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDE2ICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gYWxwaGE7XG59XG5cbmV4cG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0sIGNvbG9yVG9Vbmlmb3JtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvclRvVW5pZm9ybS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmlsdGVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBwdXNoKGZpbHRlckVmZmVjdCwgY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlclBpcGVzID0gdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gICAgcmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiZmlsdGVyXCIsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlLFxuICAgICAgYWN0aW9uOiBcInB1c2hGaWx0ZXJcIixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGZpbHRlckVmZmVjdFxuICAgIH0pO1xuICB9XG4gIHBvcChfZmlsdGVyRWZmZWN0LCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgYWN0aW9uOiBcInBvcEZpbHRlclwiLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInB1c2hGaWx0ZXJcIikge1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZmlsdGVyLnB1c2goaW5zdHJ1Y3Rpb24pO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcEZpbHRlclwiKSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG5GaWx0ZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJmaWx0ZXJcIlxufTtcblxuZXhwb3J0IHsgRmlsdGVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmlsdGVyUGlwZS5tanMubWFwXG4iLCJ2YXIgc291cmNlID0gXCJzdHJ1Y3QgR2xvYmFsRmlsdGVyVW5pZm9ybXMge1xcbiAgdUlucHV0U2l6ZTogdmVjNDxmMzI+LFxcbiAgdUlucHV0UGl4ZWw6IHZlYzQ8ZjMyPixcXG4gIHVJbnB1dENsYW1wOiB2ZWM0PGYzMj4sXFxuICB1T3V0cHV0RnJhbWU6IHZlYzQ8ZjMyPixcXG4gIHVHbG9iYWxGcmFtZTogdmVjNDxmMzI+LFxcbiAgdU91dHB1dFRleHR1cmU6IHZlYzQ8ZjMyPixcXG59O1xcblxcbkBncm91cCgwKSBAYmluZGluZygwKSB2YXIgPHVuaWZvcm0+IGdmdTogR2xvYmFsRmlsdGVyVW5pZm9ybXM7XFxuQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXI6IHNhbXBsZXI7XFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyPGYzMj5cXG59O1xcblxcbmZuIGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbjogdmVjMjxmMzI+KSAtPiB2ZWM0PGYzMj5cXG57XFxuICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIGdmdS51T3V0cHV0RnJhbWUuencgKyBnZnUudU91dHB1dEZyYW1lLnh5O1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqICgyLjAgLyBnZnUudU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCAqIGdmdS51T3V0cHV0VGV4dHVyZS56IC8gZ2Z1LnVPdXRwdXRUZXh0dXJlLnkpIC0gZ2Z1LnVPdXRwdXRUZXh0dXJlLno7XFxuXFxuICAgIHJldHVybiB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7XFxufVxcblxcbmZuIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb246IHZlYzI8ZjMyPikgLT4gdmVjMjxmMzI+XFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKGdmdS51T3V0cHV0RnJhbWUuencgKiBnZnUudUlucHV0U2l6ZS56dyk7XFxufVxcblxcbkB2ZXJ0ZXhcXG5mbiBtYWluVmVydGV4KFxcbiAgQGxvY2F0aW9uKDApIGFQb3NpdGlvbjogdmVjMjxmMzI+LFxcbikgLT4gVlNPdXRwdXQge1xcbiAgcmV0dXJuIFZTT3V0cHV0KFxcbiAgIGZpbHRlclZlcnRleFBvc2l0aW9uKGFQb3NpdGlvbiksXFxuICAgZmlsdGVyVGV4dHVyZUNvb3JkKGFQb3NpdGlvbilcXG4gICk7XFxufVxcblxcbkBmcmFnbWVudFxcbmZuIG1haW5GcmFnbWVudChcXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMjxmMzI+LFxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuICAgIHJldHVybiB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdXYpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgc291cmNlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhc3N0aHJvdWdoLndnc2wubWpzLm1hcFxuIiwiaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4uLy4uL0ZpbHRlci5tanMnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuLi9kZWZhdWx0RmlsdGVyLnZlcnQubWpzJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL3Bhc3N0aHJvdWdoLmZyYWcubWpzJztcbmltcG9ydCBzb3VyY2UgZnJvbSAnLi9wYXNzdGhyb3VnaC53Z3NsLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUGFzc3Rocm91Z2hGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICAgIHZlcnRleDogeyBzb3VyY2UsIGVudHJ5UG9pbnQ6IFwibWFpblZlcnRleFwiIH0sXG4gICAgICBmcmFnbWVudDogeyBzb3VyY2UsIGVudHJ5UG9pbnQ6IFwibWFpbkZyYWdtZW50XCIgfSxcbiAgICAgIG5hbWU6IFwicGFzc3Rocm91Z2gtZmlsdGVyXCJcbiAgICB9KTtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBHbFByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXgsXG4gICAgICBmcmFnbWVudCxcbiAgICAgIG5hbWU6IFwicGFzc3Rocm91Z2gtZmlsdGVyXCJcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgZ2xQcm9ncmFtXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFzc3Rocm91Z2hGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhc3N0aHJvdWdoRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImluIHZlYzIgYVBvc2l0aW9uO1xcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IHVJbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IHVPdXRwdXRGcmFtZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dFRleHR1cmU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVBvc2l0aW9uICogdU91dHB1dEZyYW1lLnp3ICsgdU91dHB1dEZyYW1lLnh5O1xcbiAgICBcXG4gICAgcG9zaXRpb24ueCA9IHBvc2l0aW9uLnggKiAoMi4wIC8gdU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCp1T3V0cHV0VGV4dHVyZS56IC8gdU91dHB1dFRleHR1cmUueSkgLSB1T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKHVPdXRwdXRGcmFtZS56dyAqIHVJbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgdmVydGV4IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRGaWx0ZXIudmVydC5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcImluIHZlYzIgdlRleHR1cmVDb29yZDtcXG5vdXQgdmVjNCBmaW5hbENvbG9yO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbnZvaWQgbWFpbigpIHtcXG4gICAgZmluYWxDb2xvciA9IHRleHR1cmUodVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFzc3Rocm91Z2guZnJhZy5tanMubWFwXG4iLCJpbXBvcnQgJy4uLy4uLy4uL21hdGhzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcFByb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0cml4KCk7XG5mdW5jdGlvbiBnZXRHbG9iYWxSZW5kZXJhYmxlQm91bmRzKHJlbmRlcmFibGVzLCBib3VuZHMpIHtcbiAgYm91bmRzLmNsZWFyKCk7XG4gIGNvbnN0IGFjdHVhbE1hdHJpeCA9IGJvdW5kcy5tYXRyaXg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gcmVuZGVyYWJsZXNbaV07XG4gICAgaWYgKHJlbmRlcmFibGUuZ2xvYmFsRGlzcGxheVN0YXR1cyA8IDcpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJHcm91cCA9IHJlbmRlcmFibGUucmVuZGVyR3JvdXAgPz8gcmVuZGVyYWJsZS5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICBpZiAocmVuZGVyR3JvdXA/LmlzQ2FjaGVkQXNUZXh0dXJlKSB7XG4gICAgICBib3VuZHMubWF0cml4ID0gdGVtcFByb2plY3Rpb25NYXRyaXguY29weUZyb20ocmVuZGVyR3JvdXAudGV4dHVyZU9mZnNldEludmVyc2VUcmFuc2Zvcm0pLmFwcGVuZChyZW5kZXJhYmxlLndvcmxkVHJhbnNmb3JtKTtcbiAgICB9IGVsc2UgaWYgKHJlbmRlckdyb3VwPy5fcGFyZW50Q2FjaGVBc1RleHR1cmVSZW5kZXJHcm91cCkge1xuICAgICAgYm91bmRzLm1hdHJpeCA9IHRlbXBQcm9qZWN0aW9uTWF0cml4LmNvcHlGcm9tKHJlbmRlckdyb3VwLl9wYXJlbnRDYWNoZUFzVGV4dHVyZVJlbmRlckdyb3VwLmludmVyc2VXb3JsZFRyYW5zZm9ybSkuYXBwZW5kKHJlbmRlcmFibGUuZ3JvdXBUcmFuc2Zvcm0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBib3VuZHMubWF0cml4ID0gcmVuZGVyYWJsZS53b3JsZFRyYW5zZm9ybTtcbiAgICB9XG4gICAgYm91bmRzLmFkZEJvdW5kcyhyZW5kZXJhYmxlLmJvdW5kcyk7XG4gIH1cbiAgYm91bmRzLm1hdHJpeCA9IGFjdHVhbE1hdHJpeDtcbiAgcmV0dXJuIGJvdW5kcztcbn1cblxuZXhwb3J0IHsgZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0UmVuZGVyYWJsZUJvdW5kcy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBQYXNzdGhyb3VnaEZpbHRlciB9IGZyb20gJy4vZGVmYXVsdHMvcGFzc3Rocm91Z2gvUGFzc3Rocm91Z2hGaWx0ZXIubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlUG9vbC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGdldEdsb2JhbFJlbmRlcmFibGVCb3VuZHMgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldFJlbmRlcmFibGVCb3VuZHMubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBxdWFkR2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoe1xuICBhdHRyaWJ1dGVzOiB7XG4gICAgYVBvc2l0aW9uOiB7XG4gICAgICBidWZmZXI6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKSxcbiAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDJcIixcbiAgICAgIHN0cmlkZTogMiAqIDQsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9XG4gIH0sXG4gIGluZGV4QnVmZmVyOiBuZXcgVWludDMyQXJyYXkoWzAsIDEsIDIsIDAsIDIsIDNdKVxufSk7XG5jbGFzcyBGaWx0ZXJEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGZpbHRlciBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNraXAgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0byB3aGljaCB0aGUgZmlsdGVyIGlzIGFwcGxpZWQuXG4gICAgICogQHR5cGUge1RleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy5pbnB1dFRleHR1cmUgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrIHRleHR1cmUgdXNlZCBmb3IgYmxlbmRpbmcsIGlmIHJlcXVpcmVkLlxuICAgICAqIEB0eXBlIHtUZXh0dXJlIHwgbnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tUZXh0dXJlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBmaWx0ZXJzIHRvIGJlIGFwcGxpZWQuXG4gICAgICogQHR5cGUge0ZpbHRlcltdfVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIGJvdW5kcyBvZiB0aGUgZmlsdGVyIGFyZWEuXG4gICAgICogQHR5cGUge0JvdW5kc31cbiAgICAgKi9cbiAgICB0aGlzLmJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGFpbmVyIHRvIHdoaWNoIHRoZSBmaWx0ZXIgaXMgYXBwbGllZC5cbiAgICAgKiBAdHlwZSB7Q29udGFpbmVyfVxuICAgICAqL1xuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBibGVuZGluZyBpcyByZXF1aXJlZCBmb3IgdGhlIGZpbHRlci5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmJsZW5kUmVxdWlyZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyIHN1cmZhY2Ugd2hlcmUgdGhlIG91dHB1dCBvZiB0aGUgZmlsdGVyIGlzIHJlbmRlcmVkLlxuICAgICAqIEB0eXBlIHtSZW5kZXJTdXJmYWNlfVxuICAgICAqL1xuICAgIHRoaXMub3V0cHV0UmVuZGVyU3VyZmFjZSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIGdsb2JhbCBmcmFtZSBvZiB0aGUgZmlsdGVyIGFyZWEuXG4gICAgICogQHR5cGUge3sgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH19XG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxGcmFtZSA9IHsgeDogMCwgeTogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgIC8qKiBUaGUgZmlyc3QgZW5hYmxlZCBmaWx0ZXIgaW5kZXggaW4gdGhlIGN1cnJlbnQgZmlsdGVyIGxpc3QuICovXG4gICAgdGhpcy5maXJzdEVuYWJsZWRJbmRleCA9IC0xO1xuICAgIC8qKiBUaGUgbGFzdCBlbmFibGVkIGZpbHRlciBpbmRleCBpbiB0aGUgY3VycmVudCBmaWx0ZXIgbGlzdC4gKi9cbiAgICB0aGlzLmxhc3RFbmFibGVkSW5kZXggPSAtMTtcbiAgfVxufVxuY2xhc3MgRmlsdGVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9maWx0ZXJTdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLl9maWx0ZXJTdGFjayA9IFtdO1xuICAgIHRoaXMuX2ZpbHRlckdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1SW5wdXRTaXplOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1SW5wdXRQaXhlbDogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUlucHV0Q2xhbXA6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVPdXRwdXRGcmFtZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUdsb2JhbEZyYW1lOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1T3V0cHV0VGV4dHVyZTogeyB2YWx1ZTogbmV3IEZsb2F0MzJBcnJheSg0KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9XG4gICAgfSk7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh7fSk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgYmFjayB0ZXh0dXJlIG9mIHRoZSBjdXJyZW50bHkgYWN0aXZlIGZpbHRlci4gUmVxdWlyZXMgdGhlIGZpbHRlciB0byBoYXZlIGBibGVuZFJlcXVpcmVkYCBzZXQgdG8gdHJ1ZS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgYWN0aXZlQmFja1RleHR1cmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUZpbHRlckRhdGE/LmJhY2tUZXh0dXJlO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoZXMgYSBmaWx0ZXIgaW5zdHJ1Y3Rpb24gb250byB0aGUgZmlsdGVyIHN0YWNrLlxuICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb24gLSBUaGUgaW5zdHJ1Y3Rpb24gY29udGFpbmluZyB0aGUgZmlsdGVyIGVmZmVjdCBhbmQgY29udGFpbmVyLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHB1c2goaW5zdHJ1Y3Rpb24pIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgZmlsdGVycyA9IGluc3RydWN0aW9uLmZpbHRlckVmZmVjdC5maWx0ZXJzO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9wdXNoRmlsdGVyRGF0YSgpO1xuICAgIGZpbHRlckRhdGEuc2tpcCA9IGZhbHNlO1xuICAgIGZpbHRlckRhdGEuZmlsdGVycyA9IGZpbHRlcnM7XG4gICAgZmlsdGVyRGF0YS5jb250YWluZXIgPSBpbnN0cnVjdGlvbi5jb250YWluZXI7XG4gICAgZmlsdGVyRGF0YS5vdXRwdXRSZW5kZXJTdXJmYWNlID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgY29sb3JUZXh0dXJlU291cmNlID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlO1xuICAgIGNvbnN0IHJvb3RSZXNvbHV0aW9uID0gY29sb3JUZXh0dXJlU291cmNlLnJlc29sdXRpb247XG4gICAgY29uc3Qgcm9vdEFudGlhbGlhcyA9IGNvbG9yVGV4dHVyZVNvdXJjZS5hbnRpYWxpYXM7XG4gICAgaWYgKGZpbHRlcnMuZXZlcnkoKGZpbHRlcikgPT4gIWZpbHRlci5lbmFibGVkKSkge1xuICAgICAgZmlsdGVyRGF0YS5za2lwID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgdGhpcy5fY2FsY3VsYXRlRmlsdGVyQXJlYShpbnN0cnVjdGlvbiwgYm91bmRzKTtcbiAgICB0aGlzLl9jYWxjdWxhdGVGaWx0ZXJCb3VuZHMoZmlsdGVyRGF0YSwgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJvb3RWaWV3UG9ydCwgcm9vdEFudGlhbGlhcywgcm9vdFJlc29sdXRpb24sIDEpO1xuICAgIGlmIChmaWx0ZXJEYXRhLnNraXApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNGaWx0ZXJEYXRhID0gdGhpcy5fZ2V0UHJldmlvdXNGaWx0ZXJEYXRhKCk7XG4gICAgY29uc3QgZ2xvYmFsUmVzb2x1dGlvbiA9IHRoaXMuX2ZpbmRGaWx0ZXJSZXNvbHV0aW9uKHJvb3RSZXNvbHV0aW9uKTtcbiAgICBsZXQgb2Zmc2V0WCA9IDA7XG4gICAgbGV0IG9mZnNldFkgPSAwO1xuICAgIGlmIChwcmV2aW91c0ZpbHRlckRhdGEpIHtcbiAgICAgIG9mZnNldFggPSBwcmV2aW91c0ZpbHRlckRhdGEuYm91bmRzLm1pblg7XG4gICAgICBvZmZzZXRZID0gcHJldmlvdXNGaWx0ZXJEYXRhLmJvdW5kcy5taW5ZO1xuICAgIH1cbiAgICB0aGlzLl9jYWxjdWxhdGVHbG9iYWxGcmFtZShcbiAgICAgIGZpbHRlckRhdGEsXG4gICAgICBvZmZzZXRYLFxuICAgICAgb2Zmc2V0WSxcbiAgICAgIGdsb2JhbFJlc29sdXRpb24sXG4gICAgICBjb2xvclRleHR1cmVTb3VyY2Uud2lkdGgsXG4gICAgICBjb2xvclRleHR1cmVTb3VyY2UuaGVpZ2h0XG4gICAgKTtcbiAgICB0aGlzLl9zZXR1cEZpbHRlclRleHR1cmVzKGZpbHRlckRhdGEsIGJvdW5kcywgcmVuZGVyZXIsIHByZXZpb3VzRmlsdGVyRGF0YSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgZmlsdGVycyB0byBhIHRleHR1cmUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHRha2VzIGEgdGV4dHVyZSBhbmQgYSBsaXN0IG9mIGZpbHRlcnMsIGFwcGxpZXMgdGhlIGZpbHRlcnMgdG8gdGhlIHRleHR1cmUsXG4gICAqIGFuZCByZXR1cm5zIHRoZSByZXN1bHRpbmcgdGV4dHVyZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBhcHBseWluZyBmaWx0ZXJzLlxuICAgKiBAcGFyYW0ge1RleHR1cmV9IHBhcmFtcy50ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gYXBwbHkgZmlsdGVycyB0by5cbiAgICogQHBhcmFtIHtGaWx0ZXJbXX0gcGFyYW1zLmZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICogQHJldHVybnMge1RleHR1cmV9IFRoZSByZXN1bHRpbmcgdGV4dHVyZSBhZnRlciBhbGwgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gQ3JlYXRlIGEgdGV4dHVyZSBhbmQgYSBsaXN0IG9mIGZpbHRlcnNcbiAgICogY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKC4uLik7XG4gICAqIGNvbnN0IGZpbHRlcnMgPSBbbmV3IEJsdXJGaWx0ZXIoKSwgbmV3IENvbG9yTWF0cml4RmlsdGVyKCldO1xuICAgKlxuICAgKiAvLyBBcHBseSB0aGUgZmlsdGVycyB0byB0aGUgdGV4dHVyZVxuICAgKiBjb25zdCByZXN1bHRUZXh0dXJlID0gZmlsdGVyU3lzdGVtLmFwcGx5VG9UZXh0dXJlKHsgdGV4dHVyZSwgZmlsdGVycyB9KTtcbiAgICpcbiAgICogLy8gVXNlIHRoZSByZXN1bHRpbmcgdGV4dHVyZVxuICAgKiBzcHJpdGUudGV4dHVyZSA9IHJlc3VsdFRleHR1cmU7XG4gICAqIGBgYFxuICAgKlxuICAgKiBLZXkgUG9pbnRzOlxuICAgKiAxLiBwYWRkaW5nIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGhlcmUgLSBzbyBjbGlwcGluZyBtYXkgb2NjdXIgd2l0aCBmaWx0ZXJzIHRoYXQgdXNlIHBhZGRpbmcuXG4gICAqIDIuIElmIGFsbCBmaWx0ZXJzIGFyZSBkaXNhYmxlZCBvciBza2lwcGVkLCB0aGUgb3JpZ2luYWwgdGV4dHVyZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdlbmVyYXRlRmlsdGVyZWRUZXh0dXJlKHsgdGV4dHVyZSwgZmlsdGVycyB9KSB7XG4gICAgY29uc3QgZmlsdGVyRGF0YSA9IHRoaXMuX3B1c2hGaWx0ZXJEYXRhKCk7XG4gICAgdGhpcy5fYWN0aXZlRmlsdGVyRGF0YSA9IGZpbHRlckRhdGE7XG4gICAgZmlsdGVyRGF0YS5za2lwID0gZmFsc2U7XG4gICAgZmlsdGVyRGF0YS5maWx0ZXJzID0gZmlsdGVycztcbiAgICBjb25zdCBjb2xvclRleHR1cmVTb3VyY2UgPSB0ZXh0dXJlLnNvdXJjZTtcbiAgICBjb25zdCByb290UmVzb2x1dGlvbiA9IGNvbG9yVGV4dHVyZVNvdXJjZS5yZXNvbHV0aW9uO1xuICAgIGNvbnN0IHJvb3RBbnRpYWxpYXMgPSBjb2xvclRleHR1cmVTb3VyY2UuYW50aWFsaWFzO1xuICAgIGlmIChmaWx0ZXJzLmV2ZXJ5KChmaWx0ZXIpID0+ICFmaWx0ZXIuZW5hYmxlZCkpIHtcbiAgICAgIGZpbHRlckRhdGEuc2tpcCA9IHRydWU7XG4gICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG4gICAgY29uc3QgYm91bmRzID0gZmlsdGVyRGF0YS5ib3VuZHM7XG4gICAgYm91bmRzLmFkZFJlY3QodGV4dHVyZS5mcmFtZSk7XG4gICAgdGhpcy5fY2FsY3VsYXRlRmlsdGVyQm91bmRzKGZpbHRlckRhdGEsIGJvdW5kcy5yZWN0YW5nbGUsIHJvb3RBbnRpYWxpYXMsIHJvb3RSZXNvbHV0aW9uLCAwKTtcbiAgICBpZiAoZmlsdGVyRGF0YS5za2lwKSB7XG4gICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9XG4gICAgY29uc3QgZ2xvYmFsUmVzb2x1dGlvbiA9IHJvb3RSZXNvbHV0aW9uO1xuICAgIGNvbnN0IG9mZnNldFggPSAwO1xuICAgIGNvbnN0IG9mZnNldFkgPSAwO1xuICAgIHRoaXMuX2NhbGN1bGF0ZUdsb2JhbEZyYW1lKFxuICAgICAgZmlsdGVyRGF0YSxcbiAgICAgIG9mZnNldFgsXG4gICAgICBvZmZzZXRZLFxuICAgICAgZ2xvYmFsUmVzb2x1dGlvbixcbiAgICAgIGNvbG9yVGV4dHVyZVNvdXJjZS53aWR0aCxcbiAgICAgIGNvbG9yVGV4dHVyZVNvdXJjZS5oZWlnaHRcbiAgICApO1xuICAgIGZpbHRlckRhdGEub3V0cHV0UmVuZGVyU3VyZmFjZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgIGZpbHRlckRhdGEucmVzb2x1dGlvbixcbiAgICAgIGZpbHRlckRhdGEuYW50aWFsaWFzXG4gICAgKTtcbiAgICBmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlID0gVGV4dHVyZS5FTVBUWTtcbiAgICBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSA9IHRleHR1cmU7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgdGhpcy5fYXBwbHlGaWx0ZXJzVG9UZXh0dXJlKGZpbHRlckRhdGEsIHRydWUpO1xuICAgIGNvbnN0IG91dHB1dFRleHR1cmUgPSBmaWx0ZXJEYXRhLm91dHB1dFJlbmRlclN1cmZhY2U7XG4gICAgb3V0cHV0VGV4dHVyZS5zb3VyY2UuYWxwaGFNb2RlID0gXCJwcmVtdWx0aXBsaWVkLWFscGhhXCI7XG4gICAgcmV0dXJuIG91dHB1dFRleHR1cmU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwb3AoKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9wb3BGaWx0ZXJEYXRhKCk7XG4gICAgaWYgKGZpbHRlckRhdGEuc2tpcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgIHRoaXMuX2FjdGl2ZUZpbHRlckRhdGEgPSBmaWx0ZXJEYXRhO1xuICAgIHRoaXMuX2FwcGx5RmlsdGVyc1RvVGV4dHVyZShmaWx0ZXJEYXRhLCBmYWxzZSk7XG4gICAgaWYgKGZpbHRlckRhdGEuYmxlbmRSZXF1aXJlZCkge1xuICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlKTtcbiAgICB9XG4gICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSk7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyB0aGUgbGFzdCByZW5kZXIgc3VyZmFjZSB0byBhIHRleHR1cmUuXG4gICAqIEBwYXJhbSBsYXN0UmVuZGVyU3VyZmFjZSAtIFRoZSBsYXN0IHJlbmRlciBzdXJmYWNlIHRvIGNvcHkgZnJvbS5cbiAgICogQHBhcmFtIGJvdW5kcyAtIFRoZSBib3VuZHMgb2YgdGhlIGFyZWEgdG8gY29weS5cbiAgICogQHBhcmFtIHByZXZpb3VzQm91bmRzIC0gVGhlIHByZXZpb3VzIGJvdW5kcyB0byB1c2UgZm9yIG9mZnNldHRpbmcgdGhlIGNvcHkuXG4gICAqL1xuICBnZXRCYWNrVGV4dHVyZShsYXN0UmVuZGVyU3VyZmFjZSwgYm91bmRzLCBwcmV2aW91c0JvdW5kcykge1xuICAgIGNvbnN0IGJhY2tncm91bmRSZXNvbHV0aW9uID0gbGFzdFJlbmRlclN1cmZhY2UuY29sb3JUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgICBjb25zdCBiYWNrVGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgIGJhY2tncm91bmRSZXNvbHV0aW9uLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGxldCB4ID0gYm91bmRzLm1pblg7XG4gICAgbGV0IHkgPSBib3VuZHMubWluWTtcbiAgICBpZiAocHJldmlvdXNCb3VuZHMpIHtcbiAgICAgIHggLT0gcHJldmlvdXNCb3VuZHMubWluWDtcbiAgICAgIHkgLT0gcHJldmlvdXNCb3VuZHMubWluWTtcbiAgICB9XG4gICAgeCA9IE1hdGguZmxvb3IoeCAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICB5ID0gTWF0aC5mbG9vcih5ICogYmFja2dyb3VuZFJlc29sdXRpb24pO1xuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGJvdW5kcy53aWR0aCAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmNlaWwoYm91bmRzLmhlaWdodCAqIGJhY2tncm91bmRSZXNvbHV0aW9uKTtcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlclRhcmdldC5jb3B5VG9UZXh0dXJlKFxuICAgICAgbGFzdFJlbmRlclN1cmZhY2UsXG4gICAgICBiYWNrVGV4dHVyZSxcbiAgICAgIHsgeCwgeSB9LFxuICAgICAgeyB3aWR0aCwgaGVpZ2h0IH0sXG4gICAgICB7IHg6IDAsIHk6IDAgfVxuICAgICk7XG4gICAgcmV0dXJuIGJhY2tUZXh0dXJlO1xuICB9XG4gIC8qKlxuICAgKiBBcHBsaWVzIGEgZmlsdGVyIHRvIGEgdGV4dHVyZS5cbiAgICogQHBhcmFtIGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gYXBwbHkuXG4gICAqIEBwYXJhbSBpbnB1dCAtIFRoZSBpbnB1dCB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCByZW5kZXIgc3VyZmFjZS5cbiAgICogQHBhcmFtIGNsZWFyIC0gV2hldGhlciB0byBjbGVhciB0aGUgb3V0cHV0IHN1cmZhY2UgYmVmb3JlIGFwcGx5aW5nIHRoZSBmaWx0ZXIuXG4gICAqL1xuICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGZpbHRlckRhdGEgPSB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhO1xuICAgIGNvbnN0IG91dHB1dFJlbmRlclN1cmZhY2UgPSBmaWx0ZXJEYXRhLm91dHB1dFJlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgaXNGaW5hbFRhcmdldCA9IG91dHB1dFJlbmRlclN1cmZhY2UgPT09IG91dHB1dDtcbiAgICBjb25zdCByb290UmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yb290UmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gICAgY29uc3QgcmVzb2x1dGlvbiA9IHRoaXMuX2ZpbmRGaWx0ZXJSZXNvbHV0aW9uKHJvb3RSZXNvbHV0aW9uKTtcbiAgICBsZXQgb2Zmc2V0WCA9IDA7XG4gICAgbGV0IG9mZnNldFkgPSAwO1xuICAgIGlmIChpc0ZpbmFsVGFyZ2V0KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl9maW5kUHJldmlvdXNGaWx0ZXJPZmZzZXQoKTtcbiAgICAgIG9mZnNldFggPSBvZmZzZXQueDtcbiAgICAgIG9mZnNldFkgPSBvZmZzZXQueTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlRmlsdGVyVW5pZm9ybXMoaW5wdXQsIG91dHB1dCwgZmlsdGVyRGF0YSwgb2Zmc2V0WCwgb2Zmc2V0WSwgcmVzb2x1dGlvbiwgaXNGaW5hbFRhcmdldCwgY2xlYXIpO1xuICAgIGNvbnN0IGZpbHRlclRvQXBwbHkgPSBmaWx0ZXIuZW5hYmxlZCA/IGZpbHRlciA6IHRoaXMuX2dldFBhc3N0aHJvdWdoRmlsdGVyKCk7XG4gICAgdGhpcy5fc2V0dXBCaW5kR3JvdXBzQW5kUmVuZGVyKGZpbHRlclRvQXBwbHksIGlucHV0LCByZW5kZXJlcik7XG4gIH1cbiAgLyoqXG4gICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgKlxuICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAqIEBwYXJhbSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIHtTcHJpdGV9IHNwcml0ZSAtIFRoZSBzcHJpdGUgdG8gbWFwIHRvLlxuICAgKiBAcmV0dXJucyBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICovXG4gIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIHNwcml0ZSkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9hY3RpdmVGaWx0ZXJEYXRhO1xuICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQoXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLndpZHRoLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICBkYXRhLmlucHV0VGV4dHVyZS5fc291cmNlLmhlaWdodCxcbiAgICAgIGRhdGEuYm91bmRzLm1pblgsXG4gICAgICBkYXRhLmJvdW5kcy5taW5ZXG4gICAgKTtcbiAgICBjb25zdCB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LnNoYXJlZCk7XG4gICAgY29uc3QgcmVuZGVyR3JvdXAgPSBzcHJpdGUucmVuZGVyR3JvdXAgfHwgc3ByaXRlLnBhcmVudFJlbmRlckdyb3VwO1xuICAgIGlmIChyZW5kZXJHcm91cCAmJiByZW5kZXJHcm91cC5jYWNoZVRvTG9jYWxUcmFuc2Zvcm0pIHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtLnByZXBlbmQocmVuZGVyR3JvdXAuY2FjaGVUb0xvY2FsVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgIG1hcHBlZE1hdHJpeC5zY2FsZShcbiAgICAgIDEgLyBzcHJpdGUudGV4dHVyZS5vcmlnLndpZHRoLFxuICAgICAgMSAvIHNwcml0ZS50ZXh0dXJlLm9yaWcuaGVpZ2h0XG4gICAgKTtcbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcbiAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcGFzc3Rocm91Z2hGaWx0ZXI/LmRlc3Ryb3kodHJ1ZSk7XG4gICAgdGhpcy5fcGFzc3Rocm91Z2hGaWx0ZXIgPSBudWxsO1xuICB9XG4gIF9nZXRQYXNzdGhyb3VnaEZpbHRlcigpIHtcbiAgICB0aGlzLl9wYXNzdGhyb3VnaEZpbHRlciA/PyAodGhpcy5fcGFzc3Rocm91Z2hGaWx0ZXIgPSBuZXcgUGFzc3Rocm91Z2hGaWx0ZXIoKSk7XG4gICAgcmV0dXJuIHRoaXMuX3Bhc3N0aHJvdWdoRmlsdGVyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoZSBiaW5kIGdyb3VwcyBhbmQgcmVuZGVycyB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBhcHBseVxuICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgaW5wdXQgdGV4dHVyZVxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgaW5zdGFuY2VcbiAgICovXG4gIF9zZXR1cEJpbmRHcm91cHNBbmRSZW5kZXIoZmlsdGVyLCBpbnB1dCwgcmVuZGVyZXIpIHtcbiAgICBpZiAocmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoKSB7XG4gICAgICBjb25zdCBiYXRjaFVuaWZvcm1zID0gcmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoLmdldFVib1Jlc291cmNlKHRoaXMuX2ZpbHRlckdsb2JhbFVuaWZvcm1zKTtcbiAgICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShiYXRjaFVuaWZvcm1zLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKHRoaXMuX2ZpbHRlckdsb2JhbFVuaWZvcm1zLCAwKTtcbiAgICB9XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGlucHV0LnNvdXJjZSwgMSk7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGlucHV0LnNvdXJjZS5zdHlsZSwgMik7XG4gICAgZmlsdGVyLmdyb3Vwc1swXSA9IHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cDtcbiAgICByZW5kZXJlci5lbmNvZGVyLmRyYXcoe1xuICAgICAgZ2VvbWV0cnk6IHF1YWRHZW9tZXRyeSxcbiAgICAgIHNoYWRlcjogZmlsdGVyLFxuICAgICAgc3RhdGU6IGZpbHRlci5fc3RhdGUsXG4gICAgICB0b3BvbG9neTogXCJ0cmlhbmdsZS1saXN0XCJcbiAgICB9KTtcbiAgICBpZiAocmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZmlsdGVyIHRleHR1cmVzIGluY2x1ZGluZyBpbnB1dCB0ZXh0dXJlIGFuZCBiYWNrIHRleHR1cmUgaWYgbmVlZGVkLlxuICAgKiBAcGFyYW0gZmlsdGVyRGF0YSAtIFRoZSBmaWx0ZXIgZGF0YSB0byB1cGRhdGVcbiAgICogQHBhcmFtIGJvdW5kcyAtIFRoZSBib3VuZHMgZm9yIHRoZSB0ZXh0dXJlXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciBpbnN0YW5jZVxuICAgKiBAcGFyYW0gcHJldmlvdXNGaWx0ZXJEYXRhIC0gVGhlIHByZXZpb3VzIGZpbHRlciBkYXRhIGZvciBiYWNrIHRleHR1cmUgY2FsY3VsYXRpb25cbiAgICovXG4gIF9zZXR1cEZpbHRlclRleHR1cmVzKGZpbHRlckRhdGEsIGJvdW5kcywgcmVuZGVyZXIsIHByZXZpb3VzRmlsdGVyRGF0YSkge1xuICAgIGZpbHRlckRhdGEuYmFja1RleHR1cmUgPSBUZXh0dXJlLkVNUFRZO1xuICAgIGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlID0gVGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoXG4gICAgICBib3VuZHMud2lkdGgsXG4gICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgZmlsdGVyRGF0YS5yZXNvbHV0aW9uLFxuICAgICAgZmlsdGVyRGF0YS5hbnRpYWxpYXNcbiAgICApO1xuICAgIGlmIChmaWx0ZXJEYXRhLmJsZW5kUmVxdWlyZWQpIHtcbiAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgICBjb25zdCByZW5kZXJUYXJnZXQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQuZ2V0UmVuZGVyVGFyZ2V0KGZpbHRlckRhdGEub3V0cHV0UmVuZGVyU3VyZmFjZSk7XG4gICAgICBmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlID0gdGhpcy5nZXRCYWNrVGV4dHVyZShyZW5kZXJUYXJnZXQsIGJvdW5kcywgcHJldmlvdXNGaWx0ZXJEYXRhPy5ib3VuZHMpO1xuICAgIH1cbiAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuYmluZChmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZSwgdHJ1ZSk7XG4gICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucHVzaCh7XG4gICAgICBvZmZzZXQ6IGJvdW5kc1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGFuZCBzZXRzIHRoZSBnbG9iYWwgZnJhbWUgZm9yIHRoZSBmaWx0ZXIuXG4gICAqIEBwYXJhbSBmaWx0ZXJEYXRhIC0gVGhlIGZpbHRlciBkYXRhIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0gb2Zmc2V0WCAtIFRoZSBYIG9mZnNldFxuICAgKiBAcGFyYW0gb2Zmc2V0WSAtIFRoZSBZIG9mZnNldFxuICAgKiBAcGFyYW0gZ2xvYmFsUmVzb2x1dGlvbiAtIFRoZSBnbG9iYWwgcmVzb2x1dGlvblxuICAgKiBAcGFyYW0gc291cmNlV2lkdGggLSBUaGUgc291cmNlIHRleHR1cmUgd2lkdGhcbiAgICogQHBhcmFtIHNvdXJjZUhlaWdodCAtIFRoZSBzb3VyY2UgdGV4dHVyZSBoZWlnaHRcbiAgICovXG4gIF9jYWxjdWxhdGVHbG9iYWxGcmFtZShmaWx0ZXJEYXRhLCBvZmZzZXRYLCBvZmZzZXRZLCBnbG9iYWxSZXNvbHV0aW9uLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KSB7XG4gICAgY29uc3QgZ2xvYmFsRnJhbWUgPSBmaWx0ZXJEYXRhLmdsb2JhbEZyYW1lO1xuICAgIGdsb2JhbEZyYW1lLnggPSBvZmZzZXRYICogZ2xvYmFsUmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZS55ID0gb2Zmc2V0WSAqIGdsb2JhbFJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWUud2lkdGggPSBzb3VyY2VXaWR0aCAqIGdsb2JhbFJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWUuaGVpZ2h0ID0gc291cmNlSGVpZ2h0ICogZ2xvYmFsUmVzb2x1dGlvbjtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZmlsdGVyIHVuaWZvcm1zIHdpdGggdGhlIGN1cnJlbnQgZmlsdGVyIHN0YXRlLlxuICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgaW5wdXQgdGV4dHVyZVxuICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCByZW5kZXIgc3VyZmFjZVxuICAgKiBAcGFyYW0gZmlsdGVyRGF0YSAtIFRoZSBjdXJyZW50IGZpbHRlciBkYXRhXG4gICAqIEBwYXJhbSBvZmZzZXRYIC0gVGhlIFggb2Zmc2V0IGZvciBwb3NpdGlvbmluZ1xuICAgKiBAcGFyYW0gb2Zmc2V0WSAtIFRoZSBZIG9mZnNldCBmb3IgcG9zaXRpb25pbmdcbiAgICogQHBhcmFtIHJlc29sdXRpb24gLSBUaGUgY3VycmVudCByZXNvbHV0aW9uXG4gICAqIEBwYXJhbSBpc0ZpbmFsVGFyZ2V0IC0gV2hldGhlciB0aGlzIGlzIHRoZSBmaW5hbCByZW5kZXIgdGFyZ2V0XG4gICAqIEBwYXJhbSBjbGVhciAtIFdoZXRoZXIgdG8gY2xlYXIgdGhlIG91dHB1dCBzdXJmYWNlXG4gICAqL1xuICBfdXBkYXRlRmlsdGVyVW5pZm9ybXMoaW5wdXQsIG91dHB1dCwgZmlsdGVyRGF0YSwgb2Zmc2V0WCwgb2Zmc2V0WSwgcmVzb2x1dGlvbiwgaXNGaW5hbFRhcmdldCwgY2xlYXIpIHtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHRoaXMuX2ZpbHRlckdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zO1xuICAgIGNvbnN0IG91dHB1dEZyYW1lID0gdW5pZm9ybXMudU91dHB1dEZyYW1lO1xuICAgIGNvbnN0IGlucHV0U2l6ZSA9IHVuaWZvcm1zLnVJbnB1dFNpemU7XG4gICAgY29uc3QgaW5wdXRQaXhlbCA9IHVuaWZvcm1zLnVJbnB1dFBpeGVsO1xuICAgIGNvbnN0IGlucHV0Q2xhbXAgPSB1bmlmb3Jtcy51SW5wdXRDbGFtcDtcbiAgICBjb25zdCBnbG9iYWxGcmFtZSA9IHVuaWZvcm1zLnVHbG9iYWxGcmFtZTtcbiAgICBjb25zdCBvdXRwdXRUZXh0dXJlID0gdW5pZm9ybXMudU91dHB1dFRleHR1cmU7XG4gICAgaWYgKGlzRmluYWxUYXJnZXQpIHtcbiAgICAgIG91dHB1dEZyYW1lWzBdID0gZmlsdGVyRGF0YS5ib3VuZHMubWluWCAtIG9mZnNldFg7XG4gICAgICBvdXRwdXRGcmFtZVsxXSA9IGZpbHRlckRhdGEuYm91bmRzLm1pblkgLSBvZmZzZXRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXRGcmFtZVswXSA9IDA7XG4gICAgICBvdXRwdXRGcmFtZVsxXSA9IDA7XG4gICAgfVxuICAgIG91dHB1dEZyYW1lWzJdID0gaW5wdXQuZnJhbWUud2lkdGg7XG4gICAgb3V0cHV0RnJhbWVbM10gPSBpbnB1dC5mcmFtZS5oZWlnaHQ7XG4gICAgaW5wdXRTaXplWzBdID0gaW5wdXQuc291cmNlLndpZHRoO1xuICAgIGlucHV0U2l6ZVsxXSA9IGlucHV0LnNvdXJjZS5oZWlnaHQ7XG4gICAgaW5wdXRTaXplWzJdID0gMSAvIGlucHV0U2l6ZVswXTtcbiAgICBpbnB1dFNpemVbM10gPSAxIC8gaW5wdXRTaXplWzFdO1xuICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dC5zb3VyY2UucGl4ZWxXaWR0aDtcbiAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXQuc291cmNlLnBpeGVsSGVpZ2h0O1xuICAgIGlucHV0UGl4ZWxbMl0gPSAxIC8gaW5wdXRQaXhlbFswXTtcbiAgICBpbnB1dFBpeGVsWzNdID0gMSAvIGlucHV0UGl4ZWxbMV07XG4gICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgaW5wdXRDbGFtcFsyXSA9IGlucHV0LmZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdIC0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICBpbnB1dENsYW1wWzNdID0gaW5wdXQuZnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdIC0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICBjb25zdCByb290VGV4dHVyZSA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJvb3RSZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlO1xuICAgIGdsb2JhbEZyYW1lWzBdID0gb2Zmc2V0WCAqIHJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWVbMV0gPSBvZmZzZXRZICogcmVzb2x1dGlvbjtcbiAgICBnbG9iYWxGcmFtZVsyXSA9IHJvb3RUZXh0dXJlLnNvdXJjZS53aWR0aCAqIHJlc29sdXRpb247XG4gICAgZ2xvYmFsRnJhbWVbM10gPSByb290VGV4dHVyZS5zb3VyY2UuaGVpZ2h0ICogcmVzb2x1dGlvbjtcbiAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgIG91dHB1dC5zb3VyY2UucmVzb3VyY2UgPSBudWxsO1xuICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0LmdldFJlbmRlclRhcmdldChvdXRwdXQpO1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0LmJpbmQob3V0cHV0LCAhIWNsZWFyKTtcbiAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgb3V0cHV0VGV4dHVyZVswXSA9IG91dHB1dC5mcmFtZS53aWR0aDtcbiAgICAgIG91dHB1dFRleHR1cmVbMV0gPSBvdXRwdXQuZnJhbWUuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXRUZXh0dXJlWzBdID0gcmVuZGVyVGFyZ2V0LndpZHRoO1xuICAgICAgb3V0cHV0VGV4dHVyZVsxXSA9IHJlbmRlclRhcmdldC5oZWlnaHQ7XG4gICAgfVxuICAgIG91dHB1dFRleHR1cmVbMl0gPSByZW5kZXJUYXJnZXQuaXNSb290ID8gLTEgOiAxO1xuICAgIHRoaXMuX2ZpbHRlckdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgY29ycmVjdCByZXNvbHV0aW9uIGJ5IGxvb2tpbmcgYmFjayB0aHJvdWdoIHRoZSBmaWx0ZXIgc3RhY2suXG4gICAqIEBwYXJhbSByb290UmVzb2x1dGlvbiAtIFRoZSBmYWxsYmFjayByb290IHJlc29sdXRpb24gdG8gdXNlXG4gICAqIEByZXR1cm5zIFRoZSByZXNvbHV0aW9uIGZyb20gdGhlIHByZXZpb3VzIGZpbHRlciBvciByb290IHJlc29sdXRpb25cbiAgICovXG4gIF9maW5kRmlsdGVyUmVzb2x1dGlvbihyb290UmVzb2x1dGlvbikge1xuICAgIGxldCBjdXJyZW50SW5kZXggPSB0aGlzLl9maWx0ZXJTdGFja0luZGV4IC0gMTtcbiAgICB3aGlsZSAoY3VycmVudEluZGV4ID4gMCAmJiB0aGlzLl9maWx0ZXJTdGFja1tjdXJyZW50SW5kZXhdLnNraXApIHtcbiAgICAgIC0tY3VycmVudEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEluZGV4ID4gMCAmJiB0aGlzLl9maWx0ZXJTdGFja1tjdXJyZW50SW5kZXhdLmlucHV0VGV4dHVyZSA/IHRoaXMuX2ZpbHRlclN0YWNrW2N1cnJlbnRJbmRleF0uaW5wdXRUZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbiA6IHJvb3RSZXNvbHV0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgb2Zmc2V0IGZyb20gdGhlIHByZXZpb3VzIG5vbi1za2lwcGVkIGZpbHRlciBpbiB0aGUgc3RhY2suXG4gICAqIEByZXR1cm5zIFRoZSBvZmZzZXQgY29vcmRpbmF0ZXMgZnJvbSB0aGUgcHJldmlvdXMgZmlsdGVyXG4gICAqL1xuICBfZmluZFByZXZpb3VzRmlsdGVyT2Zmc2V0KCkge1xuICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgbGV0IGxhc3RJbmRleCA9IHRoaXMuX2ZpbHRlclN0YWNrSW5kZXg7XG4gICAgd2hpbGUgKGxhc3RJbmRleCA+IDApIHtcbiAgICAgIGxhc3RJbmRleC0tO1xuICAgICAgY29uc3QgcHJldkZpbHRlckRhdGEgPSB0aGlzLl9maWx0ZXJTdGFja1tsYXN0SW5kZXhdO1xuICAgICAgaWYgKCFwcmV2RmlsdGVyRGF0YS5za2lwKSB7XG4gICAgICAgIG9mZnNldFggPSBwcmV2RmlsdGVyRGF0YS5ib3VuZHMubWluWDtcbiAgICAgICAgb2Zmc2V0WSA9IHByZXZGaWx0ZXJEYXRhLmJvdW5kcy5taW5ZO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgeDogb2Zmc2V0WCwgeTogb2Zmc2V0WSB9O1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBmaWx0ZXIgYXJlYSBib3VuZHMgYmFzZWQgb24gdGhlIGluc3RydWN0aW9uIHR5cGUuXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvbiAtIFRoZSBmaWx0ZXIgaW5zdHJ1Y3Rpb25cbiAgICogQHBhcmFtIGJvdW5kcyAtIFRoZSBib3VuZHMgb2JqZWN0IHRvIHBvcHVsYXRlXG4gICAqL1xuICBfY2FsY3VsYXRlRmlsdGVyQXJlYShpbnN0cnVjdGlvbiwgYm91bmRzKSB7XG4gICAgaWYgKGluc3RydWN0aW9uLnJlbmRlcmFibGVzKSB7XG4gICAgICBnZXRHbG9iYWxSZW5kZXJhYmxlQm91bmRzKGluc3RydWN0aW9uLnJlbmRlcmFibGVzLCBib3VuZHMpO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uZmlsdGVyRWZmZWN0LmZpbHRlckFyZWEpIHtcbiAgICAgIGJvdW5kcy5jbGVhcigpO1xuICAgICAgYm91bmRzLmFkZFJlY3QoaW5zdHJ1Y3Rpb24uZmlsdGVyRWZmZWN0LmZpbHRlckFyZWEpO1xuICAgICAgYm91bmRzLmFwcGx5TWF0cml4KGluc3RydWN0aW9uLmNvbnRhaW5lci53b3JsZFRyYW5zZm9ybSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RydWN0aW9uLmNvbnRhaW5lci5nZXRGYXN0R2xvYmFsQm91bmRzKHRydWUsIGJvdW5kcyk7XG4gICAgfVxuICAgIGlmIChpbnN0cnVjdGlvbi5jb250YWluZXIpIHtcbiAgICAgIGNvbnN0IHJlbmRlckdyb3VwID0gaW5zdHJ1Y3Rpb24uY29udGFpbmVyLnJlbmRlckdyb3VwIHx8IGluc3RydWN0aW9uLmNvbnRhaW5lci5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICAgIGNvbnN0IGZpbHRlckZyYW1lVHJhbnNmb3JtID0gcmVuZGVyR3JvdXAuY2FjaGVUb0xvY2FsVHJhbnNmb3JtO1xuICAgICAgaWYgKGZpbHRlckZyYW1lVHJhbnNmb3JtKSB7XG4gICAgICAgIGJvdW5kcy5hcHBseU1hdHJpeChmaWx0ZXJGcmFtZVRyYW5zZm9ybSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9hcHBseUZpbHRlcnNUb1RleHR1cmUoZmlsdGVyRGF0YSwgY2xlYXIpIHtcbiAgICBjb25zdCBpbnB1dFRleHR1cmUgPSBmaWx0ZXJEYXRhLmlucHV0VGV4dHVyZTtcbiAgICBjb25zdCBib3VuZHMgPSBmaWx0ZXJEYXRhLmJvdW5kcztcbiAgICBjb25zdCBmaWx0ZXJzID0gZmlsdGVyRGF0YS5maWx0ZXJzO1xuICAgIGNvbnN0IGZpcnN0RW5hYmxlZCA9IGZpbHRlckRhdGEuZmlyc3RFbmFibGVkSW5kZXg7XG4gICAgY29uc3QgbGFzdEVuYWJsZWQgPSBmaWx0ZXJEYXRhLmxhc3RFbmFibGVkSW5kZXg7XG4gICAgdGhpcy5fZ2xvYmFsRmlsdGVyQmluZEdyb3VwLnNldFJlc291cmNlKGlucHV0VGV4dHVyZS5zb3VyY2Uuc3R5bGUsIDIpO1xuICAgIHRoaXMuX2dsb2JhbEZpbHRlckJpbmRHcm91cC5zZXRSZXNvdXJjZShmaWx0ZXJEYXRhLmJhY2tUZXh0dXJlLnNvdXJjZSwgMyk7XG4gICAgaWYgKGZpcnN0RW5hYmxlZCA9PT0gbGFzdEVuYWJsZWQpIHtcbiAgICAgIGZpbHRlcnNbZmlyc3RFbmFibGVkXS5hcHBseSh0aGlzLCBpbnB1dFRleHR1cmUsIGZpbHRlckRhdGEub3V0cHV0UmVuZGVyU3VyZmFjZSwgY2xlYXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZmxpcCA9IGZpbHRlckRhdGEuaW5wdXRUZXh0dXJlO1xuICAgICAgY29uc3QgdGVtcFRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgICBmbGlwLnNvdXJjZS5fcmVzb2x1dGlvbixcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICBsZXQgZmxvcCA9IHRlbXBUZXh0dXJlO1xuICAgICAgZm9yIChsZXQgaSA9IGZpcnN0RW5hYmxlZDsgaSA8IGxhc3RFbmFibGVkOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmlsdGVyID0gZmlsdGVyc1tpXTtcbiAgICAgICAgaWYgKCFmaWx0ZXIuZW5hYmxlZClcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZmlsdGVyLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUpO1xuICAgICAgICBjb25zdCB0ID0gZmxpcDtcbiAgICAgICAgZmxpcCA9IGZsb3A7XG4gICAgICAgIGZsb3AgPSB0O1xuICAgICAgfVxuICAgICAgZmlsdGVyc1tsYXN0RW5hYmxlZF0uYXBwbHkodGhpcywgZmxpcCwgZmlsdGVyRGF0YS5vdXRwdXRSZW5kZXJTdXJmYWNlLCBjbGVhcik7XG4gICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHRlbXBUZXh0dXJlKTtcbiAgICB9XG4gIH1cbiAgX2NhbGN1bGF0ZUZpbHRlckJvdW5kcyhmaWx0ZXJEYXRhLCB2aWV3UG9ydCwgcm9vdEFudGlhbGlhcywgcm9vdFJlc29sdXRpb24sIHBhZGRpbmdNdWx0aXBsaWVyKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGJvdW5kcyA9IGZpbHRlckRhdGEuYm91bmRzO1xuICAgIGNvbnN0IGZpbHRlcnMgPSBmaWx0ZXJEYXRhLmZpbHRlcnM7XG4gICAgbGV0IHJlc29sdXRpb24gPSBJbmZpbml0eTtcbiAgICBsZXQgcGFkZGluZyA9IDA7XG4gICAgbGV0IGFudGlhbGlhcyA9IHRydWU7XG4gICAgbGV0IGJsZW5kUmVxdWlyZWQgPSBmYWxzZTtcbiAgICBsZXQgZW5hYmxlZCA9IGZhbHNlO1xuICAgIGxldCBjbGlwVG9WaWV3cG9ydCA9IHRydWU7XG4gICAgbGV0IGZpcnN0RW5hYmxlZEluZGV4ID0gLTE7XG4gICAgbGV0IGxhc3RFbmFibGVkSW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9IGZpbHRlcnNbaV07XG4gICAgICBpZiAoIWZpbHRlci5lbmFibGVkKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGlmIChmaXJzdEVuYWJsZWRJbmRleCA9PT0gLTEpXG4gICAgICAgIGZpcnN0RW5hYmxlZEluZGV4ID0gaTtcbiAgICAgIGxhc3RFbmFibGVkSW5kZXggPSBpO1xuICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uID09PSBcImluaGVyaXRcIiA/IHJvb3RSZXNvbHV0aW9uIDogZmlsdGVyLnJlc29sdXRpb24pO1xuICAgICAgcGFkZGluZyArPSBmaWx0ZXIucGFkZGluZztcbiAgICAgIGlmIChmaWx0ZXIuYW50aWFsaWFzID09PSBcIm9mZlwiKSB7XG4gICAgICAgIGFudGlhbGlhcyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXIuYW50aWFsaWFzID09PSBcImluaGVyaXRcIikge1xuICAgICAgICBhbnRpYWxpYXMgJiYgKGFudGlhbGlhcyA9IHJvb3RBbnRpYWxpYXMpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXIuY2xpcFRvVmlld3BvcnQpIHtcbiAgICAgICAgY2xpcFRvVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzQ29tcGF0aWJsZSA9ICEhKGZpbHRlci5jb21wYXRpYmxlUmVuZGVyZXJzICYgcmVuZGVyZXIudHlwZSk7XG4gICAgICBpZiAoIWlzQ29tcGF0aWJsZSkge1xuICAgICAgICBlbmFibGVkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGZpbHRlci5ibGVuZFJlcXVpcmVkICYmICEocmVuZGVyZXIuYmFja0J1ZmZlcj8udXNlQmFja0J1ZmZlciA/PyB0cnVlKSkge1xuICAgICAgICB3YXJuKFwiQmxlbmQgZmlsdGVyIHJlcXVpcmVzIGJhY2tCdWZmZXIgb24gV2ViR0wgcmVuZGVyZXIgdG8gYmUgZW5hYmxlZC4gU2V0IGB1c2VCYWNrQnVmZmVyOiB0cnVlYCBpbiB0aGUgcmVuZGVyZXIgb3B0aW9ucy5cIik7XG4gICAgICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlbmFibGVkID0gdHJ1ZTtcbiAgICAgIGJsZW5kUmVxdWlyZWQgfHwgKGJsZW5kUmVxdWlyZWQgPSBmaWx0ZXIuYmxlbmRSZXF1aXJlZCk7XG4gICAgfVxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgZmlsdGVyRGF0YS5za2lwID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNsaXBUb1ZpZXdwb3J0KSB7XG4gICAgICBib3VuZHMuZml0Qm91bmRzKDAsIHZpZXdQb3J0LndpZHRoIC8gcm9vdFJlc29sdXRpb24sIDAsIHZpZXdQb3J0LmhlaWdodCAvIHJvb3RSZXNvbHV0aW9uKTtcbiAgICB9XG4gICAgYm91bmRzLnNjYWxlKHJlc29sdXRpb24pLmNlaWwoKS5zY2FsZSgxIC8gcmVzb2x1dGlvbikucGFkKChwYWRkaW5nIHwgMCkgKiBwYWRkaW5nTXVsdGlwbGllcik7XG4gICAgaWYgKCFib3VuZHMuaXNQb3NpdGl2ZSkge1xuICAgICAgZmlsdGVyRGF0YS5za2lwID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmlsdGVyRGF0YS5hbnRpYWxpYXMgPSBhbnRpYWxpYXM7XG4gICAgZmlsdGVyRGF0YS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICBmaWx0ZXJEYXRhLmJsZW5kUmVxdWlyZWQgPSBibGVuZFJlcXVpcmVkO1xuICAgIGZpbHRlckRhdGEuZmlyc3RFbmFibGVkSW5kZXggPSBmaXJzdEVuYWJsZWRJbmRleDtcbiAgICBmaWx0ZXJEYXRhLmxhc3RFbmFibGVkSW5kZXggPSBsYXN0RW5hYmxlZEluZGV4O1xuICB9XG4gIF9wb3BGaWx0ZXJEYXRhKCkge1xuICAgIHRoaXMuX2ZpbHRlclN0YWNrSW5kZXgtLTtcbiAgICByZXR1cm4gdGhpcy5fZmlsdGVyU3RhY2tbdGhpcy5fZmlsdGVyU3RhY2tJbmRleF07XG4gIH1cbiAgX2dldFByZXZpb3VzRmlsdGVyRGF0YSgpIHtcbiAgICBsZXQgcHJldmlvdXNGaWx0ZXJEYXRhO1xuICAgIGxldCBpbmRleCA9IHRoaXMuX2ZpbHRlclN0YWNrSW5kZXggLSAxO1xuICAgIHdoaWxlIChpbmRleCA+IDApIHtcbiAgICAgIGluZGV4LS07XG4gICAgICBwcmV2aW91c0ZpbHRlckRhdGEgPSB0aGlzLl9maWx0ZXJTdGFja1tpbmRleF07XG4gICAgICBpZiAoIXByZXZpb3VzRmlsdGVyRGF0YS5za2lwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNGaWx0ZXJEYXRhO1xuICB9XG4gIF9wdXNoRmlsdGVyRGF0YSgpIHtcbiAgICBsZXQgZmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdO1xuICAgIGlmICghZmlsdGVyRGF0YSkge1xuICAgICAgZmlsdGVyRGF0YSA9IHRoaXMuX2ZpbHRlclN0YWNrW3RoaXMuX2ZpbHRlclN0YWNrSW5kZXhdID0gbmV3IEZpbHRlckRhdGEoKTtcbiAgICB9XG4gICAgdGhpcy5fZmlsdGVyU3RhY2tJbmRleCsrO1xuICAgIHJldHVybiBmaWx0ZXJEYXRhO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuRmlsdGVyU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJmaWx0ZXJcIlxufTtcblxuZXhwb3J0IHsgRmlsdGVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXJTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgRmlsdGVyUGlwZSB9IGZyb20gJy4vRmlsdGVyUGlwZS5tanMnO1xuaW1wb3J0IHsgRmlsdGVyU3lzdGVtIH0gZnJvbSAnLi9GaWx0ZXJTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChGaWx0ZXJTeXN0ZW0pO1xuZXh0ZW5zaW9ucy5hZGQoRmlsdGVyUGlwZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBSZXNpemVQbHVnaW4ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2luIHdpdGggc2NvcGUgb2YgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAqL1xuICBzdGF0aWMgaW5pdChvcHRpb25zKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgdGhpcyxcbiAgICAgIFwicmVzaXplVG9cIixcbiAgICAgIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBzZXQoZG9tKSB7XG4gICAgICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnF1ZXVlUmVzaXplKTtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLnF1ZXVlUmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9yZXNpemVUbykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9jYW5jZWxSZXNpemUoKTtcbiAgICAgIHRoaXMuX3Jlc2l6ZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMucmVzaXplKCkpO1xuICAgIH07XG4gICAgdGhpcy5fY2FuY2VsUmVzaXplID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZUlkKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3Jlc2l6ZUlkKTtcbiAgICAgICAgdGhpcy5fcmVzaXplSWQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZXNpemUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX3Jlc2l6ZVRvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSgpO1xuICAgICAgbGV0IHdpZHRoO1xuICAgICAgbGV0IGhlaWdodDtcbiAgICAgIGlmICh0aGlzLl9yZXNpemVUbyA9PT0gZ2xvYmFsVGhpcy53aW5kb3cpIHtcbiAgICAgICAgd2lkdGggPSBnbG9iYWxUaGlzLmlubmVyV2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGdsb2JhbFRoaXMuaW5uZXJIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQgfSA9IHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICB3aWR0aCA9IGNsaWVudFdpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgICB0aGlzLl9yZXNpemVJZCA9IG51bGw7XG4gICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIGRlc3Ryb3koKSB7XG4gICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucXVldWVSZXNpemUpO1xuICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSgpO1xuICAgIHRoaXMuX2NhbmNlbFJlc2l6ZSA9IG51bGw7XG4gICAgdGhpcy5xdWV1ZVJlc2l6ZSA9IG51bGw7XG4gICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemUgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuUmVzaXplUGx1Z2luLmV4dGVuc2lvbiA9IEV4dGVuc2lvblR5cGUuQXBwbGljYXRpb247XG5cbmV4cG9ydCB7IFJlc2l6ZVBsdWdpbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzaXplUGx1Z2luLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4uL3RpY2tlci9jb25zdC5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFRpY2tlclBsdWdpbiB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBwbHVnaW4gd2l0aCBzY29wZSBvZiBhcHBsaWNhdGlvbiBpbnN0YW5jZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICovXG4gIHN0YXRpYyBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICBzaGFyZWRUaWNrZXI6IGZhbHNlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgdGhpcyxcbiAgICAgIFwidGlja2VyXCIsXG4gICAgICB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgc2V0KHRpY2tlcikge1xuICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgaWYgKHRpY2tlcikge1xuICAgICAgICAgICAgdGlja2VyLmFkZCh0aGlzLnJlbmRlciwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkxPVyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5zdG9wID0gKCkgPT4ge1xuICAgICAgdGhpcy5fdGlja2VyLnN0b3AoKTtcbiAgICB9O1xuICAgIHRoaXMuc3RhcnQgPSAoKSA9PiB7XG4gICAgICB0aGlzLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG4gICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG4gICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbGVhbiB1cCB0aGUgdGlja2VyLCBzY29wZWQgdG8gYXBwbGljYXRpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5fdGlja2VyKSB7XG4gICAgICBjb25zdCBvbGRUaWNrZXIgPSB0aGlzLl90aWNrZXI7XG4gICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblRpY2tlclBsdWdpbi5leHRlbnNpb24gPSBFeHRlbnNpb25UeXBlLkFwcGxpY2F0aW9uO1xuXG5leHBvcnQgeyBUaWNrZXJQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpY2tlclBsdWdpbi5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBSZXNpemVQbHVnaW4gfSBmcm9tICcuL1Jlc2l6ZVBsdWdpbi5tanMnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnLi9UaWNrZXJQbHVnaW4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChSZXNpemVQbHVnaW4pO1xuZXh0ZW5zaW9ucy5hZGQoVGlja2VyUGx1Z2luKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgQnVmZmVyVXNhZ2UgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9idWZmZXIvY29uc3QubWpzJztcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvR2VvbWV0cnkubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX01lc2hHZW9tZXRyeSA9IGNsYXNzIF9NZXNoR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3NbMF0gPz8ge307XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJ1c2UgbmV3IE1lc2hHZW9tZXRyeSh7IHBvc2l0aW9ucywgdXZzLCBpbmRpY2VzIH0pIGluc3RlYWRcIik7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBwb3NpdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHV2czogYXJnc1sxXSxcbiAgICAgICAgaW5kaWNlczogYXJnc1syXVxuICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4uX01lc2hHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IHBvc2l0aW9ucyA9IG9wdGlvbnMucG9zaXRpb25zIHx8IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKTtcbiAgICBsZXQgdXZzID0gb3B0aW9ucy51dnM7XG4gICAgaWYgKCF1dnMpIHtcbiAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9ucykge1xuICAgICAgICB1dnMgPSBuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucy5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXZzID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbmRpY2VzID0gb3B0aW9ucy5pbmRpY2VzIHx8IG5ldyBVaW50MzJBcnJheShbMCwgMSwgMiwgMCwgMiwgM10pO1xuICAgIGNvbnN0IHNocmlua1RvRml0ID0gb3B0aW9ucy5zaHJpbmtCdWZmZXJzVG9GaXQ7XG4gICAgY29uc3QgcG9zaXRpb25CdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IHBvc2l0aW9ucyxcbiAgICAgIGxhYmVsOiBcImF0dHJpYnV0ZS1tZXNoLXBvc2l0aW9uc1wiLFxuICAgICAgc2hyaW5rVG9GaXQsXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVkVSVEVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KTtcbiAgICBjb25zdCB1dkJ1ZmZlciA9IG5ldyBCdWZmZXIoe1xuICAgICAgZGF0YTogdXZzLFxuICAgICAgbGFiZWw6IFwiYXR0cmlidXRlLW1lc2gtdXZzXCIsXG4gICAgICBzaHJpbmtUb0ZpdCxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5WRVJURVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pO1xuICAgIGNvbnN0IGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBpbmRpY2VzLFxuICAgICAgbGFiZWw6IFwiaW5kZXgtbWVzaC1idWZmZXJcIixcbiAgICAgIHNocmlua1RvRml0LFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLklOREVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIGFQb3NpdGlvbjoge1xuICAgICAgICAgIGJ1ZmZlcjogcG9zaXRpb25CdWZmZXIsXG4gICAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4MlwiLFxuICAgICAgICAgIHN0cmlkZTogMiAqIDQsXG4gICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGFVVjoge1xuICAgICAgICAgIGJ1ZmZlcjogdXZCdWZmZXIsXG4gICAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4MlwiLFxuICAgICAgICAgIHN0cmlkZTogMiAqIDQsXG4gICAgICAgICAgb2Zmc2V0OiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmRleEJ1ZmZlcixcbiAgICAgIHRvcG9sb2d5OiBvcHRpb25zLnRvcG9sb2d5XG4gICAgfSk7XG4gICAgdGhpcy5iYXRjaE1vZGUgPSBcImF1dG9cIjtcbiAgfVxuICAvKiogVGhlIHBvc2l0aW9ucyBvZiB0aGUgbWVzaC4gKi9cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmFQb3NpdGlvbi5idWZmZXIuZGF0YTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBwb3NpdGlvbnMgb2YgdGhlIG1lc2guXG4gICAqIFdoZW4gc2V0dGluZyB0aGUgcG9zaXRpb25zLCBpdHMgaW1wb3J0YW50IHRoYXQgdGhlIHV2cyBhcnJheSBpcyBhdCBsZWFzdCBhcyBsb25nIGFzIHRoZSBwb3NpdGlvbnMgYXJyYXkuXG4gICAqIG90aGVyd2lzZSB0aGUgZ2VvbWV0cnkgd2lsbCBub3QgYmUgdmFsaWQuXG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2YWx1ZSAtIFRoZSBwb3NpdGlvbnMgb2YgdGhlIG1lc2guXG4gICAqL1xuICBzZXQgcG9zaXRpb25zKHZhbHVlKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzLmFQb3NpdGlvbi5idWZmZXIuZGF0YSA9IHZhbHVlO1xuICB9XG4gIC8qKiBUaGUgVVZzIG9mIHRoZSBtZXNoLiAqL1xuICBnZXQgdXZzKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMuYVVWLmJ1ZmZlci5kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIFVWcyBvZiB0aGUgbWVzaC5cbiAgICogSXRzIGltcG9ydGFudCB0aGF0IHRoZSB1dnMgYXJyYXkgeW91IHNldCBpcyBhdCBsZWFzdCBhcyBsb25nIGFzIHRoZSBwb3NpdGlvbnMgYXJyYXkuXG4gICAqIG90aGVyd2lzZSB0aGUgZ2VvbWV0cnkgd2lsbCBub3QgYmUgdmFsaWQuXG4gICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2YWx1ZSAtIFRoZSBVVnMgb2YgdGhlIG1lc2guXG4gICAqL1xuICBzZXQgdXZzKHZhbHVlKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzLmFVVi5idWZmZXIuZGF0YSA9IHZhbHVlO1xuICB9XG4gIC8qKiBUaGUgaW5kaWNlcyBvZiB0aGUgbWVzaC4gKi9cbiAgZ2V0IGluZGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZXhCdWZmZXIuZGF0YTtcbiAgfVxuICBzZXQgaW5kaWNlcyh2YWx1ZSkge1xuICAgIHRoaXMuaW5kZXhCdWZmZXIuZGF0YSA9IHZhbHVlO1xuICB9XG59O1xuX01lc2hHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgdG9wb2xvZ3k6IFwidHJpYW5nbGUtbGlzdFwiLFxuICBzaHJpbmtCdWZmZXJzVG9GaXQ6IGZhbHNlXG59O1xubGV0IE1lc2hHZW9tZXRyeSA9IF9NZXNoR2VvbWV0cnk7XG5cbmV4cG9ydCB7IE1lc2hHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWVzaEdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9CaW5kR3JvdXAubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVNZXNoIH0gZnJvbSAnLi9CYXRjaGFibGVNZXNoLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWVzaEdwdURhdGEge1xuICBkZXN0cm95KCkge1xuICB9XG59XG5jbGFzcyBNZXNoUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1VHJhbnNmb3JtTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVSb3VuZDogeyB2YWx1ZTogMCwgdHlwZTogXCJmMzJcIiB9XG4gICAgfSk7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh7XG4gICAgICAwOiB0aGlzLmxvY2FsVW5pZm9ybXNcbiAgICB9KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fYWRhcHRvci5pbml0KCk7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKG1lc2gpIHtcbiAgICBjb25zdCBtZXNoRGF0YSA9IHRoaXMuX2dldE1lc2hEYXRhKG1lc2gpO1xuICAgIGNvbnN0IHdhc0JhdGNoZWQgPSBtZXNoRGF0YS5iYXRjaGVkO1xuICAgIGNvbnN0IGlzQmF0Y2hlZCA9IG1lc2guYmF0Y2hlZDtcbiAgICBtZXNoRGF0YS5iYXRjaGVkID0gaXNCYXRjaGVkO1xuICAgIGlmICh3YXNCYXRjaGVkICE9PSBpc0JhdGNoZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNCYXRjaGVkKSB7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IG1lc2guX2dlb21ldHJ5O1xuICAgICAgaWYgKGdlb21ldHJ5LmluZGljZXMubGVuZ3RoICE9PSBtZXNoRGF0YS5pbmRleFNpemUgfHwgZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aCAhPT0gbWVzaERhdGEudmVydGV4U2l6ZSkge1xuICAgICAgICBtZXNoRGF0YS5pbmRleFNpemUgPSBnZW9tZXRyeS5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgbWVzaERhdGEudmVydGV4U2l6ZSA9IGdlb21ldHJ5LnBvc2l0aW9ucy5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgYmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBpZiAoYmF0Y2hhYmxlTWVzaC50ZXh0dXJlLnVpZCAhPT0gbWVzaC5fdGV4dHVyZS51aWQpIHtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5fdGV4dHVyZU1hdHJpeFVwZGF0ZUlkID0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gIWJhdGNoYWJsZU1lc2guX2JhdGNoZXIuY2hlY2tBbmRVcGRhdGVUZXh0dXJlKFxuICAgICAgICBiYXRjaGFibGVNZXNoLFxuICAgICAgICBtZXNoLl90ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShtZXNoLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoZXIgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIGNvbnN0IG1lc2hEYXRhID0gdGhpcy5fZ2V0TWVzaERhdGEobWVzaCk7XG4gICAgaWYgKG1lc2guZGlkVmlld1VwZGF0ZSkge1xuICAgICAgbWVzaERhdGEuaW5kZXhTaXplID0gbWVzaC5fZ2VvbWV0cnkuaW5kaWNlcz8ubGVuZ3RoO1xuICAgICAgbWVzaERhdGEudmVydGV4U2l6ZSA9IG1lc2guX2dlb21ldHJ5LnBvc2l0aW9ucz8ubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAobWVzaERhdGEuYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBiYXRjaGVyLmFkZFRvQmF0Y2goZ3B1QmF0Y2hhYmxlTWVzaCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXRjaGVyLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZChtZXNoKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShtZXNoKSB7XG4gICAgaWYgKG1lc2guYmF0Y2hlZCkge1xuICAgICAgY29uc3QgZ3B1QmF0Y2hhYmxlTWVzaCA9IHRoaXMuX2dldEJhdGNoYWJsZU1lc2gobWVzaCk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLmdlb21ldHJ5ID0gbWVzaC5fZ2VvbWV0cnk7XG4gICAgICBncHVCYXRjaGFibGVNZXNoLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1QmF0Y2hhYmxlTWVzaCk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUobWVzaCkge1xuICAgIGlmICghbWVzaC5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgbWVzaC5zdGF0ZS5ibGVuZE1vZGUgPSBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kKG1lc2guZ3JvdXBCbGVuZE1vZGUsIG1lc2gudGV4dHVyZS5fc291cmNlKTtcbiAgICBjb25zdCBsb2NhbFVuaWZvcm1zID0gdGhpcy5sb2NhbFVuaWZvcm1zO1xuICAgIGxvY2FsVW5pZm9ybXMudW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeCA9IG1lc2guZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51Um91bmQgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IG1lc2guX3JvdW5kUGl4ZWxzO1xuICAgIGxvY2FsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIG1lc2guZ3JvdXBDb2xvckFscGhhLFxuICAgICAgbG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51Q29sb3IsXG4gICAgICAwXG4gICAgKTtcbiAgICB0aGlzLl9hZGFwdG9yLmV4ZWN1dGUodGhpcywgbWVzaCk7XG4gIH1cbiAgX2dldE1lc2hEYXRhKG1lc2gpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IG1lc2guX2dwdURhdGEpW19iID0gdGhpcy5yZW5kZXJlci51aWRdIHx8IChfYVtfYl0gPSBuZXcgTWVzaEdwdURhdGEoKSk7XG4gICAgcmV0dXJuIG1lc2guX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdLm1lc2hEYXRhIHx8IHRoaXMuX2luaXRNZXNoRGF0YShtZXNoKTtcbiAgfVxuICBfaW5pdE1lc2hEYXRhKG1lc2gpIHtcbiAgICBtZXNoLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXS5tZXNoRGF0YSA9IHtcbiAgICAgIGJhdGNoZWQ6IG1lc2guYmF0Y2hlZCxcbiAgICAgIGluZGV4U2l6ZTogMCxcbiAgICAgIHZlcnRleFNpemU6IDBcbiAgICB9O1xuICAgIHJldHVybiBtZXNoLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXS5tZXNoRGF0YTtcbiAgfVxuICBfZ2V0QmF0Y2hhYmxlTWVzaChtZXNoKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICAoX2EgPSBtZXNoLl9ncHVEYXRhKVtfYiA9IHRoaXMucmVuZGVyZXIudWlkXSB8fCAoX2FbX2JdID0gbmV3IE1lc2hHcHVEYXRhKCkpO1xuICAgIHJldHVybiBtZXNoLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXS5iYXRjaGFibGVNZXNoIHx8IHRoaXMuX2luaXRCYXRjaGFibGVNZXNoKG1lc2gpO1xuICB9XG4gIF9pbml0QmF0Y2hhYmxlTWVzaChtZXNoKSB7XG4gICAgY29uc3QgZ3B1TWVzaCA9IG5ldyBCYXRjaGFibGVNZXNoKCk7XG4gICAgZ3B1TWVzaC5yZW5kZXJhYmxlID0gbWVzaDtcbiAgICBncHVNZXNoLnNldFRleHR1cmUobWVzaC5fdGV4dHVyZSk7XG4gICAgZ3B1TWVzaC50cmFuc2Zvcm0gPSBtZXNoLmdyb3VwVHJhbnNmb3JtO1xuICAgIGdwdU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLnJlbmRlcmVyLl9yb3VuZFBpeGVscyB8IG1lc2guX3JvdW5kUGl4ZWxzO1xuICAgIG1lc2guX2dwdURhdGFbdGhpcy5yZW5kZXJlci51aWRdLmJhdGNoYWJsZU1lc2ggPSBncHVNZXNoO1xuICAgIHJldHVybiBncHVNZXNoO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5sb2NhbFVuaWZvcm1zID0gbnVsbDtcbiAgICB0aGlzLmxvY2FsVW5pZm9ybXNCaW5kR3JvdXAgPSBudWxsO1xuICAgIHRoaXMuX2FkYXB0b3IuZGVzdHJveSgpO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuTWVzaFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcIm1lc2hcIlxufTtcblxuZXhwb3J0IHsgTWVzaEdwdURhdGEsIE1lc2hQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NZXNoUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNZXNoUGlwZSB9IGZyb20gJy4vc2hhcmVkL01lc2hQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoTWVzaFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGxvY2FsVW5pZm9ybU1TREZCaXQgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1tc2RmLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1Q29sb3I6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdURpc3RhbmNlOiBmMzIsXG4gICAgICAgICAgICAgICAgdVJvdW5kOmYzMixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IGxvY2FsVW5pZm9ybXMudUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKGxvY2FsVW5pZm9ybXMudVJvdW5kID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1Q29sb3I6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgICAgICAgICAgdURpc3RhbmNlOiBmMzJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIG91dENvbG9yID0gdmVjNDxmMzI+KGNhbGN1bGF0ZU1TREZBbHBoYShvdXRDb2xvciwgbG9jYWxVbmlmb3Jtcy51Q29sb3IsIGxvY2FsVW5pZm9ybXMudURpc3RhbmNlKSk7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1tc2RmLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHVDb2xvcjtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVJvdW5kO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB2Q29sb3IgKj0gdUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1RGlzdGFuY2U7XG4gICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHZlYzQoY2FsY3VsYXRlTVNERkFscGhhKG91dENvbG9yLCB2Q29sb3IsIHVEaXN0YW5jZSkpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1NU0RGQml0LCBsb2NhbFVuaWZvcm1NU0RGQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybU1TREZCaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBtU0RGQml0ID0ge1xuICBuYW1lOiBcIm1zZGYtYml0XCIsXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBmbiBjYWxjdWxhdGVNU0RGQWxwaGEobXNkZkNvbG9yOnZlYzQ8ZjMyPiwgc2hhcGVDb2xvcjp2ZWM0PGYzMj4sIGRpc3RhbmNlOmYzMikgLT4gZjMyIHtcblxuICAgICAgICAgICAgICAgIC8vIE1TREZcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWFuID0gbXNkZkNvbG9yLnIgKyBtc2RmQ29sb3IuZyArIG1zZGZDb2xvci5iIC1cbiAgICAgICAgICAgICAgICAgICAgbWluKG1zZGZDb2xvci5yLCBtaW4obXNkZkNvbG9yLmcsIG1zZGZDb2xvci5iKSkgLVxuICAgICAgICAgICAgICAgICAgICBtYXgobXNkZkNvbG9yLnIsIG1heChtc2RmQ29sb3IuZywgbXNkZkNvbG9yLmIpKTtcblxuICAgICAgICAgICAgICAgIC8vIFNERlxuICAgICAgICAgICAgICAgIG1lZGlhbiA9IG1pbihtZWRpYW4sIG1zZGZDb2xvci5hKTtcblxuICAgICAgICAgICAgICAgIHZhciBzY3JlZW5QeERpc3RhbmNlID0gZGlzdGFuY2UgKiAobWVkaWFuIC0gMC41KTtcbiAgICAgICAgICAgICAgICB2YXIgYWxwaGEgPSBjbGFtcChzY3JlZW5QeERpc3RhbmNlICsgMC41LCAwLjAsIDEuMCk7XG4gICAgICAgICAgICAgICAgaWYgKG1lZGlhbiA8IDAuMDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSAwLjA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZWRpYW4gPiAwLjk5KSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMS4wO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdhbW1hIGNvcnJlY3Rpb24gZm9yIGNvdmVyYWdlLWxpa2UgYWxwaGFcbiAgICAgICAgICAgICAgICB2YXIgbHVtYTogZjMyID0gZG90KHNoYXBlQ29sb3IucmdiLCB2ZWMzPGYzMj4oMC4yOTksIDAuNTg3LCAwLjExNCkpO1xuICAgICAgICAgICAgICAgIHZhciBnYW1tYTogZjMyID0gbWl4KDEuMCwgMS4wIC8gMi4yLCBsdW1hKTtcbiAgICAgICAgICAgICAgICB2YXIgY292ZXJhZ2U6IGYzMiA9IHBvdyhzaGFwZUNvbG9yLmEgKiBhbHBoYSwgZ2FtbWEpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdmVyYWdlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBtU0RGQml0R2wgPSB7XG4gIG5hbWU6IFwibXNkZi1iaXRcIixcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGZsb2F0IGNhbGN1bGF0ZU1TREZBbHBoYSh2ZWM0IG1zZGZDb2xvciwgdmVjNCBzaGFwZUNvbG9yLCBmbG9hdCBkaXN0YW5jZSkge1xuXG4gICAgICAgICAgICAgICAgLy8gTVNERlxuICAgICAgICAgICAgICAgIGZsb2F0IG1lZGlhbiA9IG1zZGZDb2xvci5yICsgbXNkZkNvbG9yLmcgKyBtc2RmQ29sb3IuYiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbihtc2RmQ29sb3IuciwgbWluKG1zZGZDb2xvci5nLCBtc2RmQ29sb3IuYikpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4KG1zZGZDb2xvci5yLCBtYXgobXNkZkNvbG9yLmcsIG1zZGZDb2xvci5iKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBTREZcbiAgICAgICAgICAgICAgICBtZWRpYW4gPSBtaW4obWVkaWFuLCBtc2RmQ29sb3IuYSk7XG5cbiAgICAgICAgICAgICAgICBmbG9hdCBzY3JlZW5QeERpc3RhbmNlID0gZGlzdGFuY2UgKiAobWVkaWFuIC0gMC41KTtcbiAgICAgICAgICAgICAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKHNjcmVlblB4RGlzdGFuY2UgKyAwLjUsIDAuMCwgMS4wKTtcblxuICAgICAgICAgICAgICAgIGlmIChtZWRpYW4gPCAwLjAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFscGhhID0gMC4wO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWVkaWFuID4gMC45OSkge1xuICAgICAgICAgICAgICAgICAgICBhbHBoYSA9IDEuMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHYW1tYSBjb3JyZWN0aW9uIGZvciBjb3ZlcmFnZS1saWtlIGFscGhhXG4gICAgICAgICAgICAgICAgZmxvYXQgbHVtYSA9IGRvdChzaGFwZUNvbG9yLnJnYiwgdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KSk7XG4gICAgICAgICAgICAgICAgZmxvYXQgZ2FtbWEgPSBtaXgoMS4wLCAxLjAgLyAyLjIsIGx1bWEpO1xuICAgICAgICAgICAgICAgIGZsb2F0IGNvdmVyYWdlID0gcG93KHNoYXBlQ29sb3IuYSAqIGFscGhhLCBnYW1tYSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY292ZXJhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IG1TREZCaXQsIG1TREZCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bVNERkJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0sIGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVIaWdoU2hhZGVyVG9Qcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBjb2xvckJpdCwgY29sb3JCaXRHbCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy9jb2xvckJpdC5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQsIGdlbmVyYXRlVGV4dHVyZUJhdGNoQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQubWpzJztcbmltcG9ydCB7IHJvdW5kUGl4ZWxzQml0LCByb3VuZFBpeGVsc0JpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL3JvdW5kUGl4ZWxzQml0Lm1qcyc7XG5pbXBvcnQgeyBnZXRCYXRjaFNhbXBsZXJzVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuaW1wb3J0IHsgbG9jYWxVbmlmb3JtTVNERkJpdCwgbG9jYWxVbmlmb3JtTVNERkJpdEdsIH0gZnJvbSAnLi9zaGFkZXItYml0cy9sb2NhbFVuaWZvcm1NU0RGQml0Lm1qcyc7XG5pbXBvcnQgeyBtU0RGQml0LCBtU0RGQml0R2wgfSBmcm9tICcuL3NoYWRlci1iaXRzL21TREZCaXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgZ3B1UHJvZ3JhbTtcbmxldCBnbFByb2dyYW07XG5jbGFzcyBTZGZTaGFkZXIgZXh0ZW5kcyBTaGFkZXIge1xuICBjb25zdHJ1Y3RvcihtYXhUZXh0dXJlcykge1xuICAgIGNvbnN0IHVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1Q29sb3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdVRyYW5zZm9ybU1hdHJpeDogeyB2YWx1ZTogbmV3IE1hdHJpeCgpLCB0eXBlOiBcIm1hdDN4MzxmMzI+XCIgfSxcbiAgICAgIHVEaXN0YW5jZTogeyB2YWx1ZTogNCwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgdVJvdW5kOiB7IHZhbHVlOiAwLCB0eXBlOiBcImYzMlwiIH1cbiAgICB9KTtcbiAgICBncHVQcm9ncmFtID8/IChncHVQcm9ncmFtID0gY29tcGlsZUhpZ2hTaGFkZXJHcHVQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwic2RmLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBjb2xvckJpdCxcbiAgICAgICAgZ2VuZXJhdGVUZXh0dXJlQmF0Y2hCaXQobWF4VGV4dHVyZXMpLFxuICAgICAgICBsb2NhbFVuaWZvcm1NU0RGQml0LFxuICAgICAgICBtU0RGQml0LFxuICAgICAgICByb3VuZFBpeGVsc0JpdFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBnbFByb2dyYW0gPz8gKGdsUHJvZ3JhbSA9IGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtKHtcbiAgICAgIG5hbWU6IFwic2RmLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBjb2xvckJpdEdsLFxuICAgICAgICBnZW5lcmF0ZVRleHR1cmVCYXRjaEJpdEdsKG1heFRleHR1cmVzKSxcbiAgICAgICAgbG9jYWxVbmlmb3JtTVNERkJpdEdsLFxuICAgICAgICBtU0RGQml0R2wsXG4gICAgICAgIHJvdW5kUGl4ZWxzQml0R2xcbiAgICAgIF1cbiAgICB9KSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICBsb2NhbFVuaWZvcm1zOiB1bmlmb3JtcyxcbiAgICAgICAgYmF0Y2hTYW1wbGVyczogZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cChtYXhUZXh0dXJlcylcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBTZGZTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNkZlNoYWRlci5tanMubWFwXG4iLCJpbXBvcnQgeyBDYWNoZSB9IGZyb20gJy4uLy4uL2Fzc2V0cy9jYWNoZS9DYWNoZS5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3MgfSBmcm9tICcuLi9ncmFwaGljcy9zaGFyZWQvR3JhcGhpY3MubWpzJztcbmltcG9ydCB7IENhbnZhc1RleHRNZXRyaWNzIH0gZnJvbSAnLi4vdGV4dC9jYW52YXMvQ2FudmFzVGV4dE1ldHJpY3MubWpzJztcbmltcG9ydCB7IFNkZlNoYWRlciB9IGZyb20gJy4uL3RleHQvc2RmU2hhZGVyL1NkZlNoYWRlci5tanMnO1xuaW1wb3J0IHsgQml0bWFwRm9udE1hbmFnZXIgfSBmcm9tICcuL0JpdG1hcEZvbnRNYW5hZ2VyLm1qcyc7XG5pbXBvcnQgeyBnZXRCaXRtYXBUZXh0TGF5b3V0IH0gZnJvbSAnLi91dGlscy9nZXRCaXRtYXBUZXh0TGF5b3V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQml0bWFwVGV4dEdyYXBoaWNzIGV4dGVuZHMgR3JhcGhpY3Mge1xuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICB0aGlzLmNvbnRleHQuY3VzdG9tU2hhZGVyLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICB9XG59XG5jbGFzcyBCaXRtYXBUZXh0UGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGdyYXBoaWNzUmVuZGVyYWJsZSA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCk7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmdyYXBoaWNzLnZhbGlkYXRlUmVuZGVyYWJsZShncmFwaGljc1JlbmRlcmFibGUpO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoYml0bWFwVGV4dCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncmFwaGljc1JlbmRlcmFibGUgPSB0aGlzLl9nZXRHcHVCaXRtYXBUZXh0KGJpdG1hcFRleHQpO1xuICAgIHN5bmNXaXRoUHJveHkoYml0bWFwVGV4dCwgZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICBpZiAoYml0bWFwVGV4dC5fZGlkVGV4dFVwZGF0ZSkge1xuICAgICAgYml0bWFwVGV4dC5fZGlkVGV4dFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fdXBkYXRlQ29udGV4dChiaXRtYXBUZXh0LCBncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5ncmFwaGljcy5hZGRSZW5kZXJhYmxlKGdyYXBoaWNzUmVuZGVyYWJsZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGlmIChncmFwaGljc1JlbmRlcmFibGUuY29udGV4dC5jdXN0b21TaGFkZXIpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZURpc3RhbmNlRmllbGQoYml0bWFwVGV4dCk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoYml0bWFwVGV4dCkge1xuICAgIGNvbnN0IGdyYXBoaWNzUmVuZGVyYWJsZSA9IHRoaXMuX2dldEdwdUJpdG1hcFRleHQoYml0bWFwVGV4dCk7XG4gICAgc3luY1dpdGhQcm94eShiaXRtYXBUZXh0LCBncmFwaGljc1JlbmRlcmFibGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmdyYXBoaWNzLnVwZGF0ZVJlbmRlcmFibGUoZ3JhcGhpY3NSZW5kZXJhYmxlKTtcbiAgICBpZiAoZ3JhcGhpY3NSZW5kZXJhYmxlLmNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICB0aGlzLl91cGRhdGVEaXN0YW5jZUZpZWxkKGJpdG1hcFRleHQpO1xuICAgIH1cbiAgfVxuICBfdXBkYXRlQ29udGV4dChiaXRtYXBUZXh0LCBwcm94eUdyYXBoaWNzKSB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSBwcm94eUdyYXBoaWNzO1xuICAgIGNvbnN0IGJpdG1hcEZvbnQgPSBCaXRtYXBGb250TWFuYWdlci5nZXRGb250KGJpdG1hcFRleHQudGV4dCwgYml0bWFwVGV4dC5fc3R5bGUpO1xuICAgIGNvbnRleHQuY2xlYXIoKTtcbiAgICBpZiAoYml0bWFwRm9udC5kaXN0YW5jZUZpZWxkLnR5cGUgIT09IFwibm9uZVwiKSB7XG4gICAgICBpZiAoIWNvbnRleHQuY3VzdG9tU2hhZGVyKSB7XG4gICAgICAgIGNvbnRleHQuY3VzdG9tU2hhZGVyID0gbmV3IFNkZlNoYWRlcih0aGlzLl9yZW5kZXJlci5saW1pdHMubWF4QmF0Y2hhYmxlVGV4dHVyZXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjaGFycyA9IENhbnZhc1RleHRNZXRyaWNzLmdyYXBoZW1lU2VnbWVudGVyKGJpdG1hcFRleHQudGV4dCk7XG4gICAgY29uc3Qgc3R5bGUgPSBiaXRtYXBUZXh0Ll9zdHlsZTtcbiAgICBsZXQgY3VycmVudFkgPSBiaXRtYXBGb250LmJhc2VMaW5lT2Zmc2V0O1xuICAgIGNvbnN0IGJpdG1hcFRleHRMYXlvdXQgPSBnZXRCaXRtYXBUZXh0TGF5b3V0KGNoYXJzLCBzdHlsZSwgYml0bWFwRm9udCwgdHJ1ZSk7XG4gICAgY29uc3QgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmc7XG4gICAgY29uc3Qgc2NhbGUgPSBiaXRtYXBUZXh0TGF5b3V0LnNjYWxlO1xuICAgIGxldCB0eCA9IGJpdG1hcFRleHRMYXlvdXQud2lkdGg7XG4gICAgbGV0IHR5ID0gYml0bWFwVGV4dExheW91dC5oZWlnaHQgKyBiaXRtYXBUZXh0TGF5b3V0Lm9mZnNldFk7XG4gICAgaWYgKHN0eWxlLl9zdHJva2UpIHtcbiAgICAgIHR4ICs9IHN0eWxlLl9zdHJva2Uud2lkdGggLyBzY2FsZTtcbiAgICAgIHR5ICs9IHN0eWxlLl9zdHJva2Uud2lkdGggLyBzY2FsZTtcbiAgICB9XG4gICAgY29udGV4dC50cmFuc2xhdGUoLWJpdG1hcFRleHQuX2FuY2hvci5feCAqIHR4IC0gcGFkZGluZywgLWJpdG1hcFRleHQuX2FuY2hvci5feSAqIHR5IC0gcGFkZGluZykuc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICBjb25zdCB0aW50ID0gYml0bWFwRm9udC5hcHBseUZpbGxBc1RpbnQgPyBzdHlsZS5fZmlsbC5jb2xvciA6IDE2Nzc3MjE1O1xuICAgIGxldCBmb250U2l6ZSA9IGJpdG1hcEZvbnQuZm9udE1ldHJpY3MuZm9udFNpemU7XG4gICAgbGV0IGxpbmVIZWlnaHQgPSBiaXRtYXBGb250LmxpbmVIZWlnaHQ7XG4gICAgaWYgKHN0eWxlLmxpbmVIZWlnaHQpIHtcbiAgICAgIGZvbnRTaXplID0gc3R5bGUuZm9udFNpemUgLyBzY2FsZTtcbiAgICAgIGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IC8gc2NhbGU7XG4gICAgfVxuICAgIGxldCBsaW5lUG9zaXRpb25ZU2hpZnQgPSAobGluZUhlaWdodCAtIGZvbnRTaXplKSAvIDI7XG4gICAgaWYgKGxpbmVQb3NpdGlvbllTaGlmdCAtIGJpdG1hcEZvbnQuYmFzZUxpbmVPZmZzZXQgPCAwKSB7XG4gICAgICBsaW5lUG9zaXRpb25ZU2hpZnQgPSAwO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpdG1hcFRleHRMYXlvdXQubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmUgPSBiaXRtYXBUZXh0TGF5b3V0LmxpbmVzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lLmNoYXJQb3NpdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY29uc3QgY2hhciA9IGxpbmUuY2hhcnNbal07XG4gICAgICAgIGNvbnN0IGNoYXJEYXRhID0gYml0bWFwRm9udC5jaGFyc1tjaGFyXTtcbiAgICAgICAgaWYgKGNoYXJEYXRhPy50ZXh0dXJlKSB7XG4gICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGNoYXJEYXRhLnRleHR1cmU7XG4gICAgICAgICAgY29udGV4dC50ZXh0dXJlKFxuICAgICAgICAgICAgdGV4dHVyZSxcbiAgICAgICAgICAgIHRpbnQgPyB0aW50IDogXCJibGFja1wiLFxuICAgICAgICAgICAgTWF0aC5yb3VuZChsaW5lLmNoYXJQb3NpdGlvbnNbal0gKyBjaGFyRGF0YS54T2Zmc2V0KSxcbiAgICAgICAgICAgIE1hdGgucm91bmQoY3VycmVudFkgKyBjaGFyRGF0YS55T2Zmc2V0ICsgbGluZVBvc2l0aW9uWVNoaWZ0KSxcbiAgICAgICAgICAgIHRleHR1cmUub3JpZy53aWR0aCxcbiAgICAgICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJyZW50WSArPSBsaW5lSGVpZ2h0O1xuICAgIH1cbiAgfVxuICBfZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KSB7XG4gICAgcmV0dXJuIGJpdG1hcFRleHQuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSB8fCB0aGlzLmluaXRHcHVUZXh0KGJpdG1hcFRleHQpO1xuICB9XG4gIGluaXRHcHVUZXh0KGJpdG1hcFRleHQpIHtcbiAgICBjb25zdCBwcm94eVJlbmRlcmFibGUgPSBuZXcgQml0bWFwVGV4dEdyYXBoaWNzKCk7XG4gICAgYml0bWFwVGV4dC5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdID0gcHJveHlSZW5kZXJhYmxlO1xuICAgIHRoaXMuX3VwZGF0ZUNvbnRleHQoYml0bWFwVGV4dCwgcHJveHlSZW5kZXJhYmxlKTtcbiAgICByZXR1cm4gcHJveHlSZW5kZXJhYmxlO1xuICB9XG4gIF91cGRhdGVEaXN0YW5jZUZpZWxkKGJpdG1hcFRleHQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5fZ2V0R3B1Qml0bWFwVGV4dChiaXRtYXBUZXh0KS5jb250ZXh0O1xuICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBiaXRtYXBUZXh0Ll9zdHlsZS5mb250RmFtaWx5O1xuICAgIGNvbnN0IGR5bmFtaWNGb250ID0gQ2FjaGUuZ2V0KGAke2ZvbnRGYW1pbHl9LWJpdG1hcGApO1xuICAgIGNvbnN0IHsgYSwgYiwgYywgZCB9ID0gYml0bWFwVGV4dC5ncm91cFRyYW5zZm9ybTtcbiAgICBjb25zdCBkeCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKTtcbiAgICBjb25zdCBkeSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKTtcbiAgICBjb25zdCB3b3JsZFNjYWxlID0gKE1hdGguYWJzKGR4KSArIE1hdGguYWJzKGR5KSkgLyAyO1xuICAgIGNvbnN0IGZvbnRTY2FsZSA9IGR5bmFtaWNGb250LmJhc2VSZW5kZXJlZEZvbnRTaXplIC8gYml0bWFwVGV4dC5fc3R5bGUuZm9udFNpemU7XG4gICAgY29uc3QgZGlzdGFuY2UgPSB3b3JsZFNjYWxlICogZHluYW1pY0ZvbnQuZGlzdGFuY2VGaWVsZC5yYW5nZSAqICgxIC8gZm9udFNjYWxlKTtcbiAgICBjb250ZXh0LmN1c3RvbVNoYWRlci5yZXNvdXJjZXMubG9jYWxVbmlmb3Jtcy51bmlmb3Jtcy51RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkJpdG1hcFRleHRQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJiaXRtYXBUZXh0XCJcbn07XG5mdW5jdGlvbiBzeW5jV2l0aFByb3h5KGNvbnRhaW5lciwgcHJveHkpIHtcbiAgcHJveHkuZ3JvdXBUcmFuc2Zvcm0gPSBjb250YWluZXIuZ3JvdXBUcmFuc2Zvcm07XG4gIHByb3h5Lmdyb3VwQ29sb3JBbHBoYSA9IGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGE7XG4gIHByb3h5Lmdyb3VwQ29sb3IgPSBjb250YWluZXIuZ3JvdXBDb2xvcjtcbiAgcHJveHkuZ3JvdXBCbGVuZE1vZGUgPSBjb250YWluZXIuZ3JvdXBCbGVuZE1vZGU7XG4gIHByb3h5Lmdsb2JhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIuZ2xvYmFsRGlzcGxheVN0YXR1cztcbiAgcHJveHkuZ3JvdXBUcmFuc2Zvcm0gPSBjb250YWluZXIuZ3JvdXBUcmFuc2Zvcm07XG4gIHByb3h5LmxvY2FsRGlzcGxheVN0YXR1cyA9IGNvbnRhaW5lci5sb2NhbERpc3BsYXlTdGF0dXM7XG4gIHByb3h5Lmdyb3VwQWxwaGEgPSBjb250YWluZXIuZ3JvdXBBbHBoYTtcbiAgcHJveHkuX3JvdW5kUGl4ZWxzID0gY29udGFpbmVyLl9yb3VuZFBpeGVscztcbn1cblxuZXhwb3J0IHsgQml0bWFwVGV4dEdyYXBoaWNzLCBCaXRtYXBUZXh0UGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0bWFwVGV4dFBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQml0bWFwVGV4dFBpcGUgfSBmcm9tICcuL0JpdG1hcFRleHRQaXBlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoQml0bWFwVGV4dFBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9GaWx0ZXIgPSBjbGFzcyBfRmlsdGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMgb2YgdGhpcyBmaWx0ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0ZpbHRlci5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIC8qKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC4gKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBncHUgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gb3B0aW9ucy5ibGVuZE1vZGU7XG4gICAgdGhpcy5wYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbnRpYWxpYXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLmFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzID8gXCJvblwiIDogXCJvZmZcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhcztcbiAgICB9XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuYmxlbmRSZXF1aXJlZCA9IG9wdGlvbnMuYmxlbmRSZXF1aXJlZDtcbiAgICB0aGlzLmNsaXBUb1ZpZXdwb3J0ID0gb3B0aW9ucy5jbGlwVG9WaWV3cG9ydDtcbiAgICB0aGlzLmFkZFJlc291cmNlKFwidVRleHR1cmVcIiwgMCwgMSk7XG4gICAgaWYgKG9wdGlvbnMuYmxlbmRSZXF1aXJlZCkge1xuICAgICAgdGhpcy5hZGRSZXNvdXJjZShcInVCYWNrVGV4dHVyZVwiLCAwLCAzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgKiBAcGFyYW0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgKi9cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGJsZW5kIG1vZGUgb2YgdGhlIGZpbHRlci5cbiAgICogQGRlZmF1bHQgXCJub3JtYWxcIlxuICAgKi9cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIC8qKiBTZXRzIHRoZSBibGVuZCBtb2RlIG9mIHRoZSBmaWx0ZXIuICovXG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLl9zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGZpbHRlciBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyIHNyYy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHJldHVybnMgQSBzaGlueSBuZXcgUGl4aUpTIGZpbHRlciFcbiAgICovXG4gIHN0YXRpYyBmcm9tKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGdwdSwgZ2wsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGdwdVByb2dyYW07XG4gICAgbGV0IGdsUHJvZ3JhbTtcbiAgICBpZiAoZ3B1KSB7XG4gICAgICBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKGdwdSk7XG4gICAgfVxuICAgIGlmIChnbCkge1xuICAgICAgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oZ2wpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9GaWx0ZXIoe1xuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBmaWx0ZXIgc2V0dGluZ3MgKi9cbl9GaWx0ZXIuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJsZW5kTW9kZTogXCJub3JtYWxcIixcbiAgcmVzb2x1dGlvbjogMSxcbiAgcGFkZGluZzogMCxcbiAgYW50aWFsaWFzOiBcIm9mZlwiLFxuICBibGVuZFJlcXVpcmVkOiBmYWxzZSxcbiAgY2xpcFRvVmlld3BvcnQ6IHRydWVcbn07XG5sZXQgRmlsdGVyID0gX0ZpbHRlcjtcblxuZXhwb3J0IHsgRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgZGVwcmVjYXRpb24sIHY4XzBfMCB9IGZyb20gJy4uLy4uL3V0aWxzL2xvZ2dpbmcvZGVwcmVjYXRpb24ubWpzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4uL21lc2gvc2hhcmVkL01lc2hHZW9tZXRyeS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9QbGFuZUdlb21ldHJ5ID0gY2xhc3MgX1BsYW5lR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgc3VwZXIoe30pO1xuICAgIGxldCBvcHRpb25zID0gYXJnc1swXSA/PyB7fTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGRlcHJlY2F0aW9uKHY4XzBfMCwgXCJQbGFuZUdlb21ldHJ5IGNvbnN0cnVjdG9yIGNoYW5nZWQgcGxlYXNlIHVzZSB7IHdpZHRoLCBoZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZIH0gaW5zdGVhZFwiKTtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICBoZWlnaHQ6IGFyZ3NbMV0sXG4gICAgICAgIHZlcnRpY2VzWDogYXJnc1syXSxcbiAgICAgICAgdmVydGljZXNZOiBhcmdzWzNdXG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmJ1aWxkKG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIHRvIGJlIGFwcGxpZWQgdG8gcGxhbmUgZ2VvbWV0cnlcbiAgICovXG4gIGJ1aWxkKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fUGxhbmVHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMudmVydGljZXNYID0gdGhpcy52ZXJ0aWNlc1ggPz8gb3B0aW9ucy52ZXJ0aWNlc1g7XG4gICAgdGhpcy52ZXJ0aWNlc1kgPSB0aGlzLnZlcnRpY2VzWSA/PyBvcHRpb25zLnZlcnRpY2VzWTtcbiAgICB0aGlzLndpZHRoID0gdGhpcy53aWR0aCA/PyBvcHRpb25zLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgPz8gb3B0aW9ucy5oZWlnaHQ7XG4gICAgY29uc3QgdG90YWwgPSB0aGlzLnZlcnRpY2VzWCAqIHRoaXMudmVydGljZXNZO1xuICAgIGNvbnN0IHZlcnRzID0gW107XG4gICAgY29uc3QgdXZzID0gW107XG4gICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuICAgIGNvbnN0IHZlcnRpY2VzWCA9IHRoaXMudmVydGljZXNYIC0gMTtcbiAgICBjb25zdCB2ZXJ0aWNlc1kgPSB0aGlzLnZlcnRpY2VzWSAtIDE7XG4gICAgY29uc3Qgc2l6ZVggPSB0aGlzLndpZHRoIC8gdmVydGljZXNYO1xuICAgIGNvbnN0IHNpemVZID0gdGhpcy5oZWlnaHQgLyB2ZXJ0aWNlc1k7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICBjb25zdCB4ID0gaSAlIHRoaXMudmVydGljZXNYO1xuICAgICAgY29uc3QgeSA9IGkgLyB0aGlzLnZlcnRpY2VzWCB8IDA7XG4gICAgICB2ZXJ0cy5wdXNoKHggKiBzaXplWCwgeSAqIHNpemVZKTtcbiAgICAgIHV2cy5wdXNoKHggLyB2ZXJ0aWNlc1gsIHkgLyB2ZXJ0aWNlc1kpO1xuICAgIH1cbiAgICBjb25zdCB0b3RhbFN1YiA9IHZlcnRpY2VzWCAqIHZlcnRpY2VzWTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspIHtcbiAgICAgIGNvbnN0IHhwb3MgPSBpICUgdmVydGljZXNYO1xuICAgICAgY29uc3QgeXBvcyA9IGkgLyB2ZXJ0aWNlc1ggfCAwO1xuICAgICAgY29uc3QgdmFsdWUgPSB5cG9zICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zO1xuICAgICAgY29uc3QgdmFsdWUyID0geXBvcyAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG4gICAgICBjb25zdCB2YWx1ZTMgPSAoeXBvcyArIDEpICogdGhpcy52ZXJ0aWNlc1ggKyB4cG9zO1xuICAgICAgY29uc3QgdmFsdWU0ID0gKHlwb3MgKyAxKSAqIHRoaXMudmVydGljZXNYICsgeHBvcyArIDE7XG4gICAgICBpbmRpY2VzLnB1c2goXG4gICAgICAgIHZhbHVlLFxuICAgICAgICB2YWx1ZTIsXG4gICAgICAgIHZhbHVlMyxcbiAgICAgICAgdmFsdWUyLFxuICAgICAgICB2YWx1ZTQsXG4gICAgICAgIHZhbHVlM1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5idWZmZXJzWzBdLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyk7XG4gICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICB9XG59O1xuX1BsYW5lR2VvbWV0cnkuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIHdpZHRoOiAxMDAsXG4gIGhlaWdodDogMTAwLFxuICB2ZXJ0aWNlc1g6IDEwLFxuICB2ZXJ0aWNlc1k6IDEwXG59O1xubGV0IFBsYW5lR2VvbWV0cnkgPSBfUGxhbmVHZW9tZXRyeTtcblxuZXhwb3J0IHsgUGxhbmVHZW9tZXRyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhbmVHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBQbGFuZUdlb21ldHJ5IH0gZnJvbSAnLi4vbWVzaC1wbGFuZS9QbGFuZUdlb21ldHJ5Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX05pbmVTbGljZUdlb21ldHJ5ID0gY2xhc3MgX05pbmVTbGljZUdlb21ldHJ5IGV4dGVuZHMgUGxhbmVHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIG9wdGlvbnMgPSB7IC4uLl9OaW5lU2xpY2VHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHN1cGVyKHtcbiAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgIHZlcnRpY2VzWDogNCxcbiAgICAgIHZlcnRpY2VzWTogNFxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlKG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBOaW5lU2xpY2VHZW9tZXRyeSB3aXRoIHRoZSBvcHRpb25zLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIG9mIHRoZSBOaW5lU2xpY2VHZW9tZXRyeS5cbiAgICovXG4gIHVwZGF0ZShvcHRpb25zKSB7XG4gICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggPz8gdGhpcy53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ID8/IHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuX29yaWdpbmFsV2lkdGggPSBvcHRpb25zLm9yaWdpbmFsV2lkdGggPz8gdGhpcy5fb3JpZ2luYWxXaWR0aDtcbiAgICB0aGlzLl9vcmlnaW5hbEhlaWdodCA9IG9wdGlvbnMub3JpZ2luYWxIZWlnaHQgPz8gdGhpcy5fb3JpZ2luYWxIZWlnaHQ7XG4gICAgdGhpcy5fbGVmdFdpZHRoID0gb3B0aW9ucy5sZWZ0V2lkdGggPz8gdGhpcy5fbGVmdFdpZHRoO1xuICAgIHRoaXMuX3JpZ2h0V2lkdGggPSBvcHRpb25zLnJpZ2h0V2lkdGggPz8gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICB0aGlzLl90b3BIZWlnaHQgPSBvcHRpb25zLnRvcEhlaWdodCA/PyB0aGlzLl90b3BIZWlnaHQ7XG4gICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gb3B0aW9ucy5ib3R0b21IZWlnaHQgPz8gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIHRoaXMuX2FuY2hvclggPSBvcHRpb25zLmFuY2hvcj8ueDtcbiAgICB0aGlzLl9hbmNob3JZID0gb3B0aW9ucy5hbmNob3I/Lnk7XG4gICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB0aGlzLnVwZGF0ZVBvc2l0aW9ucygpO1xuICB9XG4gIC8qKiBVcGRhdGVzIHRoZSBwb3NpdGlvbnMgb2YgdGhlIHZlcnRpY2VzLiAqL1xuICB1cGRhdGVQb3NpdGlvbnMoKSB7XG4gICAgY29uc3QgcCA9IHRoaXMucG9zaXRpb25zO1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgX2xlZnRXaWR0aCxcbiAgICAgIF9yaWdodFdpZHRoLFxuICAgICAgX3RvcEhlaWdodCxcbiAgICAgIF9ib3R0b21IZWlnaHQsXG4gICAgICBfYW5jaG9yWCxcbiAgICAgIF9hbmNob3JZXG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3QgdyA9IF9sZWZ0V2lkdGggKyBfcmlnaHRXaWR0aDtcbiAgICBjb25zdCBzY2FsZVcgPSB3aWR0aCA+IHcgPyAxIDogd2lkdGggLyB3O1xuICAgIGNvbnN0IGggPSBfdG9wSGVpZ2h0ICsgX2JvdHRvbUhlaWdodDtcbiAgICBjb25zdCBzY2FsZUggPSBoZWlnaHQgPiBoID8gMSA6IGhlaWdodCAvIGg7XG4gICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCk7XG4gICAgY29uc3QgYW5jaG9yT2Zmc2V0WCA9IF9hbmNob3JYICogd2lkdGg7XG4gICAgY29uc3QgYW5jaG9yT2Zmc2V0WSA9IF9hbmNob3JZICogaGVpZ2h0O1xuICAgIHBbMF0gPSBwWzhdID0gcFsxNl0gPSBwWzI0XSA9IC1hbmNob3JPZmZzZXRYO1xuICAgIHBbMl0gPSBwWzEwXSA9IHBbMThdID0gcFsyNl0gPSBfbGVmdFdpZHRoICogc2NhbGUgLSBhbmNob3JPZmZzZXRYO1xuICAgIHBbNF0gPSBwWzEyXSA9IHBbMjBdID0gcFsyOF0gPSB3aWR0aCAtIF9yaWdodFdpZHRoICogc2NhbGUgLSBhbmNob3JPZmZzZXRYO1xuICAgIHBbNl0gPSBwWzE0XSA9IHBbMjJdID0gcFszMF0gPSB3aWR0aCAtIGFuY2hvck9mZnNldFg7XG4gICAgcFsxXSA9IHBbM10gPSBwWzVdID0gcFs3XSA9IC1hbmNob3JPZmZzZXRZO1xuICAgIHBbOV0gPSBwWzExXSA9IHBbMTNdID0gcFsxNV0gPSBfdG9wSGVpZ2h0ICogc2NhbGUgLSBhbmNob3JPZmZzZXRZO1xuICAgIHBbMTddID0gcFsxOV0gPSBwWzIxXSA9IHBbMjNdID0gaGVpZ2h0IC0gX2JvdHRvbUhlaWdodCAqIHNjYWxlIC0gYW5jaG9yT2Zmc2V0WTtcbiAgICBwWzI1XSA9IHBbMjddID0gcFsyOV0gPSBwWzMxXSA9IGhlaWdodCAtIGFuY2hvck9mZnNldFk7XG4gICAgdGhpcy5nZXRCdWZmZXIoXCJhUG9zaXRpb25cIikudXBkYXRlKCk7XG4gIH1cbiAgLyoqIFVwZGF0ZXMgdGhlIFVWcyBvZiB0aGUgdmVydGljZXMuICovXG4gIHVwZGF0ZVV2cygpIHtcbiAgICBjb25zdCB1dnMgPSB0aGlzLnV2cztcbiAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgdXZzWzFdID0gdXZzWzNdID0gdXZzWzVdID0gdXZzWzddID0gMDtcbiAgICB1dnNbNl0gPSB1dnNbMTRdID0gdXZzWzIyXSA9IHV2c1szMF0gPSAxO1xuICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuICAgIGNvbnN0IF91dncgPSAxIC8gdGhpcy5fb3JpZ2luYWxXaWR0aDtcbiAgICBjb25zdCBfdXZoID0gMSAvIHRoaXMuX29yaWdpbmFsSGVpZ2h0O1xuICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSBfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIHRoaXMuZ2V0QnVmZmVyKFwiYVVWXCIpLnVwZGF0ZSgpO1xuICB9XG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBOaW5lU2xpY2VHZW9tZXRyeS4gKi9cbl9OaW5lU2xpY2VHZW9tZXRyeS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZS4gKi9cbiAgd2lkdGg6IDEwMCxcbiAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmUuICovXG4gIGhlaWdodDogMTAwLFxuICAvKiogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtbi4gKi9cbiAgbGVmdFdpZHRoOiAxMCxcbiAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cuICovXG4gIHRvcEhlaWdodDogMTAsXG4gIC8qKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbi4gKi9cbiAgcmlnaHRXaWR0aDogMTAsXG4gIC8qKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93LiAqL1xuICBib3R0b21IZWlnaHQ6IDEwLFxuICAvKiogVGhlIG9yaWdpbmFsIHdpZHRoIG9mIHRoZSB0ZXh0dXJlICovXG4gIG9yaWdpbmFsV2lkdGg6IDEwMCxcbiAgLyoqIFRoZSBvcmlnaW5hbCBoZWlnaHQgb2YgdGhlIHRleHR1cmUgKi9cbiAgb3JpZ2luYWxIZWlnaHQ6IDEwMFxufTtcbmxldCBOaW5lU2xpY2VHZW9tZXRyeSA9IF9OaW5lU2xpY2VHZW9tZXRyeTtcblxuZXhwb3J0IHsgTmluZVNsaWNlR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5pbmVTbGljZUdlb21ldHJ5Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZU1lc2ggfSBmcm9tICcuLi9tZXNoL3NoYXJlZC9CYXRjaGFibGVNZXNoLm1qcyc7XG5pbXBvcnQgeyBOaW5lU2xpY2VHZW9tZXRyeSB9IGZyb20gJy4vTmluZVNsaWNlR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBOaW5lU2xpY2VTcHJpdGVHcHVEYXRhIGV4dGVuZHMgQmF0Y2hhYmxlTWVzaCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBOaW5lU2xpY2VHZW9tZXRyeSgpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gIH1cbn1cbmNsYXNzIE5pbmVTbGljZVNwcml0ZVBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShzcHJpdGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGdwdVNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgaWYgKHNwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgdGhpcy5fdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgZ3B1U3ByaXRlKTtcbiAgICBncHVTcHJpdGUuX2JhdGNoZXIudXBkYXRlRWxlbWVudChncHVTcHJpdGUpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICByZXR1cm4gIWdwdVNwcml0ZS5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICBncHVTcHJpdGUsXG4gICAgICBzcHJpdGUuX3RleHR1cmVcbiAgICApO1xuICB9XG4gIF91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBiYXRjaGFibGVTcHJpdGUpIHtcbiAgICBiYXRjaGFibGVTcHJpdGUuZ2VvbWV0cnkudXBkYXRlKHNwcml0ZSk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnNldFRleHR1cmUoc3ByaXRlLl90ZXh0dXJlKTtcbiAgfVxuICBfZ2V0R3B1U3ByaXRlKHNwcml0ZSkge1xuICAgIHJldHVybiBzcHJpdGUuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSB8fCB0aGlzLl9pbml0R1BVU3ByaXRlKHNwcml0ZSk7XG4gIH1cbiAgX2luaXRHUFVTcHJpdGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1RGF0YSA9IHNwcml0ZS5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdID0gbmV3IE5pbmVTbGljZVNwcml0ZUdwdURhdGEoKTtcbiAgICBjb25zdCBiYXRjaGFibGVNZXNoID0gZ3B1RGF0YTtcbiAgICBiYXRjaGFibGVNZXNoLnJlbmRlcmFibGUgPSBzcHJpdGU7XG4gICAgYmF0Y2hhYmxlTWVzaC50cmFuc2Zvcm0gPSBzcHJpdGUuZ3JvdXBUcmFuc2Zvcm07XG4gICAgYmF0Y2hhYmxlTWVzaC50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgIGJhdGNoYWJsZU1lc2gucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBzcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIGlmICghc3ByaXRlLmRpZFZpZXdVcGRhdGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGJhdGNoYWJsZU1lc2gpO1xuICAgIH1cbiAgICByZXR1cm4gZ3B1RGF0YTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbk5pbmVTbGljZVNwcml0ZVBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcIm5pbmVTbGljZVNwcml0ZVwiXG59O1xuXG5leHBvcnQgeyBOaW5lU2xpY2VTcHJpdGVHcHVEYXRhLCBOaW5lU2xpY2VTcHJpdGVQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OaW5lU2xpY2VTcHJpdGVQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE5pbmVTbGljZVNwcml0ZVBpcGUgfSBmcm9tICcuL05pbmVTbGljZVNwcml0ZVBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChOaW5lU2xpY2VTcHJpdGVQaXBlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBibGVuZE1vZGVJZHMgPSB7XG4gIG5vcm1hbDogMCxcbiAgYWRkOiAxLFxuICBtdWx0aXBseTogMixcbiAgc2NyZWVuOiAzLFxuICBvdmVybGF5OiA0LFxuICBlcmFzZTogNSxcbiAgXCJub3JtYWwtbnBtXCI6IDYsXG4gIFwiYWRkLW5wbVwiOiA3LFxuICBcInNjcmVlbi1ucG1cIjogOCxcbiAgbWluOiA5LFxuICBtYXg6IDEwXG59O1xuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcbmNvbnN0IERFUFRIX01BU0sgPSA1O1xuY29uc3QgX1N0YXRlID0gY2xhc3MgX1N0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYXRhID0gMDtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IFwibm9ybWFsXCI7XG4gICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICB0aGlzLmRlcHRoTWFzayA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBnZXQgYmxlbmQoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQkxFTkQpO1xuICB9XG4gIHNldCBibGVuZCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IEJMRU5EO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBvZmZzZXRzKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IE9GRlNFVCk7XG4gIH1cbiAgc2V0IG9mZnNldHModmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgT0ZGU0VUO1xuICAgIH1cbiAgfVxuICAvKiogVGhlIGN1bGxpbmcgc2V0dGluZ3MgZm9yIHRoaXMgc3RhdGUgbm9uZSAtIE5vIGN1bGxpbmcgYmFjayAtIEJhY2sgZmFjZSBjdWxsaW5nIGZyb250IC0gRnJvbnQgZmFjZSBjdWxsaW5nICovXG4gIHNldCBjdWxsTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHRoaXMuY3VsbGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN1bGxpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlID0gdmFsdWUgPT09IFwiZnJvbnRcIjtcbiAgfVxuICBnZXQgY3VsbE1vZGUoKSB7XG4gICAgaWYgKCF0aGlzLmN1bGxpbmcpIHtcbiAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlID8gXCJmcm9udFwiIDogXCJiYWNrXCI7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBjdWxsaW5nIG9mIHBvbHlnb25zLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGN1bGxpbmcoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORyk7XG4gIH1cbiAgc2V0IGN1bGxpbmcodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBDVUxMSU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IENVTExJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBkZXB0aFRlc3QoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfVEVTVCk7XG4gIH1cbiAgc2V0IGRlcHRoVGVzdCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfVEVTVDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGluZyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBnZXQgZGVwdGhNYXNrKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX01BU0spO1xuICB9XG4gIHNldCBkZXB0aE1hc2sodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX01BU0s7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjbG9ja3dpc2VGcm9udEZhY2UoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgV0lORElORyk7XG4gIH1cbiAgc2V0IGNsb2Nrd2lzZUZyb250RmFjZSh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgV0lORElORztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgbm9ybWFsYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgKiBAZGVmYXVsdCAnbm9ybWFsJ1xuICAgKi9cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLmJsZW5kID0gdmFsdWUgIT09IFwibm9uZVwiO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIHRoaXMuX2JsZW5kTW9kZUlkID0gYmxlbmRNb2RlSWRzW3ZhbHVlXSB8fCAwO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBnZXQgcG9seWdvbk9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgfVxuICBzZXQgcG9seWdvbk9mZnNldCh2YWx1ZSkge1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW3BpeGkuanMvY29yZTpTdGF0ZSBibGVuZE1vZGU9JHt0aGlzLmJsZW5kTW9kZX0gY2xvY2t3aXNlRnJvbnRGYWNlPSR7dGhpcy5jbG9ja3dpc2VGcm9udEZhY2V9IGN1bGxpbmc9JHt0aGlzLmN1bGxpbmd9IGRlcHRoTWFzaz0ke3RoaXMuZGVwdGhNYXNrfSBwb2x5Z29uT2Zmc2V0PSR7dGhpcy5wb2x5Z29uT2Zmc2V0fV1gO1xuICB9XG4gIC8qKlxuICAgKiBBIHF1aWNrbHkgZ2V0dGluZyBhbiBpbnN0YW5jZSBvZiBhIFN0YXRlIHRoYXQgaXMgY29uZmlndXJlZCBmb3IgMmQgcmVuZGVyaW5nLlxuICAgKiBAcmV0dXJucyBhIG5ldyBTdGF0ZSB3aXRoIHZhbHVlcyBzZXQgZm9yIDJkIHJlbmRlcmluZ1xuICAgKi9cbiAgc3RhdGljIGZvcjJkKCkge1xuICAgIGNvbnN0IHN0YXRlID0gbmV3IF9TdGF0ZSgpO1xuICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5fU3RhdGUuZGVmYXVsdDJkID0gX1N0YXRlLmZvcjJkKCk7XG5sZXQgU3RhdGUgPSBfU3RhdGU7XG5cbmV4cG9ydCB7IFN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmF0Y2hlck5hbWUgPSBcImRlZmF1bHRcIjtcbiAgICB0aGlzLnRvcG9sb2d5ID0gXCJ0cmlhbmdsZS1saXN0XCI7XG4gICAgLy8gYmF0Y2ggc3BlY2lmaWMuLlxuICAgIHRoaXMuYXR0cmlidXRlU2l6ZSA9IDQ7XG4gICAgdGhpcy5pbmRleFNpemUgPSA2O1xuICAgIHRoaXMucGFja0FzUXVhZCA9IHRydWU7XG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IDA7XG4gICAgdGhpcy5fYXR0cmlidXRlU3RhcnQgPSAwO1xuICAgIC8vIGxvY2F0aW9uIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQ29sb3JBbHBoYTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgfVxuICBkZXN0cm95KCkge1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlU3ByaXRlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdGlsaW5nQml0ID0ge1xuICBuYW1lOiBcInRpbGluZy1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBzdHJ1Y3QgVGlsaW5nVW5pZm9ybXMge1xuICAgICAgICAgICAgICAgIHVNYXBDb29yZDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBGcmFtZTp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdUNsYW1wT2Zmc2V0OnZlYzI8ZjMyPixcbiAgICAgICAgICAgICAgICB1VGV4dHVyZVRyYW5zZm9ybTptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1U2l6ZUFuY2hvcjp2ZWM0PGYzMj5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gdGlsaW5nVW5pZm9ybXM6IFRpbGluZ1VuaWZvcm1zO1xuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDIpIHZhciB1U2FtcGxlcjogc2FtcGxlcjtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodGlsaW5nVW5pZm9ybXMudVRleHR1cmVUcmFuc2Zvcm0gKiB2ZWMzKHV2LCAxLjApKS54eTtcblxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gLSB0aWxpbmdVbmlmb3Jtcy51U2l6ZUFuY2hvci56dykgKiB0aWxpbmdVbmlmb3Jtcy51U2l6ZUFuY2hvci54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHN0cnVjdCBUaWxpbmdVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdU1hcENvb3JkOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDbGFtcEZyYW1lOnZlYzQ8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q2xhbXBPZmZzZXQ6dmVjMjxmMzI+LFxuICAgICAgICAgICAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOm1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVTaXplQW5jaG9yOnZlYzQ8ZjMyPlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgQGdyb3VwKDIpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB0aWxpbmdVbmlmb3JtczogVGlsaW5nVW5pZm9ybXM7XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHZhciBjb29yZCA9IHZVViArIGNlaWwodGlsaW5nVW5pZm9ybXMudUNsYW1wT2Zmc2V0IC0gdlVWKTtcbiAgICAgICAgICAgIGNvb3JkID0gKHRpbGluZ1VuaWZvcm1zLnVNYXBDb29yZCAqIHZlYzMoY29vcmQsIDEuMCkpLnh5O1xuICAgICAgICAgICAgdmFyIHVuY2xhbXBlZCA9IGNvb3JkO1xuICAgICAgICAgICAgY29vcmQgPSBjbGFtcChjb29yZCwgdGlsaW5nVW5pZm9ybXMudUNsYW1wRnJhbWUueHksIHRpbGluZ1VuaWZvcm1zLnVDbGFtcEZyYW1lLnp3KTtcblxuICAgICAgICAgICAgdmFyIGJpYXMgPSAwLjtcblxuICAgICAgICAgICAgaWYodW5jbGFtcGVkLnggPT0gY29vcmQueCAmJiB1bmNsYW1wZWQueSA9PSBjb29yZC55KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJpYXMgPSAtMzIuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmVTYW1wbGVCaWFzKHVUZXh0dXJlLCB1U2FtcGxlciwgY29vcmQsIGJpYXMpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgdGlsaW5nQml0R2wgPSB7XG4gIG5hbWU6IFwidGlsaW5nLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VGV4dHVyZVRyYW5zZm9ybTtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1U2l6ZUFuY2hvcjtcblxuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh1VGV4dHVyZVRyYW5zZm9ybSAqIHZlYzMoYVVWLCAxLjApKS54eTtcblxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gLSB1U2l6ZUFuY2hvci56dykgKiB1U2l6ZUFuY2hvci54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMiB1Q2xhbXBPZmZzZXQ7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcblxuICAgICAgICB2ZWMyIGNvb3JkID0gdlVWICsgY2VpbCh1Q2xhbXBPZmZzZXQgLSB2VVYpO1xuICAgICAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcbiAgICAgICAgdmVjMiB1bmNsYW1wZWQgPSBjb29yZDtcbiAgICAgICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcblxuICAgICAgICBvdXRDb2xvciA9IHRleHR1cmUodVRleHR1cmUsIGNvb3JkLCB1bmNsYW1wZWQgPT0gY29vcmQgPyAwLjAgOiAtMzIuMCk7Ly8gbG9kLWJpYXMgdmVyeSBuZWdhdGl2ZSB0byBmb3JjZSBsb2QgMFxuXG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IHRpbGluZ0JpdCwgdGlsaW5nQml0R2wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbGluZ0JpdC5tanMubWFwXG4iLCJpbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0sIGNvbXBpbGVIaWdoU2hhZGVyR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL2NvbXBpbGVIaWdoU2hhZGVyVG9Qcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMnO1xuaW1wb3J0IHsgcm91bmRQaXhlbHNCaXQsIHJvdW5kUGl4ZWxzQml0R2wgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvaGlnaC1zaGFkZXIvc2hhZGVyLWJpdHMvcm91bmRQaXhlbHNCaXQubWpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9TaGFkZXIubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IHRpbGluZ0JpdCwgdGlsaW5nQml0R2wgfSBmcm9tICcuL3RpbGluZ0JpdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCBncHVQcm9ncmFtO1xubGV0IGdsUHJvZ3JhbTtcbmNsYXNzIFRpbGluZ1Nwcml0ZVNoYWRlciBleHRlbmRzIFNoYWRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGdwdVByb2dyYW0gPz8gKGdwdVByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdwdVByb2dyYW0oe1xuICAgICAgbmFtZTogXCJ0aWxpbmctc3ByaXRlLXNoYWRlclwiLFxuICAgICAgYml0czogW1xuICAgICAgICBsb2NhbFVuaWZvcm1CaXQsXG4gICAgICAgIHRpbGluZ0JpdCxcbiAgICAgICAgcm91bmRQaXhlbHNCaXRcbiAgICAgIF1cbiAgICB9KSk7XG4gICAgZ2xQcm9ncmFtID8/IChnbFByb2dyYW0gPSBjb21waWxlSGlnaFNoYWRlckdsUHJvZ3JhbSh7XG4gICAgICBuYW1lOiBcInRpbGluZy1zcHJpdGUtc2hhZGVyXCIsXG4gICAgICBiaXRzOiBbXG4gICAgICAgIGxvY2FsVW5pZm9ybUJpdEdsLFxuICAgICAgICB0aWxpbmdCaXRHbCxcbiAgICAgICAgcm91bmRQaXhlbHNCaXRHbFxuICAgICAgXVxuICAgIH0pKTtcbiAgICBjb25zdCB0aWxpbmdVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdU1hcENvb3JkOiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdUNsYW1wRnJhbWU6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDFdKSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUNsYW1wT2Zmc2V0OiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFswLCAwXSksIHR5cGU6IFwidmVjMjxmMzI+XCIgfSxcbiAgICAgIHVUZXh0dXJlVHJhbnNmb3JtOiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdVNpemVBbmNob3I6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoWzEwMCwgMTAwLCAwLjUsIDAuNV0pLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH1cbiAgICB9KTtcbiAgICBzdXBlcih7XG4gICAgICBnbFByb2dyYW0sXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGxvY2FsVW5pZm9ybXM6IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgICAgICB1Um91bmQ6IHsgdmFsdWU6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgICAgICB9KSxcbiAgICAgICAgdGlsaW5nVW5pZm9ybXMsXG4gICAgICAgIHVUZXh0dXJlOiBUZXh0dXJlLkVNUFRZLnNvdXJjZSxcbiAgICAgICAgdVNhbXBsZXI6IFRleHR1cmUuRU1QVFkuc291cmNlLnN0eWxlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlVW5pZm9ybXMod2lkdGgsIGhlaWdodCwgbWF0cml4LCBhbmNob3JYLCBhbmNob3JZLCB0ZXh0dXJlKSB7XG4gICAgY29uc3QgdGlsaW5nVW5pZm9ybXMgPSB0aGlzLnJlc291cmNlcy50aWxpbmdVbmlmb3JtcztcbiAgICBjb25zdCB0ZXh0dXJlV2lkdGggPSB0ZXh0dXJlLndpZHRoO1xuICAgIGNvbnN0IHRleHR1cmVIZWlnaHQgPSB0ZXh0dXJlLmhlaWdodDtcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gdGV4dHVyZS50ZXh0dXJlTWF0cml4O1xuICAgIGNvbnN0IHVUZXh0dXJlVHJhbnNmb3JtID0gdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVRleHR1cmVUcmFuc2Zvcm07XG4gICAgdVRleHR1cmVUcmFuc2Zvcm0uc2V0KFxuICAgICAgbWF0cml4LmEgKiB0ZXh0dXJlV2lkdGggLyB3aWR0aCxcbiAgICAgIG1hdHJpeC5iICogdGV4dHVyZVdpZHRoIC8gaGVpZ2h0LFxuICAgICAgbWF0cml4LmMgKiB0ZXh0dXJlSGVpZ2h0IC8gd2lkdGgsXG4gICAgICBtYXRyaXguZCAqIHRleHR1cmVIZWlnaHQgLyBoZWlnaHQsXG4gICAgICBtYXRyaXgudHggLyB3aWR0aCxcbiAgICAgIG1hdHJpeC50eSAvIGhlaWdodFxuICAgICk7XG4gICAgdVRleHR1cmVUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudU1hcENvb3JkID0gdGV4dHVyZU1hdHJpeC5tYXBDb29yZDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHRleHR1cmVNYXRyaXgudUNsYW1wRnJhbWU7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudUNsYW1wT2Zmc2V0ID0gdGV4dHVyZU1hdHJpeC51Q2xhbXBPZmZzZXQ7XG4gICAgdGlsaW5nVW5pZm9ybXMudW5pZm9ybXMudVRleHR1cmVUcmFuc2Zvcm0gPSB1VGV4dHVyZVRyYW5zZm9ybTtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51U2l6ZUFuY2hvclswXSA9IHdpZHRoO1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzFdID0gaGVpZ2h0O1xuICAgIHRpbGluZ1VuaWZvcm1zLnVuaWZvcm1zLnVTaXplQW5jaG9yWzJdID0gYW5jaG9yWDtcbiAgICB0aWxpbmdVbmlmb3Jtcy51bmlmb3Jtcy51U2l6ZUFuY2hvclszXSA9IGFuY2hvclk7XG4gICAgaWYgKHRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzLnVUZXh0dXJlID0gdGV4dHVyZS5zb3VyY2U7XG4gICAgICB0aGlzLnJlc291cmNlcy51U2FtcGxlciA9IHRleHR1cmUuc291cmNlLnN0eWxlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBUaWxpbmdTcHJpdGVTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGluZ1Nwcml0ZVNoYWRlci5tanMubWFwXG4iLCJpbXBvcnQgeyBNZXNoR2VvbWV0cnkgfSBmcm9tICcuLi8uLi9tZXNoL3NoYXJlZC9NZXNoR2VvbWV0cnkubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBRdWFkR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBwb3NpdGlvbnM6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDEsIDAsIDEsIDEsIDAsIDFdKSxcbiAgICAgIHV2czogbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMSwgMCwgMSwgMSwgMCwgMV0pLFxuICAgICAgaW5kaWNlczogbmV3IFVpbnQzMkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSlcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBRdWFkR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVF1YWRHZW9tZXRyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZC5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy90eXBlcy5tanMnO1xuaW1wb3J0IHsgY29sb3IzMkJpdFRvVW5pZm9ybSB9IGZyb20gJy4uL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlTWVzaCB9IGZyb20gJy4uL21lc2gvc2hhcmVkL0JhdGNoYWJsZU1lc2gubWpzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJy4uL21lc2gvc2hhcmVkL01lc2hHZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvVGlsaW5nU3ByaXRlU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBRdWFkR2VvbWV0cnkgfSBmcm9tICcuL3V0aWxzL1F1YWRHZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgc2V0UG9zaXRpb25zIH0gZnJvbSAnLi91dGlscy9zZXRQb3NpdGlvbnMubWpzJztcbmltcG9ydCB7IHNldFV2cyB9IGZyb20gJy4vdXRpbHMvc2V0VXZzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3Qgc2hhcmVkUXVhZCA9IG5ldyBRdWFkR2VvbWV0cnkoKTtcbmNsYXNzIFRpbGluZ1Nwcml0ZUdwdURhdGEge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNhbkJhdGNoID0gdHJ1ZTtcbiAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh7XG4gICAgICBpbmRpY2VzOiBzaGFyZWRRdWFkLmluZGljZXMuc2xpY2UoKSxcbiAgICAgIHBvc2l0aW9uczogc2hhcmVkUXVhZC5wb3NpdGlvbnMuc2xpY2UoKSxcbiAgICAgIHV2czogc2hhcmVkUXVhZC51dnMuc2xpY2UoKVxuICAgIH0pO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgdGhpcy5zaGFkZXI/LmRlc3Ryb3koKTtcbiAgfVxufVxuY2xhc3MgVGlsaW5nU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5kZWZhdWx0MmQ7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUocmVuZGVyYWJsZSkge1xuICAgIGNvbnN0IHRpbGluZ1Nwcml0ZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHJlbmRlcmFibGUpO1xuICAgIGNvbnN0IGNvdWxkQmF0Y2ggPSB0aWxpbmdTcHJpdGVEYXRhLmNhbkJhdGNoO1xuICAgIHRoaXMuX3VwZGF0ZUNhbkJhdGNoKHJlbmRlcmFibGUpO1xuICAgIGNvbnN0IGNhbkJhdGNoID0gdGlsaW5nU3ByaXRlRGF0YS5jYW5CYXRjaDtcbiAgICBpZiAoY2FuQmF0Y2ggJiYgY2FuQmF0Y2ggPT09IGNvdWxkQmF0Y2gpIHtcbiAgICAgIGNvbnN0IHsgYmF0Y2hhYmxlTWVzaCB9ID0gdGlsaW5nU3ByaXRlRGF0YTtcbiAgICAgIHJldHVybiAhYmF0Y2hhYmxlTWVzaC5fYmF0Y2hlci5jaGVja0FuZFVwZGF0ZVRleHR1cmUoXG4gICAgICAgIGJhdGNoYWJsZU1lc2gsXG4gICAgICAgIHJlbmRlcmFibGUudGV4dHVyZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvdWxkQmF0Y2ggIT09IGNhbkJhdGNoO1xuICB9XG4gIGFkZFJlbmRlcmFibGUodGlsaW5nU3ByaXRlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoZXIgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaDtcbiAgICB0aGlzLl91cGRhdGVDYW5CYXRjaCh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHRpbGluZ1Nwcml0ZURhdGEgPSB0aGlzLl9nZXRUaWxpbmdTcHJpdGVEYXRhKHRpbGluZ1Nwcml0ZSk7XG4gICAgY29uc3QgeyBnZW9tZXRyeSwgY2FuQmF0Y2ggfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgaWYgKGNhbkJhdGNoKSB7XG4gICAgICB0aWxpbmdTcHJpdGVEYXRhLmJhdGNoYWJsZU1lc2ggfHwgKHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaCA9IG5ldyBCYXRjaGFibGVNZXNoKCkpO1xuICAgICAgY29uc3QgYmF0Y2hhYmxlTWVzaCA9IHRpbGluZ1Nwcml0ZURhdGEuYmF0Y2hhYmxlTWVzaDtcbiAgICAgIGlmICh0aWxpbmdTcHJpdGUuZGlkVmlld1VwZGF0ZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgICAgIGJhdGNoYWJsZU1lc2guZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5yZW5kZXJhYmxlID0gdGlsaW5nU3ByaXRlO1xuICAgICAgICBiYXRjaGFibGVNZXNoLnRyYW5zZm9ybSA9IHRpbGluZ1Nwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICAgICAgYmF0Y2hhYmxlTWVzaC5zZXRUZXh0dXJlKHRpbGluZ1Nwcml0ZS5fdGV4dHVyZSk7XG4gICAgICB9XG4gICAgICBiYXRjaGFibGVNZXNoLnJvdW5kUGl4ZWxzID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgdGlsaW5nU3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICAgIGJhdGNoZXIuYWRkVG9CYXRjaChiYXRjaGFibGVNZXNoLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhdGNoZXIuYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgICAgdGlsaW5nU3ByaXRlRGF0YS5zaGFkZXIgfHwgKHRpbGluZ1Nwcml0ZURhdGEuc2hhZGVyID0gbmV3IFRpbGluZ1Nwcml0ZVNoYWRlcigpKTtcbiAgICAgIHRoaXMudXBkYXRlUmVuZGVyYWJsZSh0aWxpbmdTcHJpdGUpO1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHRpbGluZ1Nwcml0ZSk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUodGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgeyBzaGFkZXIgfSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBzaGFkZXIuZ3JvdXBzWzBdID0gdGhpcy5fcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMuYmluZEdyb3VwO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSBzaGFkZXIucmVzb3VyY2VzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gdGlsaW5nU3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgIGxvY2FsVW5pZm9ybXMudVJvdW5kID0gdGhpcy5fcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgdGlsaW5nU3ByaXRlLl9yb3VuZFBpeGVscztcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgdGlsaW5nU3ByaXRlLmdyb3VwQ29sb3JBbHBoYSxcbiAgICAgIGxvY2FsVW5pZm9ybXMudUNvbG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgdGhpcy5fc3RhdGUuYmxlbmRNb2RlID0gZ2V0QWRqdXN0ZWRCbGVuZE1vZGVCbGVuZCh0aWxpbmdTcHJpdGUuZ3JvdXBCbGVuZE1vZGUsIHRpbGluZ1Nwcml0ZS50ZXh0dXJlLl9zb3VyY2UpO1xuICAgIHRoaXMuX3JlbmRlcmVyLmVuY29kZXIuZHJhdyh7XG4gICAgICBnZW9tZXRyeTogc2hhcmVkUXVhZCxcbiAgICAgIHNoYWRlcixcbiAgICAgIHN0YXRlOiB0aGlzLl9zdGF0ZVxuICAgIH0pO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUodGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgdGlsaW5nU3ByaXRlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB7IGNhbkJhdGNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgIGlmIChjYW5CYXRjaCkge1xuICAgICAgY29uc3QgeyBiYXRjaGFibGVNZXNoIH0gPSB0aWxpbmdTcHJpdGVEYXRhO1xuICAgICAgaWYgKHRpbGluZ1Nwcml0ZS5kaWRWaWV3VXBkYXRlKVxuICAgICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVNZXNoKHRpbGluZ1Nwcml0ZSk7XG4gICAgICBiYXRjaGFibGVNZXNoLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoYmF0Y2hhYmxlTWVzaCk7XG4gICAgfSBlbHNlIGlmICh0aWxpbmdTcHJpdGUuZGlkVmlld1VwZGF0ZSkge1xuICAgICAgY29uc3QgeyBzaGFkZXIgfSA9IHRpbGluZ1Nwcml0ZURhdGE7XG4gICAgICBzaGFkZXIudXBkYXRlVW5pZm9ybXMoXG4gICAgICAgIHRpbGluZ1Nwcml0ZS53aWR0aCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLmhlaWdodCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLl90aWxlVHJhbnNmb3JtLm1hdHJpeCxcbiAgICAgICAgdGlsaW5nU3ByaXRlLmFuY2hvci54LFxuICAgICAgICB0aWxpbmdTcHJpdGUuYW5jaG9yLnksXG4gICAgICAgIHRpbGluZ1Nwcml0ZS50ZXh0dXJlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBfZ2V0VGlsaW5nU3ByaXRlRGF0YShyZW5kZXJhYmxlKSB7XG4gICAgcmV0dXJuIHJlbmRlcmFibGUuX2dwdURhdGFbdGhpcy5fcmVuZGVyZXIudWlkXSB8fCB0aGlzLl9pbml0VGlsaW5nU3ByaXRlRGF0YShyZW5kZXJhYmxlKTtcbiAgfVxuICBfaW5pdFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1RGF0YSA9IG5ldyBUaWxpbmdTcHJpdGVHcHVEYXRhKCk7XG4gICAgZ3B1RGF0YS5yZW5kZXJhYmxlID0gdGlsaW5nU3ByaXRlO1xuICAgIHRpbGluZ1Nwcml0ZS5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdID0gZ3B1RGF0YTtcbiAgICByZXR1cm4gZ3B1RGF0YTtcbiAgfVxuICBfdXBkYXRlQmF0Y2hhYmxlTWVzaCh0aWxpbmdTcHJpdGUpIHtcbiAgICBjb25zdCByZW5kZXJhYmxlRGF0YSA9IHRoaXMuX2dldFRpbGluZ1Nwcml0ZURhdGEodGlsaW5nU3ByaXRlKTtcbiAgICBjb25zdCB7IGdlb21ldHJ5IH0gPSByZW5kZXJhYmxlRGF0YTtcbiAgICBjb25zdCBzdHlsZSA9IHRpbGluZ1Nwcml0ZS50ZXh0dXJlLnNvdXJjZS5zdHlsZTtcbiAgICBpZiAoc3R5bGUuYWRkcmVzc01vZGUgIT09IFwicmVwZWF0XCIpIHtcbiAgICAgIHN0eWxlLmFkZHJlc3NNb2RlID0gXCJyZXBlYXRcIjtcbiAgICAgIHN0eWxlLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBzZXRVdnModGlsaW5nU3ByaXRlLCBnZW9tZXRyeS51dnMpO1xuICAgIHNldFBvc2l0aW9ucyh0aWxpbmdTcHJpdGUsIGdlb21ldHJ5LnBvc2l0aW9ucyk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbiAgX3VwZGF0ZUNhbkJhdGNoKHRpbGluZ1Nwcml0ZSkge1xuICAgIGNvbnN0IHJlbmRlcmFibGVEYXRhID0gdGhpcy5fZ2V0VGlsaW5nU3ByaXRlRGF0YSh0aWxpbmdTcHJpdGUpO1xuICAgIGNvbnN0IHRleHR1cmUgPSB0aWxpbmdTcHJpdGUudGV4dHVyZTtcbiAgICBsZXQgX25vblBvd09mMndyYXBwaW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fcmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICBfbm9uUG93T2Yyd3JhcHBpbmcgPSB0aGlzLl9yZW5kZXJlci5jb250ZXh0LnN1cHBvcnRzLm5vblBvd09mMndyYXBwaW5nO1xuICAgIH1cbiAgICByZW5kZXJhYmxlRGF0YS5jYW5CYXRjaCA9IHRleHR1cmUudGV4dHVyZU1hdHJpeC5pc1NpbXBsZSAmJiAoX25vblBvd09mMndyYXBwaW5nIHx8IHRleHR1cmUuc291cmNlLmlzUG93ZXJPZlR3byk7XG4gICAgcmV0dXJuIHJlbmRlcmFibGVEYXRhLmNhbkJhdGNoO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuVGlsaW5nU3ByaXRlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwidGlsaW5nU3ByaXRlXCJcbn07XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZUdwdURhdGEsIFRpbGluZ1Nwcml0ZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRpbGluZ1Nwcml0ZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgYXBwbHlNYXRyaXggfSBmcm9tICcuL2FwcGx5TWF0cml4Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gc2V0VXZzKHRpbGluZ1Nwcml0ZSwgdXZzKSB7XG4gIGNvbnN0IHRleHR1cmUgPSB0aWxpbmdTcHJpdGUudGV4dHVyZTtcbiAgY29uc3Qgd2lkdGggPSB0ZXh0dXJlLmZyYW1lLndpZHRoO1xuICBjb25zdCBoZWlnaHQgPSB0ZXh0dXJlLmZyYW1lLmhlaWdodDtcbiAgbGV0IGFuY2hvclggPSAwO1xuICBsZXQgYW5jaG9yWSA9IDA7XG4gIGlmICh0aWxpbmdTcHJpdGUuYXBwbHlBbmNob3JUb1RleHR1cmUpIHtcbiAgICBhbmNob3JYID0gdGlsaW5nU3ByaXRlLmFuY2hvci54O1xuICAgIGFuY2hvclkgPSB0aWxpbmdTcHJpdGUuYW5jaG9yLnk7XG4gIH1cbiAgdXZzWzBdID0gdXZzWzZdID0gLWFuY2hvclg7XG4gIHV2c1syXSA9IHV2c1s0XSA9IDEgLSBhbmNob3JYO1xuICB1dnNbMV0gPSB1dnNbM10gPSAtYW5jaG9yWTtcbiAgdXZzWzVdID0gdXZzWzddID0gMSAtIGFuY2hvclk7XG4gIGNvbnN0IHRleHR1cmVNYXRyaXggPSBNYXRyaXguc2hhcmVkO1xuICB0ZXh0dXJlTWF0cml4LmNvcHlGcm9tKHRpbGluZ1Nwcml0ZS5fdGlsZVRyYW5zZm9ybS5tYXRyaXgpO1xuICB0ZXh0dXJlTWF0cml4LnR4IC89IHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgdGV4dHVyZU1hdHJpeC50eSAvPSB0aWxpbmdTcHJpdGUuaGVpZ2h0O1xuICB0ZXh0dXJlTWF0cml4LmludmVydCgpO1xuICB0ZXh0dXJlTWF0cml4LnNjYWxlKHRpbGluZ1Nwcml0ZS53aWR0aCAvIHdpZHRoLCB0aWxpbmdTcHJpdGUuaGVpZ2h0IC8gaGVpZ2h0KTtcbiAgYXBwbHlNYXRyaXgodXZzLCAyLCAwLCB0ZXh0dXJlTWF0cml4KTtcbn1cblxuZXhwb3J0IHsgc2V0VXZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRVdnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBhcHBseU1hdHJpeChhcnJheSwgc3RyaWRlLCBvZmZzZXQsIG1hdHJpeCkge1xuICBsZXQgaW5kZXggPSAwO1xuICBjb25zdCBzaXplID0gYXJyYXkubGVuZ3RoIC8gKHN0cmlkZSB8fCAyKTtcbiAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICBjb25zdCBiID0gbWF0cml4LmI7XG4gIGNvbnN0IGMgPSBtYXRyaXguYztcbiAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICBjb25zdCB0eCA9IG1hdHJpeC50eDtcbiAgY29uc3QgdHkgPSBtYXRyaXgudHk7XG4gIG9mZnNldCAqPSBzdHJpZGU7XG4gIHdoaWxlIChpbmRleCA8IHNpemUpIHtcbiAgICBjb25zdCB4ID0gYXJyYXlbb2Zmc2V0XTtcbiAgICBjb25zdCB5ID0gYXJyYXlbb2Zmc2V0ICsgMV07XG4gICAgYXJyYXlbb2Zmc2V0XSA9IGEgKiB4ICsgYyAqIHkgKyB0eDtcbiAgICBhcnJheVtvZmZzZXQgKyAxXSA9IGIgKiB4ICsgZCAqIHkgKyB0eTtcbiAgICBvZmZzZXQgKz0gc3RyaWRlO1xuICAgIGluZGV4Kys7XG4gIH1cbn1cblxuZXhwb3J0IHsgYXBwbHlNYXRyaXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGx5TWF0cml4Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gc2V0UG9zaXRpb25zKHRpbGluZ1Nwcml0ZSwgcG9zaXRpb25zKSB7XG4gIGNvbnN0IGFuY2hvclggPSB0aWxpbmdTcHJpdGUuYW5jaG9yLng7XG4gIGNvbnN0IGFuY2hvclkgPSB0aWxpbmdTcHJpdGUuYW5jaG9yLnk7XG4gIHBvc2l0aW9uc1swXSA9IC1hbmNob3JYICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbMV0gPSAtYW5jaG9yWSAqIHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHBvc2l0aW9uc1syXSA9ICgxIC0gYW5jaG9yWCkgKiB0aWxpbmdTcHJpdGUud2lkdGg7XG4gIHBvc2l0aW9uc1szXSA9IC1hbmNob3JZICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbiAgcG9zaXRpb25zWzRdID0gKDEgLSBhbmNob3JYKSAqIHRpbGluZ1Nwcml0ZS53aWR0aDtcbiAgcG9zaXRpb25zWzVdID0gKDEgLSBhbmNob3JZKSAqIHRpbGluZ1Nwcml0ZS5oZWlnaHQ7XG4gIHBvc2l0aW9uc1s2XSA9IC1hbmNob3JYICogdGlsaW5nU3ByaXRlLndpZHRoO1xuICBwb3NpdGlvbnNbN10gPSAoMSAtIGFuY2hvclkpICogdGlsaW5nU3ByaXRlLmhlaWdodDtcbn1cblxuZXhwb3J0IHsgc2V0UG9zaXRpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRQb3NpdGlvbnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUGlwZSB9IGZyb20gJy4vVGlsaW5nU3ByaXRlUGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKFRpbGluZ1Nwcml0ZVBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZU1lc2gge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmJhdGNoZXJOYW1lID0gXCJkZWZhdWx0XCI7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gZmFsc2U7XG4gICAgdGhpcy5pbmRleE9mZnNldCA9IDA7XG4gICAgdGhpcy5hdHRyaWJ1dGVPZmZzZXQgPSAwO1xuICAgIHRoaXMucm91bmRQaXhlbHMgPSAwO1xuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgICB0aGlzLl91dlVwZGF0ZUlkID0gLTE7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIGdldCB0b3BvbG9neSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdG9wb2xvZ3kgfHwgdGhpcy5nZW9tZXRyeS50b3BvbG9neTtcbiAgfVxuICBzZXQgdG9wb2xvZ3kodmFsdWUpIHtcbiAgICB0aGlzLl90b3BvbG9neSA9IHZhbHVlO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgdGhpcy5fdXZVcGRhdGVJZCA9IC0xO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IC0xO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0ZXh0dXJlIGZvciB0aGUgYmF0Y2hhYmxlIG1lc2guXG4gICAqIEFzIGl0IGRvZXMgc28sIGl0IHJlc2V0cyB0aGUgdGV4dHVyZSBtYXRyaXggdXBkYXRlIElELlxuICAgKiB0aGlzIGlzIHRvIGVuc3VyZSB0aGF0IHRoZSB0ZXh0dXJlIG1hdHJpeCBpcyByZWNhbGN1bGF0ZWQgd2hlbiB0aGUgdXZzIGFyZSByZWZlcmVuY2VkXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB0ZXh0dXJlIHRvIHNldC5cbiAgICovXG4gIHNldFRleHR1cmUodmFsdWUpIHtcbiAgICBpZiAodGhpcy50ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnRleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4VXBkYXRlSWQgPSAtMTtcbiAgfVxuICBnZXQgdXZzKCkge1xuICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICBjb25zdCB1dkJ1ZmZlciA9IGdlb21ldHJ5LmdldEJ1ZmZlcihcImFVVlwiKTtcbiAgICBjb25zdCB1dnMgPSB1dkJ1ZmZlci5kYXRhO1xuICAgIGxldCB0cmFuc2Zvcm1lZFV2cyA9IHV2cztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gdGhpcy50ZXh0dXJlLnRleHR1cmVNYXRyaXg7XG4gICAgaWYgKCF0ZXh0dXJlTWF0cml4LmlzU2ltcGxlKSB7XG4gICAgICB0cmFuc2Zvcm1lZFV2cyA9IHRoaXMuX3RyYW5zZm9ybWVkVXZzO1xuICAgICAgaWYgKHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCAhPT0gdGV4dHVyZU1hdHJpeC5fdXBkYXRlSUQgfHwgdGhpcy5fdXZVcGRhdGVJZCAhPT0gdXZCdWZmZXIuX3VwZGF0ZUlEKSB7XG4gICAgICAgIGlmICghdHJhbnNmb3JtZWRVdnMgfHwgdHJhbnNmb3JtZWRVdnMubGVuZ3RoIDwgdXZzLmxlbmd0aCkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkVXZzID0gdGhpcy5fdHJhbnNmb3JtZWRVdnMgPSBuZXcgRmxvYXQzMkFycmF5KHV2cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmVNYXRyaXhVcGRhdGVJZCA9IHRleHR1cmVNYXRyaXguX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl91dlVwZGF0ZUlkID0gdXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgICAgICB0ZXh0dXJlTWF0cml4Lm11bHRpcGx5VXZzKHV2cywgdHJhbnNmb3JtZWRVdnMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRVdnM7XG4gIH1cbiAgZ2V0IHBvc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5wb3NpdGlvbnM7XG4gIH1cbiAgZ2V0IGluZGljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuaW5kaWNlcztcbiAgfVxuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyYWJsZS5ncm91cENvbG9yQWxwaGE7XG4gIH1cbiAgZ2V0IGdyb3VwVHJhbnNmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBUcmFuc2Zvcm07XG4gIH1cbiAgZ2V0IGF0dHJpYnV0ZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkucG9zaXRpb25zLmxlbmd0aCAvIDI7XG4gIH1cbiAgZ2V0IGluZGV4U2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5pbmRpY2VzLmxlbmd0aDtcbiAgfVxufVxuXG5leHBvcnQgeyBCYXRjaGFibGVNZXNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVNZXNoLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgY29sb3IzMkJpdFRvVW5pZm9ybSB9IGZyb20gJy4uL2dwdS9jb2xvclRvVW5pZm9ybS5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlR3JhcGhpY3MgfSBmcm9tICcuL0JhdGNoYWJsZUdyYXBoaWNzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgR3JhcGhpY3NHcHVEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXRjaGVzID0gW107XG4gICAgdGhpcy5iYXRjaGVkID0gZmFsc2U7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmJhdGNoZXMuZm9yRWFjaCgoYmF0Y2gpID0+IHtcbiAgICAgIEJpZ1Bvb2wucmV0dXJuKGJhdGNoKTtcbiAgICB9KTtcbiAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgfVxufVxuY2xhc3MgR3JhcGhpY3NQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGFkYXB0b3IpIHtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKHRoaXMpO1xuICB9XG4gIGNvbnRleHRDaGFuZ2UoKSB7XG4gICAgdGhpcy5fYWRhcHRvci5jb250ZXh0Q2hhbmdlKHRoaXMucmVuZGVyZXIpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIGNvbnN0IGNvbnRleHQgPSBncmFwaGljcy5jb250ZXh0O1xuICAgIGNvbnN0IHdhc0JhdGNoZWQgPSAhIWdyYXBoaWNzLl9ncHVEYXRhO1xuICAgIGNvbnN0IGdwdUNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dC51cGRhdGVHcHVDb250ZXh0KGNvbnRleHQpO1xuICAgIGlmIChncHVDb250ZXh0LmlzQmF0Y2hhYmxlIHx8IHdhc0JhdGNoZWQgIT09IGdwdUNvbnRleHQuaXNCYXRjaGFibGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkUmVuZGVyYWJsZShncmFwaGljcywgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVDb250ZXh0ID0gdGhpcy5yZW5kZXJlci5ncmFwaGljc0NvbnRleHQudXBkYXRlR3B1Q29udGV4dChncmFwaGljcy5jb250ZXh0KTtcbiAgICBpZiAoZ3JhcGhpY3MuZGlkVmlld1VwZGF0ZSkge1xuICAgICAgdGhpcy5fcmVidWlsZChncmFwaGljcyk7XG4gICAgfVxuICAgIGlmIChncHVDb250ZXh0LmlzQmF0Y2hhYmxlKSB7XG4gICAgICB0aGlzLl9hZGRUb0JhdGNoZXIoZ3JhcGhpY3MsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoZ3JhcGhpY3MpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKGdyYXBoaWNzKSB7XG4gICAgY29uc3QgZ3B1RGF0YSA9IHRoaXMuX2dldEdwdURhdGFGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKTtcbiAgICBjb25zdCBiYXRjaGVzID0gZ3B1RGF0YS5iYXRjaGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgYmF0Y2guX2JhdGNoZXIudXBkYXRlRWxlbWVudChiYXRjaCk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUoZ3JhcGhpY3MpIHtcbiAgICBpZiAoIWdyYXBoaWNzLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgY29uc3QgY29udGV4dCA9IGdyYXBoaWNzLmNvbnRleHQ7XG4gICAgY29uc3QgY29udGV4dFN5c3RlbSA9IHJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dDtcbiAgICBpZiAoIWNvbnRleHRTeXN0ZW0uZ2V0R3B1Q29udGV4dChjb250ZXh0KS5iYXRjaGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaGFkZXIgPSBjb250ZXh0LmN1c3RvbVNoYWRlciB8fCB0aGlzLl9hZGFwdG9yLnNoYWRlcjtcbiAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGdyYXBoaWNzLmdyb3VwQmxlbmRNb2RlO1xuICAgIGNvbnN0IGxvY2FsVW5pZm9ybXMgPSBzaGFkZXIucmVzb3VyY2VzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4ID0gZ3JhcGhpY3MuZ3JvdXBUcmFuc2Zvcm07XG4gICAgbG9jYWxVbmlmb3Jtcy51Um91bmQgPSByZW5kZXJlci5fcm91bmRQaXhlbHMgfCBncmFwaGljcy5fcm91bmRQaXhlbHM7XG4gICAgY29sb3IzMkJpdFRvVW5pZm9ybShcbiAgICAgIGdyYXBoaWNzLmdyb3VwQ29sb3JBbHBoYSxcbiAgICAgIGxvY2FsVW5pZm9ybXMudUNvbG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgdGhpcy5fYWRhcHRvci5leGVjdXRlKHRoaXMsIGdyYXBoaWNzKTtcbiAgfVxuICBfcmVidWlsZChncmFwaGljcykge1xuICAgIGNvbnN0IGdwdURhdGEgPSB0aGlzLl9nZXRHcHVEYXRhRm9yUmVuZGVyYWJsZShncmFwaGljcyk7XG4gICAgY29uc3QgZ3B1Q29udGV4dCA9IHRoaXMucmVuZGVyZXIuZ3JhcGhpY3NDb250ZXh0LnVwZGF0ZUdwdUNvbnRleHQoZ3JhcGhpY3MuY29udGV4dCk7XG4gICAgZ3B1RGF0YS5kZXN0cm95KCk7XG4gICAgaWYgKGdwdUNvbnRleHQuaXNCYXRjaGFibGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoZXNGb3JSZW5kZXJhYmxlKGdyYXBoaWNzLCBncHVEYXRhKTtcbiAgICB9XG4gIH1cbiAgX2FkZFRvQmF0Y2hlcihncmFwaGljcywgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaFBpcGUgPSB0aGlzLnJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoO1xuICAgIGNvbnN0IGJhdGNoZXMgPSB0aGlzLl9nZXRHcHVEYXRhRm9yUmVuZGVyYWJsZShncmFwaGljcykuYmF0Y2hlcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGJhdGNoUGlwZS5hZGRUb0JhdGNoKGJhdGNoLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICB9XG4gIF9nZXRHcHVEYXRhRm9yUmVuZGVyYWJsZShncmFwaGljcykge1xuICAgIHJldHVybiBncmFwaGljcy5fZ3B1RGF0YVt0aGlzLnJlbmRlcmVyLnVpZF0gfHwgdGhpcy5faW5pdEdwdURhdGFGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKTtcbiAgfVxuICBfaW5pdEdwdURhdGFGb3JSZW5kZXJhYmxlKGdyYXBoaWNzKSB7XG4gICAgY29uc3QgZ3B1RGF0YSA9IG5ldyBHcmFwaGljc0dwdURhdGEoKTtcbiAgICBncmFwaGljcy5fZ3B1RGF0YVt0aGlzLnJlbmRlcmVyLnVpZF0gPSBncHVEYXRhO1xuICAgIHJldHVybiBncHVEYXRhO1xuICB9XG4gIF91cGRhdGVCYXRjaGVzRm9yUmVuZGVyYWJsZShncmFwaGljcywgZ3B1RGF0YSkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBncmFwaGljcy5jb250ZXh0O1xuICAgIGNvbnN0IGdwdUNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmdyYXBoaWNzQ29udGV4dC5nZXRHcHVDb250ZXh0KGNvbnRleHQpO1xuICAgIGNvbnN0IHJvdW5kUGl4ZWxzID0gdGhpcy5yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBncmFwaGljcy5fcm91bmRQaXhlbHM7XG4gICAgZ3B1RGF0YS5iYXRjaGVzID0gZ3B1Q29udGV4dC5iYXRjaGVzLm1hcCgoYmF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IGJhdGNoQ2xvbmUgPSBCaWdQb29sLmdldChCYXRjaGFibGVHcmFwaGljcyk7XG4gICAgICBiYXRjaC5jb3B5VG8oYmF0Y2hDbG9uZSk7XG4gICAgICBiYXRjaENsb25lLnJlbmRlcmFibGUgPSBncmFwaGljcztcbiAgICAgIGJhdGNoQ2xvbmUucm91bmRQaXhlbHMgPSByb3VuZFBpeGVscztcbiAgICAgIHJldHVybiBiYXRjaENsb25lO1xuICAgIH0pO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWRhcHRvci5kZXN0cm95KCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IG51bGw7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5HcmFwaGljc1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImdyYXBoaWNzXCJcbn07XG5cbmV4cG9ydCB7IEdyYXBoaWNzR3B1RGF0YSwgR3JhcGhpY3NQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmFwaGljc1BpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR3JhcGhpY3NDb250ZXh0U3lzdGVtIH0gZnJvbSAnLi9zaGFyZWQvR3JhcGhpY3NDb250ZXh0U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBHcmFwaGljc1BpcGUgfSBmcm9tICcuL3NoYXJlZC9HcmFwaGljc1BpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChHcmFwaGljc1BpcGUpO1xuZXh0ZW5zaW9ucy5hZGQoR3JhcGhpY3NDb250ZXh0U3lzdGVtKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB7XG4gIGV4ZWN1dGUocGFydGljbGVDb250YWluZXJQaXBlLCBjb250YWluZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5zdGF0ZTtcbiAgICBjb25zdCByZW5kZXJlciA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5yZW5kZXJlcjtcbiAgICBjb25zdCBzaGFkZXIgPSBjb250YWluZXIuc2hhZGVyIHx8IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5kZWZhdWx0U2hhZGVyO1xuICAgIHNoYWRlci5yZXNvdXJjZXMudVRleHR1cmUgPSBjb250YWluZXIudGV4dHVyZS5fc291cmNlO1xuICAgIHNoYWRlci5yZXNvdXJjZXMudW5pZm9ybXMgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUubG9jYWxVbmlmb3JtcztcbiAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuICAgIGNvbnN0IGJ1ZmZlciA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5nZXRCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoc2hhZGVyKTtcbiAgICByZW5kZXJlci5zdGF0ZS5zZXQoc3RhdGUpO1xuICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQoYnVmZmVyLmdlb21ldHJ5LCBzaGFkZXIuZ2xQcm9ncmFtKTtcbiAgICBjb25zdCBieXRlU2l6ZSA9IGJ1ZmZlci5nZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLkJZVEVTX1BFUl9FTEVNRU5UO1xuICAgIGNvbnN0IGdsVHlwZSA9IGJ5dGVTaXplID09PSAyID8gZ2wuVU5TSUdORURfU0hPUlQgOiBnbC5VTlNJR05FRF9JTlQ7XG4gICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgY29udGFpbmVyLnBhcnRpY2xlQ2hpbGRyZW4ubGVuZ3RoICogNiwgZ2xUeXBlLCAwKTtcbiAgfVxufVxuXG5leHBvcnQgeyBHbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHMoc2l6ZSwgb3V0QnVmZmVyID0gbnVsbCkge1xuICBjb25zdCB0b3RhbEluZGljZXMgPSBzaXplICogNjtcbiAgaWYgKHRvdGFsSW5kaWNlcyA+IDY1NTM1KSB7XG4gICAgb3V0QnVmZmVyIHx8IChvdXRCdWZmZXIgPSBuZXcgVWludDMyQXJyYXkodG90YWxJbmRpY2VzKSk7XG4gIH0gZWxzZSB7XG4gICAgb3V0QnVmZmVyIHx8IChvdXRCdWZmZXIgPSBuZXcgVWludDE2QXJyYXkodG90YWxJbmRpY2VzKSk7XG4gIH1cbiAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcykge1xuICAgIHRocm93IG5ldyBFcnJvcihgT3V0IGJ1ZmZlciBsZW5ndGggaXMgaW5jb3JyZWN0LCBnb3QgJHtvdXRCdWZmZXIubGVuZ3RofSBhbmQgZXhwZWN0ZWQgJHt0b3RhbEluZGljZXN9YCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNCkge1xuICAgIG91dEJ1ZmZlcltpICsgMF0gPSBqICsgMDtcbiAgICBvdXRCdWZmZXJbaSArIDFdID0gaiArIDE7XG4gICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgIG91dEJ1ZmZlcltpICsgM10gPSBqICsgMDtcbiAgICBvdXRCdWZmZXJbaSArIDRdID0gaiArIDI7XG4gICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICB9XG4gIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlSW5kaWNlc0ZvclF1YWRzLm1qcy5tYXBcbiIsImltcG9ydCB7IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0IH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcykge1xuICByZXR1cm4ge1xuICAgIGR5bmFtaWNVcGRhdGU6IGdlbmVyYXRlVXBkYXRlRnVuY3Rpb24ocHJvcGVydGllcywgdHJ1ZSksXG4gICAgc3RhdGljVXBkYXRlOiBnZW5lcmF0ZVVwZGF0ZUZ1bmN0aW9uKHByb3BlcnRpZXMsIGZhbHNlKVxuICB9O1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVVcGRhdGVGdW5jdGlvbihwcm9wZXJ0aWVzLCBkeW5hbWljKSB7XG4gIGNvbnN0IGZ1bmNGcmFnbWVudHMgPSBbXTtcbiAgZnVuY0ZyYWdtZW50cy5wdXNoKGBcblxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwc1tpXTtcblxuICAgICAgICAgICAgYCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGNvbnN0IGkgaW4gcHJvcGVydGllcykge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICBpZiAoZHluYW1pYyAhPT0gcHJvcGVydHkuZHluYW1pYylcbiAgICAgIGNvbnRpbnVlO1xuICAgIGZ1bmNGcmFnbWVudHMucHVzaChgb2Zmc2V0ID0gaW5kZXggKyAke29mZnNldH1gKTtcbiAgICBmdW5jRnJhZ21lbnRzLnB1c2gocHJvcGVydHkuY29kZSk7XG4gICAgY29uc3QgYXR0cmlidXRlSW5mbyA9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KHByb3BlcnR5LmZvcm1hdCk7XG4gICAgb2Zmc2V0ICs9IGF0dHJpYnV0ZUluZm8uc3RyaWRlIC8gNDtcbiAgfVxuICBmdW5jRnJhZ21lbnRzLnB1c2goYFxuICAgICAgICAgICAgaW5kZXggKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIGApO1xuICBmdW5jRnJhZ21lbnRzLnVuc2hpZnQoYFxuICAgICAgICB2YXIgc3RyaWRlID0gJHtvZmZzZXR9O1xuICAgIGApO1xuICBjb25zdCBmdW5jdGlvblNvdXJjZSA9IGZ1bmNGcmFnbWVudHMuam9pbihcIlxcblwiKTtcbiAgcmV0dXJuIG5ldyBGdW5jdGlvbihcInBzXCIsIFwiZjMydlwiLCBcInUzMnZcIiwgZnVuY3Rpb25Tb3VyY2UpO1xufVxuXG5leHBvcnQgeyBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlUGFydGljbGVVcGRhdGVGdW5jdGlvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9idWZmZXIvQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXJVc2FnZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9jb25zdC5tanMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS9HZW9tZXRyeS5tanMnO1xuaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9nZW9tZXRyeS91dGlscy9nZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdC5tanMnO1xuaW1wb3J0IHsgVmlld2FibGVCdWZmZXIgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kYXRhL1ZpZXdhYmxlQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbmRpY2VzRm9yUXVhZHMgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZUluZGljZXNGb3JRdWFkcy5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uIH0gZnJvbSAnLi91dGlscy9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBQYXJ0aWNsZUJ1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9zaXplID0gMDtcbiAgICB0aGlzLl9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlQ2FjaGUgPSB7fTtcbiAgICBjb25zdCBzaXplID0gdGhpcy5fc2l6ZSA9IG9wdGlvbnMuc2l6ZSA/PyAxZTM7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IG9wdGlvbnMucHJvcGVydGllcztcbiAgICBsZXQgc3RhdGljVmVydGV4U2l6ZSA9IDA7XG4gICAgbGV0IGR5bmFtaWNWZXJ0ZXhTaXplID0gMDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gcHJvcGVydGllcykge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgY29uc3QgYXR0cmlidXRlSW5mbyA9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KHByb3BlcnR5LmZvcm1hdCk7XG4gICAgICBpZiAocHJvcGVydHkuZHluYW1pYykge1xuICAgICAgICBkeW5hbWljVmVydGV4U2l6ZSArPSBhdHRyaWJ1dGVJbmZvLnN0cmlkZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRpY1ZlcnRleFNpemUgKz0gYXR0cmlidXRlSW5mby5zdHJpZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2R5bmFtaWNTdHJpZGUgPSBkeW5hbWljVmVydGV4U2l6ZSAvIDQ7XG4gICAgdGhpcy5fc3RhdGljU3RyaWRlID0gc3RhdGljVmVydGV4U2l6ZSAvIDQ7XG4gICAgdGhpcy5zdGF0aWNBdHRyaWJ1dGVCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIoc2l6ZSAqIDQgKiBzdGF0aWNWZXJ0ZXhTaXplKTtcbiAgICB0aGlzLmR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIgPSBuZXcgVmlld2FibGVCdWZmZXIoc2l6ZSAqIDQgKiBkeW5hbWljVmVydGV4U2l6ZSk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplKTtcbiAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuICAgIGxldCBkeW5hbWljT2Zmc2V0ID0gMDtcbiAgICBsZXQgc3RhdGljT2Zmc2V0ID0gMDtcbiAgICB0aGlzLl9zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkoMSksXG4gICAgICBsYWJlbDogXCJzdGF0aWMtcGFydGljbGUtYnVmZmVyXCIsXG4gICAgICBzaHJpbmtUb0ZpdDogZmFsc2UsXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVkVSVEVYIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KTtcbiAgICB0aGlzLl9keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBuZXcgRmxvYXQzMkFycmF5KDEpLFxuICAgICAgbGFiZWw6IFwiZHluYW1pYy1wYXJ0aWNsZS1idWZmZXJcIixcbiAgICAgIHNocmlua1RvRml0OiBmYWxzZSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5WRVJURVggfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pO1xuICAgIGZvciAoY29uc3QgaSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG4gICAgICBjb25zdCBhdHRyaWJ1dGVJbmZvID0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQocHJvcGVydHkuZm9ybWF0KTtcbiAgICAgIGlmIChwcm9wZXJ0eS5keW5hbWljKSB7XG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLCB7XG4gICAgICAgICAgYnVmZmVyOiB0aGlzLl9keW5hbWljQnVmZmVyLFxuICAgICAgICAgIHN0cmlkZTogdGhpcy5fZHluYW1pY1N0cmlkZSAqIDQsXG4gICAgICAgICAgb2Zmc2V0OiBkeW5hbWljT2Zmc2V0ICogNCxcbiAgICAgICAgICBmb3JtYXQ6IHByb3BlcnR5LmZvcm1hdFxuICAgICAgICB9KTtcbiAgICAgICAgZHluYW1pY09mZnNldCArPSBhdHRyaWJ1dGVJbmZvLnNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUocHJvcGVydHkuYXR0cmlidXRlTmFtZSwge1xuICAgICAgICAgIGJ1ZmZlcjogdGhpcy5fc3RhdGljQnVmZmVyLFxuICAgICAgICAgIHN0cmlkZTogdGhpcy5fc3RhdGljU3RyaWRlICogNCxcbiAgICAgICAgICBvZmZzZXQ6IHN0YXRpY09mZnNldCAqIDQsXG4gICAgICAgICAgZm9ybWF0OiBwcm9wZXJ0eS5mb3JtYXRcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRpY09mZnNldCArPSBhdHRyaWJ1dGVJbmZvLnNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgIGNvbnN0IHVwbG9hZEZ1bmN0aW9uID0gdGhpcy5nZXRQYXJ0aWNsZVVwZGF0ZShwcm9wZXJ0aWVzKTtcbiAgICB0aGlzLl9keW5hbWljVXBsb2FkID0gdXBsb2FkRnVuY3Rpb24uZHluYW1pY1VwZGF0ZTtcbiAgICB0aGlzLl9zdGF0aWNVcGxvYWQgPSB1cGxvYWRGdW5jdGlvbi5zdGF0aWNVcGRhdGU7XG4gICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5O1xuICB9XG4gIGdldFBhcnRpY2xlVXBkYXRlKHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBrZXkgPSBnZXRQYXJ0aWNsZVN5bmNLZXkocHJvcGVydGllcyk7XG4gICAgaWYgKHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZVtrZXldKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlW2tleV07XG4gICAgfVxuICAgIHRoaXMuX2dlbmVyYXRlUGFydGljbGVVcGRhdGVDYWNoZVtrZXldID0gdGhpcy5nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlKHByb3BlcnRpZXMpO1xuICAgIHJldHVybiB0aGlzLl9nZW5lcmF0ZVBhcnRpY2xlVXBkYXRlQ2FjaGVba2V5XTtcbiAgfVxuICBnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlKHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUZ1bmN0aW9uKHByb3BlcnRpZXMpO1xuICB9XG4gIHVwZGF0ZShwYXJ0aWNsZXMsIHVwbG9hZFN0YXRpYykge1xuICAgIGlmIChwYXJ0aWNsZXMubGVuZ3RoID4gdGhpcy5fc2l6ZSkge1xuICAgICAgdXBsb2FkU3RhdGljID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3NpemUgPSBNYXRoLm1heChwYXJ0aWNsZXMubGVuZ3RoLCB0aGlzLl9zaXplICogMS41IHwgMCk7XG4gICAgICB0aGlzLnN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcih0aGlzLl9zaXplICogdGhpcy5fc3RhdGljU3RyaWRlICogNCAqIDQpO1xuICAgICAgdGhpcy5keW5hbWljQXR0cmlidXRlQnVmZmVyID0gbmV3IFZpZXdhYmxlQnVmZmVyKHRoaXMuX3NpemUgKiB0aGlzLl9keW5hbWljU3RyaWRlICogNCAqIDQpO1xuICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLl9zaXplKTtcbiAgICAgIHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuc2V0RGF0YVdpdGhTaXplKFxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLFxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLmR5bmFtaWNBdHRyaWJ1dGVCdWZmZXI7XG4gICAgdGhpcy5fZHluYW1pY1VwbG9hZChwYXJ0aWNsZXMsIGR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsIGR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldyk7XG4gICAgdGhpcy5fZHluYW1pY0J1ZmZlci5zZXREYXRhV2l0aFNpemUoXG4gICAgICB0aGlzLmR5bmFtaWNBdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsXG4gICAgICBwYXJ0aWNsZXMubGVuZ3RoICogdGhpcy5fZHluYW1pY1N0cmlkZSAqIDQsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgICBpZiAodXBsb2FkU3RhdGljKSB7XG4gICAgICBjb25zdCBzdGF0aWNBdHRyaWJ1dGVCdWZmZXIgPSB0aGlzLnN0YXRpY0F0dHJpYnV0ZUJ1ZmZlcjtcbiAgICAgIHRoaXMuX3N0YXRpY1VwbG9hZChwYXJ0aWNsZXMsIHN0YXRpY0F0dHJpYnV0ZUJ1ZmZlci5mbG9hdDMyVmlldywgc3RhdGljQXR0cmlidXRlQnVmZmVyLnVpbnQzMlZpZXcpO1xuICAgICAgdGhpcy5fc3RhdGljQnVmZmVyLnNldERhdGFXaXRoU2l6ZShcbiAgICAgICAgc3RhdGljQXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3LFxuICAgICAgICBwYXJ0aWNsZXMubGVuZ3RoICogdGhpcy5fc3RhdGljU3RyaWRlICogNCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9zdGF0aWNCdWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuX2R5bmFtaWNCdWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuZ2VvbWV0cnkuZGVzdHJveSgpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRQYXJ0aWNsZVN5bmNLZXkocHJvcGVydGllcykge1xuICBjb25zdCBrZXlHZW4gPSBbXTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcGVydGllcykge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1trZXldO1xuICAgIGtleUdlbi5wdXNoKGtleSwgcHJvcGVydHkuY29kZSwgcHJvcGVydHkuZHluYW1pYyA/IFwiZFwiIDogXCJzXCIpO1xuICB9XG4gIHJldHVybiBrZXlHZW4uam9pbihcIl9cIik7XG59XG5cbmV4cG9ydCB7IFBhcnRpY2xlQnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXJ0aWNsZUJ1ZmZlci5tanMubWFwXG4iLCJ2YXIgd2dzbCA9IFwiXFxuc3RydWN0IFBhcnRpY2xlVW5pZm9ybXMge1xcbiAgdVRyYW5zbGF0aW9uTWF0cml4Om1hdDN4MzxmMzI+LFxcbiAgdUNvbG9yOnZlYzQ8ZjMyPixcXG4gIHVSb3VuZDpmMzIsXFxuICB1UmVzb2x1dGlvbjp2ZWMyPGYzMj4sXFxufTtcXG5cXG5mbiByb3VuZFBpeGVscyhwb3NpdGlvbjogdmVjMjxmMzI+LCB0YXJnZXRTaXplOiB2ZWMyPGYzMj4pIC0+IHZlYzI8ZjMyPlxcbntcXG4gIHJldHVybiAoZmxvb3IoKChwb3NpdGlvbiAqIDAuNSArIDAuNSkgKiB0YXJnZXRTaXplKSArIDAuNSkgLyB0YXJnZXRTaXplKSAqIDIuMCAtIDEuMDtcXG59XFxuXFxuQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogUGFydGljbGVVbmlmb3JtcztcXG5cXG5AZ3JvdXAoMSkgQGJpbmRpbmcoMCkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XFxuQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB1U2FtcGxlciA6IHNhbXBsZXI7XFxuXFxuc3RydWN0IFZTT3V0cHV0IHtcXG4gICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0PGYzMj4sXFxuICAgIEBsb2NhdGlvbigwKSB1diA6IHZlYzI8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDEpIGNvbG9yIDogdmVjNDxmMzI+LFxcbiAgfTtcXG5AdmVydGV4XFxuZm4gbWFpblZlcnRleChcXG4gIEBsb2NhdGlvbigwKSBhVmVydGV4OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgYVBvc2l0aW9uOiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMikgYVVWOiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMykgYUNvbG9yOiB2ZWM0PGYzMj4sXFxuICBAbG9jYXRpb24oNCkgYVJvdGF0aW9uOiBmMzIsXFxuKSAtPiBWU091dHB1dCB7XFxuICBcXG4gICBsZXQgdiA9IHZlYzIoXFxuICAgICAgIGFWZXJ0ZXgueCAqIGNvcyhhUm90YXRpb24pIC0gYVZlcnRleC55ICogc2luKGFSb3RhdGlvbiksXFxuICAgICAgIGFWZXJ0ZXgueCAqIHNpbihhUm90YXRpb24pICsgYVZlcnRleC55ICogY29zKGFSb3RhdGlvbilcXG4gICApICsgYVBvc2l0aW9uO1xcblxcbiAgIHZhciBwb3NpdGlvbiA9IHZlYzQoKHVuaWZvcm1zLnVUcmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICBpZih1bmlmb3Jtcy51Um91bmQgPT0gMS4wKSB7XFxuICAgICAgIHBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyhwb3NpdGlvbi54eSwgdW5pZm9ybXMudVJlc29sdXRpb24pLCBwb3NpdGlvbi56dyk7XFxuICAgfVxcblxcbiAgICBsZXQgdkNvbG9yID0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKSAqIHVuaWZvcm1zLnVDb2xvcjtcXG5cXG4gIHJldHVybiBWU091dHB1dChcXG4gICBwb3NpdGlvbixcXG4gICBhVVYsXFxuICAgdkNvbG9yLFxcbiAgKTtcXG59XFxuXFxuQGZyYWdtZW50XFxuZm4gbWFpbkZyYWdtZW50KFxcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyPGYzMj4sXFxuICBAbG9jYXRpb24oMSkgY29sb3I6IHZlYzQ8ZjMyPixcXG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNDxmMzI+LFxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuXFxuICAgIHZhciBzYW1wbGUgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdXYpICogY29sb3I7XFxuICAgXFxuICAgIHJldHVybiBzYW1wbGU7XFxufVwiO1xuXG5leHBvcnQgeyB3Z3NsIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy53Z3NsLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uLy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU3R5bGUgfSBmcm9tICcuLi8uLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVTdHlsZS5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vcGFydGljbGVzLmZyYWcubWpzJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9wYXJ0aWNsZXMudmVydC5tanMnO1xuaW1wb3J0IHdnc2wgZnJvbSAnLi9wYXJ0aWNsZXMud2dzbC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFBhcnRpY2xlU2hhZGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4LFxuICAgICAgZnJhZ21lbnRcbiAgICB9KTtcbiAgICBjb25zdCBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKHtcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIHNvdXJjZTogd2dzbCxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluRnJhZ21lbnRcIlxuICAgICAgfSxcbiAgICAgIHZlcnRleDoge1xuICAgICAgICBzb3VyY2U6IHdnc2wsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblZlcnRleFwiXG4gICAgICB9XG4gICAgfSk7XG4gICAgc3VwZXIoe1xuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIHJlc291cmNlczoge1xuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGV4dHVyZSBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdVRleHR1cmU6IFRleHR1cmUuV0hJVEUuc291cmNlLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGV4dHVyZSBzdHlsZSBmcm9tIHRoZSBwYXJ0aWNsZSBjb250YWluZXJcbiAgICAgICAgdVNhbXBsZXI6IG5ldyBUZXh0dXJlU3R5bGUoe30pLFxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbG9jYWwgdW5pZm9ybXMgZnJvbSB0aGUgcGFydGljbGUgY29udGFpbmVyXG4gICAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgICAgdVRyYW5zbGF0aW9uTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgICAgIHVDb2xvcjogeyB2YWx1ZTogbmV3IENvbG9yKDE2Nzc3MjE1KSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgICAgIHVSb3VuZDogeyB2YWx1ZTogMSwgdHlwZTogXCJmMzJcIiB9LFxuICAgICAgICAgIHVSZXNvbHV0aW9uOiB7IHZhbHVlOiBbMCwgMF0sIHR5cGU6IFwidmVjMjxmMzI+XCIgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgUGFydGljbGVTaGFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlU2hhZGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXg7XFxuYXR0cmlidXRlIHZlYzIgYVVWO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdVRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVJvdW5kO1xcbnVuaWZvcm0gdmVjMiB1UmVzb2x1dGlvbjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52ZWMyIHJvdW5kUGl4ZWxzKHZlYzIgcG9zaXRpb24sIHZlYzIgdGFyZ2V0U2l6ZSlcXG57ICAgICAgIFxcbiAgICByZXR1cm4gKGZsb29yKCgocG9zaXRpb24gKiAwLjUgKyAwLjUpICogdGFyZ2V0U2l6ZSkgKyAwLjUpIC8gdGFyZ2V0U2l6ZSkgKiAyLjAgLSAxLjA7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgY29zUm90YXRpb24gPSBjb3MoYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgc2luUm90YXRpb24gPSBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeCA9IGFWZXJ0ZXgueCAqIGNvc1JvdGF0aW9uIC0gYVZlcnRleC55ICogc2luUm90YXRpb247XFxuICAgIGZsb2F0IHkgPSBhVmVydGV4LnggKiBzaW5Sb3RhdGlvbiArIGFWZXJ0ZXgueSAqIGNvc1JvdGF0aW9uO1xcblxcbiAgICB2ZWMyIHYgPSB2ZWMyKHgsIHkpO1xcbiAgICB2ID0gdiArIGFQb3NpdGlvbjtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh1VHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIGlmKHVSb3VuZCA9PSAxLjApXFxuICAgIHtcXG4gICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcXG4gICAgfVxcblxcbiAgICB2VVYgPSBhVVY7XFxuICAgIHZDb2xvciA9IHZlYzQoYUNvbG9yLnJnYiAqIGFDb2xvci5hLCBhQ29sb3IuYSkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG5leHBvcnQgeyB2ZXJ0ZXggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydGljbGVzLnZlcnQubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlVWO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VVYpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbmV4cG9ydCB7IGZyYWdtZW50IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5mcmFnLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQgfSBmcm9tICcuLi8uLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9nZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZUJ1ZmZlciB9IGZyb20gJy4vUGFydGljbGVCdWZmZXIubWpzJztcbmltcG9ydCB7IFBhcnRpY2xlU2hhZGVyIH0gZnJvbSAnLi9zaGFkZXIvUGFydGljbGVTaGFkZXIubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUge1xuICAvKipcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICogQHBhcmFtIGFkYXB0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIC8qKiBMb2NhbCB1bmlmb3JtcyB0aGF0IGFyZSB1c2VkIGZvciByZW5kZXJpbmcgcGFydGljbGVzLiAqL1xuICAgIHRoaXMubG9jYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdVRyYW5zbGF0aW9uTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdUNvbG9yOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1Um91bmQ6IHsgdmFsdWU6IDEsIHR5cGU6IFwiZjMyXCIgfSxcbiAgICAgIHVSZXNvbHV0aW9uOiB7IHZhbHVlOiBbMCwgMF0sIHR5cGU6IFwidmVjMjxmMzI+XCIgfVxuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLmFkYXB0b3IgPSBhZGFwdG9yO1xuICAgIHRoaXMuZGVmYXVsdFNoYWRlciA9IG5ldyBQYXJ0aWNsZVNoYWRlcigpO1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICB9XG4gIHZhbGlkYXRlUmVuZGVyYWJsZShfcmVuZGVyYWJsZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHJlbmRlcmFibGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHJlbmRlcmFibGUpO1xuICB9XG4gIGdldEJ1ZmZlcnMocmVuZGVyYWJsZSkge1xuICAgIHJldHVybiByZW5kZXJhYmxlLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXSB8fCB0aGlzLl9pbml0QnVmZmVyKHJlbmRlcmFibGUpO1xuICB9XG4gIF9pbml0QnVmZmVyKHJlbmRlcmFibGUpIHtcbiAgICByZW5kZXJhYmxlLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXSA9IG5ldyBQYXJ0aWNsZUJ1ZmZlcih7XG4gICAgICBzaXplOiByZW5kZXJhYmxlLnBhcnRpY2xlQ2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgcHJvcGVydGllczogcmVuZGVyYWJsZS5fcHJvcGVydGllc1xuICAgIH0pO1xuICAgIHJldHVybiByZW5kZXJhYmxlLl9ncHVEYXRhW3RoaXMucmVuZGVyZXIudWlkXTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKF9yZW5kZXJhYmxlKSB7XG4gIH1cbiAgZXhlY3V0ZShjb250YWluZXIpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IGNvbnRhaW5lci5wYXJ0aWNsZUNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVycyhjb250YWluZXIpO1xuICAgIGNvbnRhaW5lci50ZXh0dXJlIHx8IChjb250YWluZXIudGV4dHVyZSA9IGNoaWxkcmVuWzBdLnRleHR1cmUpO1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBidWZmZXIudXBkYXRlKGNoaWxkcmVuLCBjb250YWluZXIuX2NoaWxkcmVuRGlydHkpO1xuICAgIGNvbnRhaW5lci5fY2hpbGRyZW5EaXJ0eSA9IGZhbHNlO1xuICAgIHN0YXRlLmJsZW5kTW9kZSA9IGdldEFkanVzdGVkQmxlbmRNb2RlQmxlbmQoY29udGFpbmVyLmJsZW5kTW9kZSwgY29udGFpbmVyLnRleHR1cmUuX3NvdXJjZSk7XG4gICAgY29uc3QgdW5pZm9ybXMgPSB0aGlzLmxvY2FsVW5pZm9ybXMudW5pZm9ybXM7XG4gICAgY29uc3QgdHJhbnNmb3JtYXRpb25NYXRyaXggPSB1bmlmb3Jtcy51VHJhbnNsYXRpb25NYXRyaXg7XG4gICAgY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0cmFuc2Zvcm1hdGlvbk1hdHJpeCk7XG4gICAgdHJhbnNmb3JtYXRpb25NYXRyaXgucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5nbG9iYWxVbmlmb3JtRGF0YS5wcm9qZWN0aW9uTWF0cml4KTtcbiAgICB1bmlmb3Jtcy51UmVzb2x1dGlvbiA9IHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLmdsb2JhbFVuaWZvcm1EYXRhLnJlc29sdXRpb247XG4gICAgdW5pZm9ybXMudVJvdW5kID0gcmVuZGVyZXIuX3JvdW5kUGl4ZWxzIHwgY29udGFpbmVyLl9yb3VuZFBpeGVscztcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgY29udGFpbmVyLmdyb3VwQ29sb3JBbHBoYSxcbiAgICAgIHVuaWZvcm1zLnVDb2xvcixcbiAgICAgIDBcbiAgICApO1xuICAgIHRoaXMuYWRhcHRvci5leGVjdXRlKHRoaXMsIGNvbnRhaW5lcik7XG4gIH1cbiAgLyoqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLiAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIGlmICh0aGlzLmRlZmF1bHRTaGFkZXIpIHtcbiAgICAgIHRoaXMuZGVmYXVsdFNoYWRlci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmRlZmF1bHRTaGFkZXIgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBHbFBhcnRpY2xlQ29udGFpbmVyQWRhcHRvciB9IGZyb20gJy4uL2dsL0dsUGFydGljbGVDb250YWluZXJBZGFwdG9yLm1qcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfSBmcm9tICcuL1BhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdsUGFydGljbGVDb250YWluZXJQaXBlIGV4dGVuZHMgUGFydGljbGVDb250YWluZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICBzdXBlcihyZW5kZXJlciwgbmV3IEdsUGFydGljbGVDb250YWluZXJBZGFwdG9yKCkpO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzXG4gIF0sXG4gIG5hbWU6IFwicGFydGljbGVcIlxufTtcblxuZXhwb3J0IHsgR2xQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdsUGFydGljbGVDb250YWluZXJQaXBlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yIHtcbiAgZXhlY3V0ZShwYXJ0aWNsZUNvbnRhaW5lclBpcGUsIGNvbnRhaW5lcikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcGFydGljbGVDb250YWluZXJQaXBlLnJlbmRlcmVyO1xuICAgIGNvbnN0IHNoYWRlciA9IGNvbnRhaW5lci5zaGFkZXIgfHwgcGFydGljbGVDb250YWluZXJQaXBlLmRlZmF1bHRTaGFkZXI7XG4gICAgc2hhZGVyLmdyb3Vwc1swXSA9IHJlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaC5nZXRVbmlmb3JtQmluZEdyb3VwKHBhcnRpY2xlQ29udGFpbmVyUGlwZS5sb2NhbFVuaWZvcm1zLCB0cnVlKTtcbiAgICBzaGFkZXIuZ3JvdXBzWzFdID0gcmVuZGVyZXIudGV4dHVyZS5nZXRUZXh0dXJlQmluZEdyb3VwKGNvbnRhaW5lci50ZXh0dXJlKTtcbiAgICBjb25zdCBzdGF0ZSA9IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5zdGF0ZTtcbiAgICBjb25zdCBidWZmZXIgPSBwYXJ0aWNsZUNvbnRhaW5lclBpcGUuZ2V0QnVmZmVycyhjb250YWluZXIpO1xuICAgIHJlbmRlcmVyLmVuY29kZXIuZHJhdyh7XG4gICAgICBnZW9tZXRyeTogYnVmZmVyLmdlb21ldHJ5LFxuICAgICAgc2hhZGVyOiBjb250YWluZXIuc2hhZGVyIHx8IHBhcnRpY2xlQ29udGFpbmVyUGlwZS5kZWZhdWx0U2hhZGVyLFxuICAgICAgc3RhdGUsXG4gICAgICBzaXplOiBjb250YWluZXIucGFydGljbGVDaGlsZHJlbi5sZW5ndGggKiA2XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcHVQYXJ0aWNsZUNvbnRhaW5lckFkYXB0b3IubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yIH0gZnJvbSAnLi4vZ3B1L0dwdVBhcnRpY2xlQ29udGFpbmVyQWRhcHRvci5tanMnO1xuaW1wb3J0IHsgUGFydGljbGVDb250YWluZXJQaXBlIH0gZnJvbSAnLi9QYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUgZXh0ZW5kcyBQYXJ0aWNsZUNvbnRhaW5lclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHN1cGVyKHJlbmRlcmVyLCBuZXcgR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yKCkpO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuR3B1UGFydGljbGVDb250YWluZXJQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJwYXJ0aWNsZVwiXG59O1xuXG5leHBvcnQgeyBHcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdwdVBhcnRpY2xlQ29udGFpbmVyUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBHbFBhcnRpY2xlQ29udGFpbmVyUGlwZSB9IGZyb20gJy4vc2hhcmVkL0dsUGFydGljbGVDb250YWluZXJQaXBlLm1qcyc7XG5pbXBvcnQgeyBHcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUgfSBmcm9tICcuL3NoYXJlZC9HcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5leHRlbnNpb25zLmFkZChHbFBhcnRpY2xlQ29udGFpbmVyUGlwZSk7XG5leHRlbnNpb25zLmFkZChHcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5pdC5tanMubWFwXG4iXSwibmFtZXMiOlsibG9jYWxVbmlmb3JtQml0IiwibmFtZSIsInZlcnRleCIsImhlYWRlciIsIm1haW4iLCJlbmQiLCJsb2NhbFVuaWZvcm1CaXRHcm91cDIiLCJyZXBsYWNlIiwibG9jYWxVbmlmb3JtQml0R2wiLCJCYXRjaGFibGVUZXh0IiwiQmF0Y2hhYmxlU3ByaXRlIiwiY29uc3RydWN0b3IiLCJyZW5kZXJlciIsInN1cGVyIiwidGhpcyIsIl9yZW5kZXJlciIsInJ1bm5lcnMiLCJyZXNvbHV0aW9uQ2hhbmdlIiwiYWRkIiwidGV4dCIsInJlbmRlcmFibGUiLCJfYXV0b1Jlc29sdXRpb24iLCJvblZpZXdVcGRhdGUiLCJkZXN0cm95IiwiY2FudmFzVGV4dCIsImdldFJlZmVyZW5jZUNvdW50IiwiY3VycmVudEtleSIsImRlY3JlYXNlUmVmZXJlbmNlQ291bnQiLCJ0ZXh0dXJlIiwicmV0dXJuVGV4dHVyZSIsInJlbW92ZSIsIkNhbnZhc1RleHRQaXBlIiwidmFsaWRhdGVSZW5kZXJhYmxlIiwiZ3B1VGV4dCIsIl9nZXRHcHVUZXh0IiwibmV3S2V5Iiwic3R5bGVLZXkiLCJfZGlkVGV4dFVwZGF0ZSIsImFkZFJlbmRlcmFibGUiLCJpbnN0cnVjdGlvblNldCIsImJhdGNoYWJsZVRleHQiLCJyZXNvbHV0aW9uIiwiX3VwZGF0ZUdwdVRleHQiLCJ1cGRhdGVUZXh0Qm91bmRzIiwicmVuZGVyUGlwZXMiLCJiYXRjaCIsImFkZFRvQmF0Y2giLCJ1cGRhdGVSZW5kZXJhYmxlIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiX3Jlc29sdXRpb24iLCJnZXRNYW5hZ2VkVGV4dHVyZSIsIl9ncHVEYXRhIiwidWlkIiwiaW5pdEdwdVRleHQiLCJ0cmFuc2Zvcm0iLCJncm91cFRyYW5zZm9ybSIsImJvdW5kcyIsIm1pblgiLCJtYXhYIiwibWluWSIsIm1heFkiLCJyb3VuZFBpeGVscyIsIl9yb3VuZFBpeGVscyIsImV4dGVuc2lvbiIsInR5cGUiLCJXZWJHTFBpcGVzIiwiV2ViR1BVUGlwZXMiLCJDYW52YXNQaXBlcyIsIkNhbnZhc1RleHRTeXN0ZW0iLCJfYWN0aXZlVGV4dHVyZXMiLCJnZXRUZXh0dXJlIiwib3B0aW9ucyIsIl9zdHlsZSIsIl90ZXh0S2V5IiwiZGVwcmVjYXRpb24iLCJzdHlsZSIsIlRleHRTdHlsZSIsInRleHR1cmVTdHlsZSIsIlRleHR1cmVTdHlsZSIsInRvU3RyaW5nIiwiZnJhbWUiLCJjYW52YXNBbmRDb250ZXh0IiwiQ2FudmFzVGV4dEdlbmVyYXRvciIsImdldENhbnZhc0FuZENvbnRleHQiLCJnZXRQbzJUZXh0dXJlRnJvbVNvdXJjZSIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0Iiwic291cmNlIiwidHJpbSIsInBhZCIsInBhZGRpbmciLCJjb3B5RnJvbSIsInNjYWxlIiwidXBkYXRlVXZzIiwiZmlsdGVycyIsImZpbHRlcmVkVGV4dHVyZSIsIl9hcHBseUZpbHRlcnMiLCJyZXR1cm5DYW52YXNBbmRDb250ZXh0IiwiaW5pdFNvdXJjZSIsIl9zb3VyY2UiLCJyZXNvdXJjZSIsInVwbG9hZE1ldGhvZElkIiwiYWxwaGFNb2RlIiwiVGV4dHVyZVBvb2wiLCJyZW5kZXJUZXh0VG9DYW52YXMiLCJ0ZXh0S2V5IiwiX2luY3JlYXNlUmVmZXJlbmNlQ291bnQiLCJ1c2FnZUNvdW50IiwiYWN0aXZlVGV4dHVyZSIsImN1cnJlbnRSZW5kZXJUYXJnZXQiLCJyZW5kZXJUYXJnZXQiLCJyZXN1bHRUZXh0dXJlIiwiZmlsdGVyIiwiZ2VuZXJhdGVGaWx0ZXJlZFRleHR1cmUiLCJiaW5kIiwia2V5IiwiV2ViR0xTeXN0ZW0iLCJXZWJHUFVTeXN0ZW0iLCJDYW52YXNTeXN0ZW0iLCJiYXRjaGFibGVTcHJpdGUiLCJfZ2V0RmluYWxQYWRkaW5nIiwiX2FuY2hvciIsInBhZGRpbmdPZmZzZXQiLCJfeCIsInBhZGRpbmdPZmZzZXRZIiwiX3kiLCJ0ZW1wQm91bmRzIiwiaW1hZ2UiLCJnZXRPcHRpbWFsVGV4dHVyZSIsImVtaXQiLCJCYXRjaGFibGVIVE1MVGV4dCIsImdlbmVyYXRpbmdUZXh0dXJlIiwiaHRtbFRleHQiLCJyZXR1cm5UZXh0dXJlUHJvbWlzZSIsInRleHR1cmVQcm9taXNlIiwiSFRNTFRleHRQaXBlIiwiYmF0Y2hhYmxlSFRNTFRleHQiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJvbGRUZXh0dXJlUHJvbWlzZSIsImdldFRleHR1cmVQcm9taXNlIiwiZmluYWxseSIsInJlbmRlckdyb3VwIiwicGFyZW50UmVuZGVyR3JvdXAiLCJzdHJ1Y3R1cmVEaWRDaGFuZ2UiLCJUZXh0dXJlIiwiRU1QVFkiLCJuc3N2ZyIsIm5zeGh0bWwiLCJIVE1MVGV4dFJlbmRlckRhdGEiLCJzdmdSb290IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJmb3JlaWduT2JqZWN0IiwiZG9tRWxlbWVudCIsInN0eWxlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIm92ZXJmbG93IiwiYXBwZW5kQ2hpbGQiLCJnZXQiLCJjcmVhdGVJbWFnZSIsInNyYyIsIkZvbnRTdHlsZVByb21pc2VDYWNoZSIsIk1hcCIsInRlbXBIVE1MVGV4dFJlbmRlckRhdGEiLCJIVE1MVGV4dFN5c3RlbSIsIl9jcmVhdGVDYW52YXMiLCJXRUJHUFUiLCJwcm9taXNlIiwiX2J1aWxkVGV4dHVyZVByb21pc2UiLCJ0aGVuIiwiX2NsZWFuVXAiLCJ3YXJuIiwiaHRtbFRleHREYXRhIiwiZm9udEZhbWlsaWVzIiwiZm9udEZhbWlseSIsImRlZHVwZSIsIm1hdGNoZXMiLCJtYXRjaCIsImFkZEZvbnRGYW1pbHkiLCJmb250RmFtaWx5MiIsInB1c2giLCJBcnJheSIsImlzQXJyYXkiLCJpIiwibGVuZ3RoIiwiZm9yRWFjaCIsInNwbGl0IiwidGFnU3R5bGVzIiwiZXh0cmFjdEZvbnRGYW1pbGllcyIsImZvbnRDU1MiLCJhc3luYyIsImZvbnRQcm9taXNlcyIsIkNhY2hlIiwiaGFzIiwibWFwIiwiZW50cmllcyIsInByb21pc2VzIiwiZW50cnkiLCJ1cmwiLCJvdXQiLCJmYWNlcyIsImZhY2UiLCJ3ZWlnaHQiLCJkYXRhU3JjIiwicmVzcG9uc2UiLCJmZXRjaCIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbmxvYWRlbmQiLCJyZXN1bHQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsImxvYWRGb250QXNCYXNlNjQiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwibG9hZEZvbnRDU1MiLCJzZXQiLCJhbGwiLCJjc3MiLCJqb2luIiwiZ2V0Rm9udENzcyIsIm1lYXN1cmVkIiwiZm9udFN0eWxlQ1NTIiwiaHRtbFRleHRSZW5kZXJEYXRhIiwiaW5uZXJIVE1MIiwiY3NzU3R5bGUiLCJ0ZXh0Q29udGVudCIsImJvZHkiLCJjb250ZW50Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZG91YmxlUGFkZGluZyIsIm1lYXN1cmVIdG1sVGV4dCIsIk1hdGgiLCJjZWlsIiwibWF4Iiwic3ZnVVJMIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwiZ2V0U1ZHVXJsIiwiZGVsYXkiLCJyZXNvbHZlMiIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcm9zc09yaWdpbiIsImxvYWRTVkdJbWFnZSIsInVzZXJBZ2VudCIsImdldE5hdmlnYXRvciIsInRlc3QiLCJpc1NhZmFyaSIsIkNhbnZhc1Bvb2wiLCJnZXRPcHRpbWFsQ2FudmFzQW5kQ29udGV4dCIsImNvbnRleHQiLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJnZXRUZW1wb3JhcnlDYW52YXNGcm9tSW1hZ2UiLCJyZXR1cm4iLCJjb2xvcjMyQml0VG9Vbmlmb3JtIiwiYWJnciIsIm9mZnNldCIsImFscGhhIiwiRmlsdGVyUGlwZSIsImZpbHRlckVmZmVjdCIsImNvbnRhaW5lciIsImJyZWFrIiwicmVuZGVyUGlwZUlkIiwiY2FuQnVuZGxlIiwiYWN0aW9uIiwicG9wIiwiX2ZpbHRlckVmZmVjdCIsIl9jb250YWluZXIiLCJleGVjdXRlIiwiaW5zdHJ1Y3Rpb24iLCJQYXNzdGhyb3VnaEZpbHRlciIsIkZpbHRlciIsImdwdVByb2dyYW0iLCJHcHVQcm9ncmFtIiwiZnJvbSIsImZyYWdtZW50IiwiZ2xQcm9ncmFtIiwiR2xQcm9ncmFtIiwidGVtcFByb2plY3Rpb25NYXRyaXgiLCJNYXRyaXgiLCJxdWFkR2VvbWV0cnkiLCJHZW9tZXRyeSIsImF0dHJpYnV0ZXMiLCJhUG9zaXRpb24iLCJidWZmZXIiLCJGbG9hdDMyQXJyYXkiLCJmb3JtYXQiLCJzdHJpZGUiLCJpbmRleEJ1ZmZlciIsIlVpbnQzMkFycmF5IiwiRmlsdGVyRGF0YSIsInNraXAiLCJpbnB1dFRleHR1cmUiLCJiYWNrVGV4dHVyZSIsIkJvdW5kcyIsImJsZW5kUmVxdWlyZWQiLCJvdXRwdXRSZW5kZXJTdXJmYWNlIiwiZ2xvYmFsRnJhbWUiLCJ4IiwieSIsImZpcnN0RW5hYmxlZEluZGV4IiwibGFzdEVuYWJsZWRJbmRleCIsIkZpbHRlclN5c3RlbSIsIl9maWx0ZXJTdGFja0luZGV4IiwiX2ZpbHRlclN0YWNrIiwiX2ZpbHRlckdsb2JhbFVuaWZvcm1zIiwiVW5pZm9ybUdyb3VwIiwidUlucHV0U2l6ZSIsInZhbHVlIiwidUlucHV0UGl4ZWwiLCJ1SW5wdXRDbGFtcCIsInVPdXRwdXRGcmFtZSIsInVHbG9iYWxGcmFtZSIsInVPdXRwdXRUZXh0dXJlIiwiX2dsb2JhbEZpbHRlckJpbmRHcm91cCIsIkJpbmRHcm91cCIsImFjdGl2ZUJhY2tUZXh0dXJlIiwiX2FjdGl2ZUZpbHRlckRhdGEiLCJmaWx0ZXJEYXRhIiwiX3B1c2hGaWx0ZXJEYXRhIiwicmVuZGVyU3VyZmFjZSIsImNvbG9yVGV4dHVyZVNvdXJjZSIsImNvbG9yVGV4dHVyZSIsInJvb3RSZXNvbHV0aW9uIiwicm9vdEFudGlhbGlhcyIsImFudGlhbGlhcyIsImV2ZXJ5IiwiZW5hYmxlZCIsIl9jYWxjdWxhdGVGaWx0ZXJBcmVhIiwiX2NhbGN1bGF0ZUZpbHRlckJvdW5kcyIsInJvb3RWaWV3UG9ydCIsInByZXZpb3VzRmlsdGVyRGF0YSIsIl9nZXRQcmV2aW91c0ZpbHRlckRhdGEiLCJnbG9iYWxSZXNvbHV0aW9uIiwiX2ZpbmRGaWx0ZXJSZXNvbHV0aW9uIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJfY2FsY3VsYXRlR2xvYmFsRnJhbWUiLCJfc2V0dXBGaWx0ZXJUZXh0dXJlcyIsImFkZFJlY3QiLCJyZWN0YW5nbGUiLCJmaW5pc2hSZW5kZXJQYXNzIiwiX2FwcGx5RmlsdGVyc1RvVGV4dHVyZSIsIm91dHB1dFRleHR1cmUiLCJfcG9wRmlsdGVyRGF0YSIsImdsb2JhbFVuaWZvcm1zIiwiZ2V0QmFja1RleHR1cmUiLCJsYXN0UmVuZGVyU3VyZmFjZSIsInByZXZpb3VzQm91bmRzIiwiYmFja2dyb3VuZFJlc29sdXRpb24iLCJmbG9vciIsImNvcHlUb1RleHR1cmUiLCJhcHBseUZpbHRlciIsImlucHV0Iiwib3V0cHV0IiwiY2xlYXIiLCJpc0ZpbmFsVGFyZ2V0Iiwicm9vdFJlbmRlclRhcmdldCIsIl9maW5kUHJldmlvdXNGaWx0ZXJPZmZzZXQiLCJfdXBkYXRlRmlsdGVyVW5pZm9ybXMiLCJmaWx0ZXJUb0FwcGx5IiwiX2dldFBhc3N0aHJvdWdoRmlsdGVyIiwiX3NldHVwQmluZEdyb3Vwc0FuZFJlbmRlciIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsIm91dHB1dE1hdHJpeCIsInNwcml0ZSIsImRhdGEiLCJtYXBwZWRNYXRyaXgiLCJ3b3JsZFRyYW5zZm9ybSIsImNvcHlUbyIsInNoYXJlZCIsImNhY2hlVG9Mb2NhbFRyYW5zZm9ybSIsInByZXBlbmQiLCJpbnZlcnQiLCJvcmlnIiwidHJhbnNsYXRlIiwiYW5jaG9yIiwiX3Bhc3N0aHJvdWdoRmlsdGVyIiwidW5pZm9ybUJhdGNoIiwiYmF0Y2hVbmlmb3JtcyIsImdldFVib1Jlc291cmNlIiwic2V0UmVzb3VyY2UiLCJncm91cHMiLCJlbmNvZGVyIiwiZHJhdyIsImdlb21ldHJ5Iiwic2hhZGVyIiwic3RhdGUiLCJfc3RhdGUiLCJ0b3BvbG9neSIsIldFQkdMIiwiZ2V0UmVuZGVyVGFyZ2V0Iiwic291cmNlV2lkdGgiLCJzb3VyY2VIZWlnaHQiLCJ1bmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJwaXhlbFdpZHRoIiwicGl4ZWxIZWlnaHQiLCJyb290VGV4dHVyZSIsImlzUm9vdCIsInVwZGF0ZSIsImN1cnJlbnRJbmRleCIsImxhc3RJbmRleCIsInByZXZGaWx0ZXJEYXRhIiwicmVuZGVyYWJsZXMiLCJhY3R1YWxNYXRyaXgiLCJtYXRyaXgiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwiaXNDYWNoZWRBc1RleHR1cmUiLCJ0ZXh0dXJlT2Zmc2V0SW52ZXJzZVRyYW5zZm9ybSIsImFwcGVuZCIsIl9wYXJlbnRDYWNoZUFzVGV4dHVyZVJlbmRlckdyb3VwIiwiaW52ZXJzZVdvcmxkVHJhbnNmb3JtIiwiYWRkQm91bmRzIiwiZ2V0R2xvYmFsUmVuZGVyYWJsZUJvdW5kcyIsImZpbHRlckFyZWEiLCJhcHBseU1hdHJpeCIsImdldEZhc3RHbG9iYWxCb3VuZHMiLCJmaWx0ZXJGcmFtZVRyYW5zZm9ybSIsImZpcnN0RW5hYmxlZCIsImxhc3RFbmFibGVkIiwiYXBwbHkiLCJmbGlwIiwidGVtcFRleHR1cmUiLCJmbG9wIiwidCIsInZpZXdQb3J0IiwicGFkZGluZ011bHRpcGxpZXIiLCJJbmZpbml0eSIsImNsaXBUb1ZpZXdwb3J0IiwibWluIiwiY29tcGF0aWJsZVJlbmRlcmVycyIsImJhY2tCdWZmZXIiLCJ1c2VCYWNrQnVmZmVyIiwiZml0Qm91bmRzIiwiaXNQb3NpdGl2ZSIsImluZGV4IiwiUmVzaXplUGx1Z2luIiwiaW5pdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZG9tIiwiZ2xvYmFsVGhpcyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJxdWV1ZVJlc2l6ZSIsIl9yZXNpemVUbyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNpemUiLCJfY2FuY2VsUmVzaXplIiwiX3Jlc2l6ZUlkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlbmRlciIsInJlc2l6ZVRvIiwiQXBwbGljYXRpb24iLCJUaWNrZXJQbHVnaW4iLCJhc3NpZ24iLCJhdXRvU3RhcnQiLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwiTE9XIiwic3RvcCIsInN0YXJ0IiwiVGlja2VyIiwib2xkVGlja2VyIiwiX01lc2hHZW9tZXRyeSIsImFyZ3MiLCJwb3NpdGlvbnMiLCJ1dnMiLCJpbmRpY2VzIiwiZGVmYXVsdE9wdGlvbnMiLCJzaHJpbmtUb0ZpdCIsInNocmlua0J1ZmZlcnNUb0ZpdCIsImxhYmVsIiwidXNhZ2UiLCJWRVJURVgiLCJDT1BZX0RTVCIsImFVViIsIklOREVYIiwiYmF0Y2hNb2RlIiwiTWVzaEdlb21ldHJ5IiwiTWVzaEdwdURhdGEiLCJNZXNoUGlwZSIsImFkYXB0b3IiLCJsb2NhbFVuaWZvcm1zIiwidVRyYW5zZm9ybU1hdHJpeCIsInVDb2xvciIsInVSb3VuZCIsImxvY2FsVW5pZm9ybXNCaW5kR3JvdXAiLCJfYWRhcHRvciIsIm1lc2giLCJtZXNoRGF0YSIsIl9nZXRNZXNoRGF0YSIsIndhc0JhdGNoZWQiLCJiYXRjaGVkIiwiaXNCYXRjaGVkIiwiX2dlb21ldHJ5IiwiaW5kZXhTaXplIiwidmVydGV4U2l6ZSIsImJhdGNoYWJsZU1lc2giLCJfZ2V0QmF0Y2hhYmxlTWVzaCIsIl90ZXh0dXJlIiwiX3RleHR1cmVNYXRyaXhVcGRhdGVJZCIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsImJhdGNoZXIiLCJkaWRWaWV3VXBkYXRlIiwiZ3B1QmF0Y2hhYmxlTWVzaCIsInNldFRleHR1cmUiLCJpc1JlbmRlcmFibGUiLCJibGVuZE1vZGUiLCJnZXRBZGp1c3RlZEJsZW5kTW9kZUJsZW5kIiwiZ3JvdXBCbGVuZE1vZGUiLCJncm91cENvbG9yQWxwaGEiLCJfYSIsIl9iIiwiX2luaXRNZXNoRGF0YSIsIl9pbml0QmF0Y2hhYmxlTWVzaCIsImdwdU1lc2giLCJCYXRjaGFibGVNZXNoIiwibG9jYWxVbmlmb3JtTVNERkJpdCIsImxvY2FsVW5pZm9ybU1TREZCaXRHbCIsIm1TREZCaXQiLCJtU0RGQml0R2wiLCJTZGZTaGFkZXIiLCJTaGFkZXIiLCJtYXhUZXh0dXJlcyIsInVEaXN0YW5jZSIsImJpdHMiLCJjb2xvckJpdCIsImdlbmVyYXRlVGV4dHVyZUJhdGNoQml0Iiwicm91bmRQaXhlbHNCaXQiLCJyZXNvdXJjZXMiLCJiYXRjaFNhbXBsZXJzIiwiZ2V0QmF0Y2hTYW1wbGVyc1VuaWZvcm1Hcm91cCIsIkJpdG1hcFRleHRHcmFwaGljcyIsIkdyYXBoaWNzIiwiY3VzdG9tU2hhZGVyIiwiQml0bWFwVGV4dFBpcGUiLCJiaXRtYXBUZXh0IiwiZ3JhcGhpY3NSZW5kZXJhYmxlIiwiX2dldEdwdUJpdG1hcFRleHQiLCJncmFwaGljcyIsInN5bmNXaXRoUHJveHkiLCJfdXBkYXRlQ29udGV4dCIsIl91cGRhdGVEaXN0YW5jZUZpZWxkIiwicHJveHlHcmFwaGljcyIsImJpdG1hcEZvbnQiLCJCaXRtYXBGb250TWFuYWdlciIsImdldEZvbnQiLCJkaXN0YW5jZUZpZWxkIiwibGltaXRzIiwibWF4QmF0Y2hhYmxlVGV4dHVyZXMiLCJjaGFycyIsIkNhbnZhc1RleHRNZXRyaWNzIiwiZ3JhcGhlbWVTZWdtZW50ZXIiLCJjdXJyZW50WSIsImJhc2VMaW5lT2Zmc2V0IiwiYml0bWFwVGV4dExheW91dCIsImdldEJpdG1hcFRleHRMYXlvdXQiLCJ0eCIsInR5IiwiX3N0cm9rZSIsInRpbnQiLCJhcHBseUZpbGxBc1RpbnQiLCJfZmlsbCIsImNvbG9yIiwiZm9udFNpemUiLCJmb250TWV0cmljcyIsImxpbmVIZWlnaHQiLCJsaW5lUG9zaXRpb25ZU2hpZnQiLCJsaW5lcyIsImxpbmUiLCJqIiwiY2hhclBvc2l0aW9ucyIsImNoYXIiLCJjaGFyRGF0YSIsInJvdW5kIiwieE9mZnNldCIsInlPZmZzZXQiLCJwcm94eVJlbmRlcmFibGUiLCJkeW5hbWljRm9udCIsImEiLCJiIiwiYyIsImQiLCJkeCIsInNxcnQiLCJkeSIsIndvcmxkU2NhbGUiLCJhYnMiLCJmb250U2NhbGUiLCJiYXNlUmVuZGVyZWRGb250U2l6ZSIsImRpc3RhbmNlIiwicmFuZ2UiLCJwcm94eSIsImdyb3VwQ29sb3IiLCJsb2NhbERpc3BsYXlTdGF0dXMiLCJncm91cEFscGhhIiwiX0ZpbHRlciIsImZvcjJkIiwiYWRkUmVzb3VyY2UiLCJmaWx0ZXJNYW5hZ2VyIiwiY2xlYXJNb2RlIiwiZ3B1IiwiZ2wiLCJyZXN0IiwiX1BsYW5lR2VvbWV0cnkiLCJ2ZXJ0aWNlc1giLCJ2ZXJ0aWNlc1kiLCJidWlsZCIsInRvdGFsIiwidmVydHMiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsImJ1ZmZlcnMiLCJQbGFuZUdlb21ldHJ5IiwiX05pbmVTbGljZUdlb21ldHJ5IiwiX29yaWdpbmFsV2lkdGgiLCJvcmlnaW5hbFdpZHRoIiwiX29yaWdpbmFsSGVpZ2h0Iiwib3JpZ2luYWxIZWlnaHQiLCJfbGVmdFdpZHRoIiwibGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJyaWdodFdpZHRoIiwiX3RvcEhlaWdodCIsInRvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJib3R0b21IZWlnaHQiLCJfYW5jaG9yWCIsIl9hbmNob3JZIiwidXBkYXRlUG9zaXRpb25zIiwicCIsInciLCJzY2FsZVciLCJoIiwic2NhbGVIIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJnZXRCdWZmZXIiLCJfdXZ3IiwiX3V2aCIsIk5pbmVTbGljZUdlb21ldHJ5IiwiTmluZVNsaWNlU3ByaXRlR3B1RGF0YSIsIk5pbmVTbGljZVNwcml0ZVBpcGUiLCJncHVTcHJpdGUiLCJfZ2V0R3B1U3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZSIsIl9pbml0R1BVU3ByaXRlIiwiZ3B1RGF0YSIsImJsZW5kTW9kZUlkcyIsIm5vcm1hbCIsIm11bHRpcGx5Iiwic2NyZWVuIiwib3ZlcmxheSIsImVyYXNlIiwiX1N0YXRlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiZGVwdGhNYXNrIiwib2Zmc2V0cyIsImN1bGxNb2RlIiwiY3VsbGluZyIsImNsb2Nrd2lzZUZyb250RmFjZSIsImRlcHRoVGVzdCIsIl9ibGVuZE1vZGUiLCJfYmxlbmRNb2RlSWQiLCJfcG9seWdvbk9mZnNldCIsImRlZmF1bHQyZCIsIlN0YXRlIiwiYmF0Y2hlck5hbWUiLCJhdHRyaWJ1dGVTaXplIiwicGFja0FzUXVhZCIsIl9hdHRyaWJ1dGVTdGFydCIsIl9iYXRjaCIsInJlc2V0IiwidGlsaW5nQml0IiwidGlsaW5nQml0R2wiLCJUaWxpbmdTcHJpdGVTaGFkZXIiLCJ0aWxpbmdVbmlmb3JtcyIsInVNYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwidVRleHR1cmVUcmFuc2Zvcm0iLCJ1U2l6ZUFuY2hvciIsInVUZXh0dXJlIiwidVNhbXBsZXIiLCJ1cGRhdGVVbmlmb3JtcyIsImFuY2hvclgiLCJhbmNob3JZIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsInRleHR1cmVNYXRyaXgiLCJtYXBDb29yZCIsIlF1YWRHZW9tZXRyeSIsInNoYXJlZFF1YWQiLCJUaWxpbmdTcHJpdGVHcHVEYXRhIiwiY2FuQmF0Y2giLCJzbGljZSIsIlRpbGluZ1Nwcml0ZVBpcGUiLCJ0aWxpbmdTcHJpdGVEYXRhIiwiX2dldFRpbGluZ1Nwcml0ZURhdGEiLCJjb3VsZEJhdGNoIiwiX3VwZGF0ZUNhbkJhdGNoIiwidGlsaW5nU3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZU1lc2giLCJiaW5kR3JvdXAiLCJfdGlsZVRyYW5zZm9ybSIsIl9pbml0VGlsaW5nU3ByaXRlRGF0YSIsInJlbmRlcmFibGVEYXRhIiwiYWRkcmVzc01vZGUiLCJhcHBseUFuY2hvclRvVGV4dHVyZSIsImFycmF5Iiwic2l6ZSIsInNldFV2cyIsInNldFBvc2l0aW9ucyIsIl9ub25Qb3dPZjJ3cmFwcGluZyIsInN1cHBvcnRzIiwibm9uUG93T2Yyd3JhcHBpbmciLCJpc1NpbXBsZSIsImlzUG93ZXJPZlR3byIsImluZGV4T2Zmc2V0IiwiYXR0cmlidXRlT2Zmc2V0IiwiX3V2VXBkYXRlSWQiLCJfdG9wb2xvZ3kiLCJ1dkJ1ZmZlciIsInRyYW5zZm9ybWVkVXZzIiwiX3RyYW5zZm9ybWVkVXZzIiwiX3VwZGF0ZUlEIiwibXVsdGlwbHlVdnMiLCJHcmFwaGljc0dwdURhdGEiLCJiYXRjaGVzIiwiR3JhcGhpY3NQaXBlIiwiY29udGV4dENoYW5nZSIsImdwdUNvbnRleHQiLCJncmFwaGljc0NvbnRleHQiLCJ1cGRhdGVHcHVDb250ZXh0IiwiaXNCYXRjaGFibGUiLCJfcmVidWlsZCIsIl9hZGRUb0JhdGNoZXIiLCJfZ2V0R3B1RGF0YUZvclJlbmRlcmFibGUiLCJnZXRHcHVDb250ZXh0IiwiX3VwZGF0ZUJhdGNoZXNGb3JSZW5kZXJhYmxlIiwiYmF0Y2hQaXBlIiwiX2luaXRHcHVEYXRhRm9yUmVuZGVyYWJsZSIsImJhdGNoQ2xvbmUiLCJCYXRjaGFibGVHcmFwaGljcyIsIkdyYXBoaWNzQ29udGV4dFN5c3RlbSIsIkdsUGFydGljbGVDb250YWluZXJBZGFwdG9yIiwicGFydGljbGVDb250YWluZXJQaXBlIiwiZGVmYXVsdFNoYWRlciIsImdldEJ1ZmZlcnMiLCJnbFR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwicGFydGljbGVDaGlsZHJlbiIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsIlVpbnQxNkFycmF5IiwiRXJyb3IiLCJnZW5lcmF0ZVVwZGF0ZUZ1bmN0aW9uIiwicHJvcGVydGllcyIsImR5bmFtaWMiLCJmdW5jRnJhZ21lbnRzIiwicHJvcGVydHkiLCJjb2RlIiwiZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQiLCJ1bnNoaWZ0IiwiZnVuY3Rpb25Tb3VyY2UiLCJGdW5jdGlvbiIsIlBhcnRpY2xlQnVmZmVyIiwiX3NpemUiLCJfZ2VuZXJhdGVQYXJ0aWNsZVVwZGF0ZUNhY2hlIiwic3RhdGljVmVydGV4U2l6ZSIsImR5bmFtaWNWZXJ0ZXhTaXplIiwiYXR0cmlidXRlSW5mbyIsIl9keW5hbWljU3RyaWRlIiwiX3N0YXRpY1N0cmlkZSIsInN0YXRpY0F0dHJpYnV0ZUJ1ZmZlciIsIlZpZXdhYmxlQnVmZmVyIiwiZHluYW1pY0F0dHJpYnV0ZUJ1ZmZlciIsImR5bmFtaWNPZmZzZXQiLCJzdGF0aWNPZmZzZXQiLCJfc3RhdGljQnVmZmVyIiwiQnVmZmVyIiwiX2R5bmFtaWNCdWZmZXIiLCJhZGRBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwiYWRkSW5kZXgiLCJ1cGxvYWRGdW5jdGlvbiIsImdldFBhcnRpY2xlVXBkYXRlIiwiX2R5bmFtaWNVcGxvYWQiLCJkeW5hbWljVXBkYXRlIiwiX3N0YXRpY1VwbG9hZCIsInN0YXRpY1VwZGF0ZSIsImtleUdlbiIsImdldFBhcnRpY2xlU3luY0tleSIsImdlbmVyYXRlUGFydGljbGVVcGRhdGUiLCJnZW5lcmF0ZVBhcnRpY2xlVXBkYXRlRnVuY3Rpb24iLCJwYXJ0aWNsZXMiLCJ1cGxvYWRTdGF0aWMiLCJzZXREYXRhV2l0aFNpemUiLCJieXRlTGVuZ3RoIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3Iiwid2dzbCIsIlBhcnRpY2xlU2hhZGVyIiwiZW50cnlQb2ludCIsIldISVRFIiwidVRyYW5zbGF0aW9uTWF0cml4IiwiQ29sb3IiLCJ1UmVzb2x1dGlvbiIsIlBhcnRpY2xlQ29udGFpbmVyUGlwZSIsIl9yZW5kZXJhYmxlIiwiX2luaXRCdWZmZXIiLCJfcHJvcGVydGllcyIsImNoaWxkcmVuIiwiX2NoaWxkcmVuRGlydHkiLCJ0cmFuc2Zvcm1hdGlvbk1hdHJpeCIsImdsb2JhbFVuaWZvcm1EYXRhIiwicHJvamVjdGlvbk1hdHJpeCIsIkdsUGFydGljbGVDb250YWluZXJQaXBlIiwiR3B1UGFydGljbGVDb250YWluZXJBZGFwdG9yIiwiZ2V0VW5pZm9ybUJpbmRHcm91cCIsImdldFRleHR1cmVCaW5kR3JvdXAiLCJHcHVQYXJ0aWNsZUNvbnRhaW5lclBpcGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==